<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
































<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.6.0" rel="stylesheet" type="text/css">



  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.jpg?v=6.6.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.jpg?v=6.6.0">










<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.6.0',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
<meta property="og:type" content="website">
<meta property="og:title" content="mxxhcm&#39;s blog">
<meta property="og:url" content="http://mxxhcm.github.io/page/12/index.html">
<meta property="og:site_name" content="mxxhcm&#39;s blog">
<meta property="og:description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mxxhcm&#39;s blog">
<meta name="twitter:description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">



  <link rel="alternate" href="/atom.xml" title="mxxhcm's blog" type="application/atom+xml">




  <link rel="canonical" href="http://mxxhcm.github.io/page/12/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>mxxhcm's blog</title>
  












  <noscript>
  <style>
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion .logo-line-before i { left: initial; }
    .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">mxxhcm's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/13/cnn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/13/cnn/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/12/index.html">CNN</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-13 15:21:27" itemprop="dateCreated datePublished" datetime="2019-03-13T15:21:27+08:00">2019-03-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-06-07 22:02:09" itemprop="dateModified" datetime="2019-06-07T22:02:09+08:00">2019-06-07</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/æœºå™¨å­¦ä¹ /" itemprop="url" rel="index"><span itemprop="name">æœºå™¨å­¦ä¹ </span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="alexnet-2012">Alexnet(2012)</h2>
<h3 id="æ¦‚è¿°">æ¦‚è¿°</h3>
<p>ä½œè€…æå‡ºäº†ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œæ¶æ„å¯¹Imagenetä¸­$1000$ç±»ä¸­çš„$120$ä¸‡å¼ å›¾ç‰‡è¿›è¡Œåˆ†ç±»ã€‚ç½‘ç»œæ¶æ„åŒ…å«$5$ä¸ªå·ç§¯å±‚ï¼Œ$3$ä¸ªå…¨è¿æ¥å±‚ï¼Œå’Œä¸€ä¸ª$1000$-wayçš„softmaxå±‚ï¼Œæ•´ä¸ªç½‘ç»œå…±æœ‰$6000$ä¸‡å‚æ•°ï¼Œ$65000$ä¸ªç¥ç»å…ƒã€‚ä½œè€…æå‡ºäº†ä¸€äº›æ–¹æ³•æé«˜æ€§èƒ½å’Œå‡å°‘è®­ç»ƒçš„æ—¶é—´ï¼Œå¹¶ä¸”ä»‹ç»äº†ä¸€äº›é˜²æ­¢è¿‡æ‹Ÿåˆçš„æŠ€å·§ã€‚æœ€ååœ¨imagenetæµ‹è¯•é›†ä¸Šï¼Œè·‘å‡º$37.5%$çš„top-1 errorä»¥åŠ$17.0%$çš„top-5 errorã€‚</p>
<h3 id="é—®é¢˜">é—®é¢˜</h3>
<p>1.æ•°æ®é›†å¤ªå°ï¼Œéƒ½æ˜¯æ•°ä»¥ä¸‡è®¡çš„ï¼Œéœ€è¦æ›´å¤§çš„æ•°æ®é›†ã€‚</p>
<h3 id="åˆ›æ–°">åˆ›æ–°</h3>
<h4 id="reluéçº¿æ€§æ¿€æ´»å‡½æ•°">ReLUéçº¿æ€§æ¿€æ´»å‡½æ•°</h4>
<h5 id="ä½œç”¨">ä½œç”¨</h5>
<p>ä½œè€…è¯´å®éªŒè¡¨æ˜ReLUå¯ä»¥åŠ é€Ÿè®­ç»ƒè¿‡ç¨‹ã€‚</p>
<h5 id="saturating-nonlinearity">saturating nonlinearity</h5>
<p>ä¸€ä¸ªé¥±å’Œçš„æ¿€æ´»å‡½æ•°ä¼šå°†è¾“å‡ºæŒ¤å‹åˆ°ä¸€ä¸ªåŒºé—´å†…ã€‚</p>
<blockquote>
<p>A saturating activation function squeezes the input.</p>
</blockquote>
<p><strong>å®šä¹‰</strong><br>
fæ˜¯non-saturating å½“ä¸”ä»…å½“$|lim_{z\rightarrow -\infty} f(z)| \rightarrow + \infty$æˆ–è€…$|lim_{z\rightarrow +\infty} f(z)| \rightarrow + \infty$<br>
fæ˜¯saturating å½“ä¸”ä»…å½“fä¸æ˜¯non-saturating<br>
<strong>ä¾‹å­</strong><br>
ReLUå°±æ˜¯non-saturating nonlinearityçš„æ¿€æ´»å‡½æ•°ï¼Œå› ä¸º$f(x) = max(0, x)$ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚<br>
<img src="/2019/03/13/cnn/relu.png" alt="relu"><br>
å½“$x$è¶‹äºæ— ç©·æ—¶ï¼Œ$f(x)$ä¹Ÿè¶‹äºæ— ç©·ã€‚<br>
sigmodå’Œtanhæ˜¯saturating nonlinearityæ¿€æ´»å‡½æ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚<br>
<img src="/2019/03/13/cnn/sigmod.png" alt="sigmo"><br>
<img src="/2019/03/13/cnn/tanh.png" alt="tanh"></p>
<h4 id="å¤šå—gpuå¹¶è¡Œ">å¤šå—GPUå¹¶è¡Œ</h4>
<p>ä½œè€…ä½¿ç”¨äº†ä¸¤å—GPUä¸€å—è¿è¡Œï¼Œæ¯ä¸ªGPUä¸­çš„å‚æ•°ä¸ªæ•°æ˜¯ä¸€æ ·çš„ï¼Œåœ¨ä¸€äº›ç‰¹å®šå±‚ä¸­ï¼Œä¸¤ä¸ªGPUä¸­çš„å‚æ•°ä¿¡æ¯å¯ä»¥è¿›è¡Œé€šä¿¡ã€‚</p>
<h4 id="overlapping-pooling">Overlapping Pooling</h4>
<p>å°±æ˜¯Pooling kernelçš„sizeè¦æ¯”strideå¤§ã€‚æ¯”å¦‚ä¸€ä¸ª$12\times 12$çš„å›¾ç‰‡ï¼Œç”¨$5\times 5$çš„pooling kernelï¼Œæ­¥é•¿ä¸º$3$ï¼Œæ­¥é•¿è¦æ¯”kernelæ ¸å°ï¼Œå³$3$æ¯”$5$å°ã€‚<br>
ä¸ºä»€ä¹ˆè¿™èƒ½å‡å°è¿‡æ‹Ÿåˆï¼Ÿ</p>
<ul>
<li>å¯èƒ½æ˜¯å‡å°äº†Poolingè¿‡ç¨‹ä¸­ä¿¡æ¯çš„ä¸¢å¤±ã€‚</li>
</ul>
<blockquote>
<p>If the pooling regions do not overlap, the pooling regions are disjointed and if that is the case, more information is lost in each pooling layer. If some overlap is allowed the pooling regions overlap with some degree and less spatial information is lost in each layer.[4]</p>
</blockquote>
<h4 id="æ•°æ®å¢å¼º">æ•°æ®å¢å¼º</h4>
<p>ç›®çš„ï¼šé˜²æ­¢è¿‡æ‹Ÿåˆ</p>
<h5 id="è£å‰ªå’Œç¿»è½¬">è£å‰ªå’Œç¿»è½¬</h5>
<p>è¾“å…¥æ˜¯$256\times 256 \times 3$çš„å›¾åƒã€‚<br>
è®­ç»ƒï¼šå¯¹æ¯å¼ å›¾ç‰‡éƒ½æå–å¤šä¸ª$224\times 224$å¤§å°çš„patchï¼Œè¿™æ ·å­æ€»å…±å°±å¤šäº§ç”Ÿäº†$(256-224)\times (256-224) = 1024$ä¸ªæ ·æœ¬ï¼Œç„¶åå¯¹æ¯ä¸ªpatchåšä¸€ä¸ªæ°´å¹³ç¿»è½¬ï¼Œå°±æœ‰$1024\times 2 = 2048$ä¸ªæ ·æœ¬ã€‚<br>
æµ‹è¯•ï¼šé€šè¿‡å¯¹æ¯å¼ å›¾ç‰‡è£å‰ªäº”ä¸ªï¼ˆå››ä¸ªè§’è½åŠ ä¸­é—´ï¼‰$224\times 224$çš„patchesï¼Œå¹¶ä¸”å¯¹å®ƒä»¬åšç¿»è½¬ï¼Œä¹Ÿå°±æ˜¯æœ‰$10$ä¸ªpatchesï¼Œç½‘ç»œå¯¹åä¸ªpatchçš„softmaxå±‚è¾“å‡ºåšå¹³å‡ä½œä¸ºé¢„æµ‹ç»“æœã€‚</p>
<h5 id="åœ¨å›¾ç‰‡ä¸Šè°ƒæ•´rgbé€šé“çš„å¯†åº¦">åœ¨å›¾ç‰‡ä¸Šè°ƒæ•´RGBé€šé“çš„å¯†åº¦</h5>
<p>ä½¿ç”¨PCAå¯¹RGBå€¼åšä¸»æˆåˆ†åˆ†æã€‚å¯¹äºæ¯å¼ è®­ç»ƒå›¾ç‰‡ï¼ŒåŠ ä¸Šä¸»æˆåˆ†ï¼Œå…¶å¤§å°æ­£æ¯”äºç‰¹å¾å€¼ä¹˜ä¸Šä¸€ä¸ªå‡å€¼ä¸º$0$ï¼Œæ–¹å·®ä¸º$0.1$çš„é«˜æ–¯åˆ†å¸ƒäº§ç”Ÿçš„éšæœºå˜é‡ã€‚å¯¹äºä¸€å¼ å›¾ç‰‡$x,y$ç‚¹å¤„çš„åƒç´ å€¼$I_{xy}=[I_{xy}^R, I_{xy}<sup>G,I_{xy}</sup>B]^T$ï¼ŒåŠ ä¸Š$[\bold{p_1},\bold{p_2},\bold{p_3}][\alpha_1\lambda_1,\alpha_2\lambda_2,\alpha_3\lambda_3]$ï¼Œå…¶ä¸­$[\bold{p_1},\bold{p_2},\bold{p_3}]$æ˜¯ç‰¹å¾å‘é‡ï¼Œ$\lambda_i$æ˜¯ç‰¹å¾å€¼ï¼Œ$\alpha_i$å°±æ˜¯å‰é¢è¯´çš„éšæœºå˜é‡ã€‚</p>
<h4 id="dropout">Dropout</h4>
<p>é€šè¿‡å­¦ä¹ é²æ£’çš„ç‰¹å¾é˜²æ­¢è¿‡æ‹Ÿåˆã€‚<br>
åœ¨è®­ç»ƒçš„æ—¶å€™ï¼Œæ¯ä¸ªéšè—å•å…ƒçš„è¾“å‡ºæœ‰$p$çš„æ¦‚ç‡è¢«è®¾ç½®ä¸º$0$ï¼Œåœ¨è¯¥æ¬¡è®­ç»ƒä¸­ï¼Œå¦‚æœè¿™ä¸ªç¥ç»å…ƒçš„è¾“å‡ºè¢«è®¾ç½®ä¸º$0$ï¼Œå®ƒå°±å¯¹losså‡½æ•°æ²¡æœ‰è´¡çŒ®ï¼Œåå‘ä¼ æ’­ä¹Ÿä¸ä¼šè¢«æ›´æ–°ã€‚å¯¹äºä¸€å±‚æœ‰$N$ä¸ªç¥ç»å•å…ƒçš„å…¨è¿æ¥å±‚ï¼Œæ€»å…±æœ‰$2^N$ç§ç¥ç»å…ƒçš„ç»„åˆç»“æœï¼Œè¿™å°±ç›¸å½“äºè®­ç»ƒäº†ä¸€ç³»åˆ—å…±äº«å‚æ•°çš„æ¨¡å‹ã€‚<br>
åœ¨æµ‹è¯•çš„æ—¶å€™ï¼Œæ‰€æœ‰éšè—å•å…ƒçš„è¾“å‡ºéƒ½ä¸ä¸¢å¼ƒï¼Œä½†æ˜¯ä¼šä¹˜ä¸Š$p$çš„æ¦‚ç‡ï¼Œç›¸å½“äºå¯¹ä¸€ç³»åˆ—é›†æˆæ¨¡å‹å–å¹³å‡ã€‚å…·ä½“å¯è§<a href="https://mxxhcm.github.io/2019/03/23/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C-dropout/">dropout</a><br>
åœ¨è¯¥æ¨¡å‹ä¸­ï¼Œä½œè€…åœ¨ä¸‰å±‚å…¨è¿æ¥å±‚çš„å‰ä¸¤å±‚è¾“å‡ºä¸ŠåŠ äº†dropoutã€‚</p>
<h4 id="å±€éƒ¨å“åº”å½’ä¸€åŒ–-local-response-normalizaiton">å±€éƒ¨å“åº”å½’ä¸€åŒ–(Local Response Normalizaiton)</h4>
<p>äº‹å®ä¸Šï¼Œåæ¥å‘ç°è¿™ä¸ªä¸œè¥¿æ²¡å•¥ç”¨ã€‚ä½†æ˜¯è¿™é‡Œè¿˜æ˜¯ç»™å‡ºä¸€ä¸ªå…¬å¼ã€‚</p>
<p>$$ b^i_{x,y} = \frac{a^i_{x,y}}{(k+\alpha \sum<sup>{min(N-1,\frac{i+n}{2})}_{j=max(0,\frac{i-n}{2})}(a</sup>j_{x,y})^2)^{\beta}}$$<br>
å…¶ä¸­$a^i_{x,y}$æ˜¯åœ¨ç‚¹$(x,y)$å¤„ä½¿ç”¨kernel $i$ä¹‹åï¼Œåœ¨ç»è¿‡ReLUæ¿€æ´»å‡½æ•°ã€‚$k,n,\alpha,\beta$æ˜¯è¶…å‚æ•°ã€‚</p>
<blockquote>
<p>It seems that these kinds of layers have a minimal impact and are not used any more. Basically, their role have been outplayed by other regularization techniques (such as dropout and batch normalization), better initializations and training methods.</p>
</blockquote>
<h3 id="æ•´ä½“æ¶æ„">æ•´ä½“æ¶æ„</h3>
<h4 id="ç›®æ ‡å‡½æ•°">ç›®æ ‡å‡½æ•°</h4>
<p>å¤šå³°logisticå›å½’ã€‚</p>
<h4 id="å¹¶è¡Œæ¡†æ¶">å¹¶è¡Œæ¡†æ¶</h4>
<p>ä¸‹å›¾æ˜¯å¹¶è¡Œçš„æ¶æ„ï¼Œåˆ†ä¸ºä¸¤å±‚ï¼Œä¸Šé¢ä¸€å±‚ç”¨ä¸€ä¸ªGPUï¼Œä¸‹é¢ä¸€å±‚ç”¨ä¸€ä¸ªGPUï¼Œå®ƒä»¬åªåœ¨ç¬¬ä¸‰ä¸ªå·ç§¯å±‚æœ‰äº¤äº’ã€‚<br>
<img src="/2019/03/13/cnn/alexnet.png" alt="alexnet"></p>
<h4 id="ç®€åŒ–æ¡†æ¶">ç®€åŒ–æ¡†æ¶</h4>
<p>ä¸‹å›¾æ˜¯ç®€åŒ–ç‰ˆçš„ç»“æ„ï¼Œä¸éœ€è¦ä½¿ç”¨ä¸¤ä¸ªGPUã€‚<br>
<img src="/2019/03/13/cnn/alexnet_simple.png" alt="alexnet_simple"></p>
<h4 id="æ•°æ®æµ-ç®€åŒ–æ¡†æ¶">æ•°æ®æµï¼ˆç®€åŒ–æ¡†æ¶ï¼‰</h4>
<p>è¾“å…¥æ˜¯$224\times 224 \times 3$çš„å›¾ç‰‡ï¼Œç¬¬ä¸€å±‚æ˜¯$96$ä¸ªstrideä¸º$4$çš„$11\times 11\times 3$å·ç§¯æ ¸æ„æˆçš„å·ç§¯å±‚ï¼Œè¾“å‡ºç»è¿‡max pooling(æ­¥é•¿ä¸º2ï¼Œkernel sizeä¸º3)è¾“å…¥åˆ°ç¬¬äºŒå±‚ï¼›ç¬¬äºŒå±‚æœ‰$256$ä¸ª$5\times 5\times 96$ä¸ªå·ç§¯æ ¸ï¼Œè¾“å‡ºç»è¿‡max pooling(æ­¥é•¿ä¸º2ï¼Œkernel sizeä¸º3)è¾“å…¥åˆ°ç¬¬ä¸‰å±‚ï¼›ç¬¬ä¸‰å±‚åˆ°ç¬¬å››å±‚ï¼Œç¬¬å››å±‚åˆ°ç¬¬äº”å±‚ä¹‹é—´æ²¡æœ‰ç»è¿‡poolingå’Œnormalization)ï¼Œç¬¬ä¸‰å±‚æœ‰384ä¸ª$3\times 3\times 256$ä¸ªå·ç§¯æ ¸ï¼Œç¬¬å››å±‚æœ‰$384$ä¸ª$3\times 3\times 384$ä¸ªå·ç§¯æ ¸ï¼Œç¬¬äº”å±‚æœ‰$256$ä¸ª$3\times 3\times 384$ä¸ªå·ç§¯æ ¸ã€‚ç„¶åæ¥äº†ä¸¤ä¸ª$2048$ä¸ªç¥ç»å…ƒçš„å…¨è¿æ¥å±‚å’Œä¸€ä¸ª$1000$ä¸ªç¥ç»å…ƒçš„å…¨è¿æ¥å±‚ã€‚</p>
<h3 id="å®éªŒ">å®éªŒ</h3>
<h4 id="datasets">Datasets</h4>
<p>ILSVRC-2010</p>
<h4 id="baselines">Baselines</h4>
<ul>
<li>Sparse coding</li>
<li>SIFT+FV</li>
<li>CNN</li>
</ul>
<h4 id="metric">Metric</h4>
<ul>
<li>top-1 error rate</li>
<li>top-5 error rate</li>
</ul>
<h3 id="ä»£ç ">ä»£ç </h3>
<p>pytorchå®ç°<br>
<a href="https://github.com/mxxhcm/myown_code/blob/master/CNN/alexnet.py" target="_blank" rel="noopener">https://github.com/mxxhcm/myown_code/blob/master/CNN/alexnet.py</a></p>
<h2 id="overfeat-2013">OverFeat(2013)</h2>
<h3 id="æ¦‚è¿°-v2">æ¦‚è¿°</h3>
<p>æœ¬æ–‡æå‡ºäº†ä¸€ä¸ªå¯ç”¨äºclassification, localizationå’Œdetectionç­‰ä»»åŠ¡çš„CNNæ¡†æ¶ã€‚<br>
ImageNetæ•°æ®é›†ä¸­å¤§éƒ¨åˆ†é€‰æ‹©çš„æ˜¯å‡ ä¹å¡«æ»¡äº†æ•´ä¸ªimageä¸­å¿ƒçš„objectï¼Œimageä¸­æˆ‘ä»¬æ„Ÿå…´è¶£çš„objectsçš„å¤§å°å’Œä½ç½®ä¹Ÿå¯èƒ½å˜åŒ–å¾ˆå¤§ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½œè€…æå‡ºäº†ä¸‰ä¸ªæ–¹æ³•ï¼š</p>
<ol>
<li>ç”¨sliding windowå’Œmultiple scalesåœ¨imageçš„å¤šä¸ªä½ç½®apply ConvNetã€‚å³ä½¿è¿™æ ·ï¼Œè®¸å¤šwindowä¸­å¯èƒ½åŒ…å«èƒ½å¤Ÿå®Œç¾è¯†åˆ«objectç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ä¸€ä¸ªç‹—å¤´ã€‚ã€‚ã€‚æœ€åçš„ç»“æœæ˜¯classficationå¾ˆå¥½ï¼Œä½†æ˜¯localizationå’Œdetectionç»“æœå¾ˆå·®ã€‚</li>
<li>è®­ç»ƒä¸€ä¸ªç½‘ç»œä¸ä»…ä»…é¢„æµ‹æ¯ä¸€ä¸ªwindowçš„category distributionï¼Œè¿˜é¢„æµ‹åŒ…å«objectçš„bounding boxç›¸å¯¹äºwindowçš„ä½ç½®å’Œå¤§å°ã€‚</li>
<li>åœ¨æ¯ä¸ªä½ç½®å’Œå¤§å°ç´¯åŠ æ¯ä¸ªcategoryçš„evidence</li>
</ol>
<h3 id="visionä»»åŠ¡">Visionä»»åŠ¡</h3>
<p>classificationï¼Œlocalizationå’Œdetectionã€‚classificationå’Œlocalizationé€šå¸¸åªæœ‰ä¸€ä¸ªå¾ˆå¤§çš„objectï¼Œè€Œdetectionéœ€è¦æ‰¾åˆ°å¾ˆå¤šå¾ˆå°çš„objectsã€‚<br>
classificationä»»åŠ¡ä¸­ï¼Œæ¯ä¸ªimageéƒ½æœ‰ä¸€ä¸ªlabelå¯¹åº”imageä¸­ä¸»è¦çš„objectçš„ç±»å‹ã€‚ä¸ºäº†æ‰¾åˆ°æ­£ç¡®çš„labelï¼Œæ¯ä¸ªå›¾ç‰‡å¯ä»¥çŒœ$5$æ¬¡ï¼ˆå›¾ç‰‡ä¸­å¯èƒ½åŒ…å«äº†æ²¡æœ‰labelçš„æ•°æ®ï¼‰ã€‚localizationä»»åŠ¡ä¸­ï¼Œä¸ä»…è¦ç»™å‡ºlabelï¼Œè¿˜éœ€è¦æ‰¾åˆ°è¿™ä¸ªlabelå¯¹åº”çš„bouding boxï¼Œbounding boxå’Œgroundtruthè‡³å°‘è¦æœ‰$50$åŒ¹é…ï¼Œlabelå’Œbounding boxä¹Ÿéœ€è¦åŒ¹é…ã€‚detectionå’Œlocalizationä¸åŒçš„æ˜¯ï¼Œdetectionä»»åŠ¡ä¸­å¯ä»¥æœ‰ä»»ä½•æ•°é‡çš„objectsï¼Œfalse positiveä¼šä½¿ç”¨mean average precison measureã€‚localizationä»»åŠ¡å¯ä»¥çœ‹æˆclassificationåˆ°detectionä»»åŠ¡çš„ä¸€ä¸ªä¸­é—´æ­¥ã€‚</p>
<h3 id="classification">Classification</h3>
<h4 id="training">training</h4>
<ul>
<li>datset<br>
Image 2012 trainign setï¼ˆ1.2million iamgesï¼ŒC=$1000$ classes)ã€‚</li>
<li>data argumented<br>
å¯¹æ¯å¼ å›¾ç‰‡è¿›è¡Œä¸‹é‡‡æ ·ï¼Œæ‰€ä»¥æ¯ä¸ªå›¾ç‰‡æœ€å°çš„dimensionéœ€è¦æ˜¯$256$ã€‚<br>
æå–$5$ä¸ªrandom cropsä»¥åŠhorizaontal flipsï¼Œæ€»å…±$10$ä¸ª$221\times 221$çš„å›¾ç‰‡</li>
<li>batchsize<br>
$128$</li>
<li>åˆå§‹æƒé‡<br>
$(\mu, \simga)= (0, 1\times 10^{-2})$</li>
<li>momentum<br>
0.6</li>
<li>l2 weigth decay<br>
$1\times 10^{-5}$</li>
<li>lr<br>
åˆå§‹æ˜¯$5\times 10^{-2}$ï¼Œåœ¨$(30,50,60,70,80)$ä¸ªepochesåï¼Œä¹˜ä»¥$0.5$</li>
<li>non-spatial<br>
è¿™ä¸ªè¯´çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Œåœ¨testçš„æ—¶å€™ï¼Œä¼šè¾“å‡ºå¤šä¸ªoutput mapsï¼Œå¯¹ä»–ä»¬çš„ç»“æœåšå¹³å‡ï¼Œè€Œåœ¨trainingçš„æ—¶å€™ï¼Œoutput mapsæ˜¯$1\times 1$ã€‚</li>
</ul>
<h4 id="fast-modelæ¶æ„">fast modelæ¶æ„</h4>
<p>ä¸‹å›¾å±•ç¤ºçš„æ˜¯fast modelï¼Œspatial input sizeåœ¨trainå’Œtestæ—¶å€™æ˜¯ä¸åŒçš„ï¼Œè¿™é‡Œå±•ç¤ºçš„æ˜¯trainæ—¶çš„spatial seizeã€‚layer 5æ˜¯æœ€ä¸Šå±‚çš„CNNï¼Œreceptive filedæœ€å¤§ã€‚åç»­æ˜¯FC layersï¼Œåœ¨testæ—¶å€™ä½¿ç”¨äº†sliding windowã€‚åœ¨spatialè®¾ç½®ä¸­ï¼ŒFC-layerså¯ä»¥æŸ¥çœ‹$1\times 1$çš„å·ç§¯ã€‚<br>
<img src="/2019/03/13/cnn/overfeat_fast.png" alt="overfeat_fast"><br>
<img src="/2019/03/13/cnn/overfeat_accuarcy.png" alt="overfeat_accuarcy"></p>
<h4 id="å¤šscale-classification">å¤šscale classification</h4>
<p>alexnetä¸­ï¼Œå¯¹ä¸€å¼ ç…§ç‰‡çš„$10$ä¸ªviewsï¼ˆä¸­é—´ï¼Œå››ä¸ªè§’å’Œhorizontal flip)çš„ç»“æœåšäº†å¹³å‡ï¼Œè¿™ç§æ–¹å¼å¯èƒ½ä¼šå¿½ç•¥å¾ˆå¤šè¶‹äºï¼ŒåŒæ—¶å¦‚æœä¸åŒçš„viewsæœ‰é‡å çš„è¯ï¼Œè®¡ç®—å¾ˆredundantã€‚æ­¤å¤–ï¼Œalexnetä¸­åªä½¿ç”¨äº†ä¸€ä¸ªscaleã€‚<br>
ä½œè€…å¯¹æ¯ä¸ªiamgeçš„æ¯ä¸€ä¸ªlocationå’Œå¤šä¸ªscaleéƒ½è¿›è¡Œè®¡ç®—ã€‚</p>
<h2 id="vggnet-2013">Vggnet(2013)</h2>
<h3 id="æ¦‚è¿°-v3">æ¦‚è¿°</h3>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦ç ”ç©¶äº†CNNæ·±åº¦å¯¹å¤§è§„æ¨¡å›¾åƒè¯†åˆ«é—®é¢˜ç²¾åº¦çš„å½±å“ã€‚é€šè¿‡ä½¿ç”¨$3\times 3$çš„filtersï¼Œå¢åŠ CNNçš„æ·±åº¦ï¼Œæé«˜è¯†åˆ«ç²¾åº¦ã€‚</p>
<h3 id="æ–¹æ¡ˆ">æ–¹æ¡ˆ</h3>
<h4 id="æ¶æ„">æ¶æ„</h4>
<p><strong>è®­ç»ƒ</strong>ï¼Œè¾“å…¥$224\times 224$å¤§å°çš„RGBå›¾ç‰‡ã€‚å¯¹æ¯å¼ å›¾ç‰‡å‡å»è®­ç»ƒé›†ä¸Šæ‰€æœ‰å›¾ç‰‡RGB åƒç´ çš„å‡å€¼ã€‚é¢„å¤„ç†åçš„å›¾ç‰‡è¢«è¾“å…¥å¤šå±‚CNNä¸­ï¼ŒCNNçš„filteræ˜¯$3\times 3$çš„ï¼Œä½œä½•ä¹Ÿè¯•äº†$1\tims 1$çš„filterï¼Œç›¸å½“äºå¯¹è¾“å…¥åšäº†ä¸€ä¸ªçº¿æ€§å˜æ¢ï¼Œç´§è·Ÿç€ä¸€ä¸ªnon-linear æ¿€æ´»å‡½æ•°ã€‚strideè®¾ä¸º$1$ï¼Œæ·»åŠ paddingä½¿å¾—å·ç§¯åçš„è¾“å‡ºå¤§å°ä¸å˜ã€‚åŒæ—¶ä½¿ç”¨äº†$5$ä¸ªmax-poolingå±‚ï¼ˆå¹¶ä¸æ˜¯æ¯ä¸€å±‚cnnåé¢éƒ½æœ‰max-pooling)ï¼Œmax-poolingåœ¨$2\times 2$å¤§å°çš„çª—å£ä¸Šï¼Œstrideæ˜¯$2$ã€‚<br>
å¤šå±‚CNNåé¢æ¥çš„æ˜¯ä¸‰ä¸ªFC layersï¼Œå‰ä¸¤ä¸ªæ˜¯$4096$å•å…ƒï¼Œæœ€åä¸€å±‚æ˜¯$1000$ä¸ªå•å…ƒçš„softmaxã€‚æ‰€æœ‰éšè—å±‚éƒ½ä½¿ç”¨ReLuéçº¿æ€§æ¿€æ´»å‡½æ•°ã€‚</p>
<h4 id="é…ç½®">é…ç½®</h4>
<p>è¿™ç¯‡æ–‡ç« ç»™å‡ºäº†äº”ä¸ªç½‘ç»œæ¶æ„ï¼Œç”¨$A-E$è¡¨ç¤ºï¼Œå®ƒä»¬åªæœ‰åœ¨æ·±åº¦ä¸Šæœ‰æ‰€ä¸åŒï¼šä»$11$å±‚($8$ä¸ªconv layerså’Œ$3$ä¸ªFC layers)åˆ°$19$å±‚ï¼ˆ$16$ä¸ªconv layerså’Œ$3$ä¸ªFC layersï¼‰ã€‚Conv layersçš„channelså¾ˆå°ï¼Œä»ç¬¬ä¸€å±‚çš„$64$ï¼Œæ¯è¿‡ä¸€ä¸ªmax pooling layersï¼Œå˜æˆåŸç†å•Šçš„ä¸¤å€ï¼Œç›´åˆ°$512$ã€‚å…·ä½“å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚<br>
<img src="/2019/03/13/cnn/vgg_conf.png" alt="vgg_conf"><br>
ç½‘ç»œçš„å‚æ•°ä¸ªæ•°å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚<br>
<img src="/2019/03/13/cnn/vgg_weights_num.png" alt="vgg_weights_num"><br>
ç½‘ç»œ$A$çš„å‚æ•°è®¡ç®—ï¼š<br>
\begin{align*}<br>
64\times 3\times 3\times 3 + \\<br>
128\times 3\times 3\times 64 + \\<br>
256\times 3\times 3\times 128 + \\<br>
256\times 3\times 3\times 256 + \\<br>
512\times 3\times 3\times 256 + \\<br>
512\times 3\times 3\times 512 + \\<br>
2\times 512\times 3\times 3\times 512 + \\<br>
7\times 7\times 512\times 4096 + \\<br>
4096\times 4096 + \\<br>
4096\times 1000 = \\<br>
132851392<br>
\end{align*}<br>
ç½‘ç»œ$B$çš„å‚æ•°è®¡ç®—ï¼š<br>
\begin{align*}<br>
64\times 3\times 3\times 3 + \\<br>
128\times 3\times 3\times 64 + \\<br>
128\times 3\times 3\times 128 + \\<br>
256\times 3\times 3\times 128 + \\<br>
256\times 3\times 3\times 256 + \\<br>
256\times 3\times 3\times 256 + \\<br>
512\times 3\times 3\times 256 + \\<br>
512\times 3\times 3\times 512 + \\<br>
2\times 512\times 3\times 3\times 512 + \\<br>
7\times 7\times 512\times 4096 + \\<br>
4096\times 4096 + \\<br>
4096\times 1000 = \\<br>
133588672<br>
\end{align*}<br>
å…¶å®ä¸»è¦çš„ç½‘ç»œå‚æ•°è¿˜æ˜¯åœ¨å…¨è¿æ¥å±‚ï¼Œ$7\times 7\times 512\times 4096=102760448<br>
$ã€‚</p>
<h4 id="è®¨è®º">è®¨è®º</h4>
<ol>
<li>ä¸ºä»€ä¹ˆè¦ç”¨ä¸‰ä¸ª$3\times 3$çš„conv layersæ›¿æ¢$7\times 7$ä¸ªconv layersï¼Ÿ</li>
</ol>
<ul>
<li>ä½¿ç”¨ä¸‰ä¸ªæ¿€æ´»å‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªï¼Œè®©æ•´ä¸ªå†³ç­–æ›´discriminativeã€‚</li>
<li>å‡å°‘äº†ç½‘ç»œå‚æ•°ï¼Œä¸‰ä¸ªæœ‰$C$ä¸ªé€šé“çš„$3\times 3$conv layers,æ€»çš„å‚æ•°æ˜¯$3\tims(3<sup>2C</sup>2)=27C^2$ï¼Œè€Œä¸€ä¸ª$C$é€šé“çš„$7\times 7$ conv layersï¼Œæ€»å‚æ•°æ˜¯$49C^2$ã€‚å¯ä»¥çœ‹æˆæ˜¯ä¸€ç§æ­£åˆ™åŒ–ã€‚</li>
</ul>
<ol start="2">
<li>$1\times 1$ conv layersç”¨æ¥å¢åŠ éçº¿æ€§ç¨‹åº¦ï¼Œæœ¬æ–‡ä¸­ä½¿ç”¨çš„$1\times 1$çš„conv layerså¯ä»¥çœ‹æˆåŠ äº†éçº¿æ€§æ¿€æ´»å‡½æ•°çš„æŠ•å½±ã€‚</li>
</ol>
<h3 id="åˆ†ç±»æ¡†æ¶">åˆ†ç±»æ¡†æ¶</h3>
<h4 id="training-v2">training</h4>
<ul>
<li>ç›®æ ‡å‡½æ•°<br>
å¤šå³°logistic regression</li>
<li>è®­ç»ƒæ–¹æ³•<br>
mini-batch gradient descent with momentum</li>
<li>batch size<br>
256</li>
<li>momentum<br>
0.9</li>
<li>æ­£åˆ™åŒ–<br>
$L_2$å‚æ•°æ­£åˆ™åŒ–(5\codt 10^{-4})<br>
0.5 dorpout ç”¨äºå‰ä¸¤ä¸ªFC layers</li>
<li>lr<br>
åˆå§‹å€¼ä¸º$10^{-2}$ï¼Œå½“éªŒè¯é›†çš„accuracyä¸å†æå‡æ—¶ï¼Œé™¤ä»¥$10$ã€‚å­¦ä¹ ç‡æ€»å…±é™äº†$3$æ¬¡ï¼Œ$370K$æ¬¡è¿­ä»£ååœæ­¢ã€‚</li>
<li>å›¾åƒé¢„å¤„ç†<br>
ä»rescaledä¸­éšæœºcropped $224\times 224$çš„RGBå›¾åƒã€‚<br>
ä½¿ç”¨alexnetä¸­çš„éšæœºhorizontal flippingå’ŒéšæœºRGB colour shiftã€‚</li>
<li>iamge rescale<br>
ç”¨$S$è¡¨ç¤ºtraining imageçš„å°è¾¹çš„å¤§å°ï¼Œ$S$ä¹Ÿå«ä½œtrain sacleã€‚ç½‘ç»œçš„è¾“å…¥æ˜¯ä»training imageä¸­croppedå¾—åˆ°çš„$224\times 224$çš„å›¾åƒã€‚æ‰€ä»¥åªè¦$S$å–ä»»ä½•ä¸å°äº$224$çš„å€¼å³å¯ï¼Œå¦‚æœ$S=224$ï¼Œé‚£ä¹ˆcropåœ¨ç»Ÿè®¡ä¸Šä¼šcaptueræ•´ä¸ªå›¾ç‰‡ï¼Œå®Œå…¨åŒ…å«training imageæœ€å°çš„é‚£è¾¹ï¼›$S&gt;&gt;224$çš„æ—¶å€™ï¼Œcropä¼šäº§ç”Ÿå¾ˆå°ä¸€éƒ¨åˆ†çš„å›¾åƒã€‚<br>
ä½œè€…å°è¯•äº†å›ºå®š$S$å’Œä¸å›ºå®šçš„$S$ã€‚å¯¹äºå›ºå®š$S$ï¼Œè®¾ç½®$S=256$å’Œ$S=384$ï¼Œé¦–å…ˆåœ¨$S=256$ä¸Šè®­ç»ƒï¼Œç„¶åç”¨$S=256$è®­ç»ƒçš„å‚æ•°åˆå§‹åŒ–$S=384$çš„å‚æ•°ï¼Œä½¿ç”¨æ›´å°çš„åˆå§‹å­¦ä¹ ç‡$10^{-3}$ã€‚ä¸å›ºå®š$S$æ—¶ï¼Œ$S$ä»$[S_{min}, S_{max}](S_{max}=512,S_{min}=256)$ä»»æ„é‡‡æ ·ï¼Œç„¶åcropã€‚</li>
<li>VGG vs alexnet<br>
VGGå‚æ•°å¤šï¼Œæ·±åº¦æ·±ï¼Œä½†æ˜¯æ”¶æ•›å¿«ï¼ŒåŸå› ï¼š</li>
</ul>
<ol>
<li>æ›´å°çš„filterå¸¦æ¥çš„implicit regularisation</li>
<li>æŸäº›å±‚çš„é¢„å…ˆåˆå§‹åŒ–ã€‚<br>
è¿™ä¸ªè§£å†³çš„æ˜¯ç½‘ç»œæ·±åº¦è¿‡æ·±ï¼ŒæŸäº›åˆå€¼ä½¿å¾—ç½‘ç»œä¸ç¨³å®šçš„é—®é¢˜ã€‚è§£å†³æ–¹æ³•ï¼šå…ˆéšæœºåˆå§‹åŒ–ä¸æ˜¯å¾ˆæ·±çš„ç½‘ç»œAï¼Œè¿›è¡Œè®­ç»ƒã€‚åœ¨è®­ç»ƒæ›´æ·±ç½‘ç»œçš„æ—¶å€™ï¼Œä½¿ç”¨Aç½‘ç»œçš„å€¼åˆå§‹åŒ–å‰$4$ä¸ªå·åŸºå±‚å’Œæœ€åä¸‰ä¸ªFC layersã€‚éšæœºåˆå§‹åŒ–çš„ç½‘ç»œå‚æ•°ï¼Œä»å‡å€¼ä¸º$0$ï¼Œæ–¹å·®ä¸º$10^{-2}$çš„é«˜æ–¯åˆ†å¸ƒä¸­é‡‡æ ·å¾—åˆ°ã€‚</li>
</ol>
<h4 id="testing">testing</h4>
<p>æµ‹è¯•çš„æ—¶å€™å…ˆæŠŠinput imageçš„çª„è¾¹ç¼©æ”¾åˆ°$Q$ï¼Œ$Q$ä¹Ÿå«test scaleï¼Œ$Q$å’Œ$S$ä¸ä¸€å®šéœ€è¦ç›¸ç­‰ã€‚</p>
<h3 id="classfication">classfication</h3>
<p>ILSVRC-2012ï¼Œtraining($1.3M$å¼ å›¾ç‰‡)ï¼Œvalidation($50Kå¼ $)ï¼Œtesting($100K$å¼ )<br>
ä¸¤ä¸ªmetricsï¼štop-1å’Œtop-5 errorã€‚top-1 erroræ˜¯multi-class classification errorï¼Œä¸æ­£ç¡®åˆ†ç±»å›¾åƒå çš„æ¯”ä¾‹ï¼›top-5 erroræ˜¯é¢„æµ‹çš„top-5éƒ½ä¸æ˜¯ground-truthã€‚</p>
<h4 id="single-scale-evaluation">single scale evaluation</h4>
<p>$S$å›ºå®šæ—¶ï¼Œè®¾ç½®test image size $Q=S=256$ï¼›<br>
$S$æŠ–åŠ¨æ—¶ï¼Œè®¾ç½®test image size $Q=0.5(S_{min}+S_{max})=0.5(256+512)=384$ï¼Œ$S\in [S_{min},S_{max}]$ã€‚</p>
<h4 id="multi-scale-evaluation">multi scale evaluation</h4>
<p>ç”¨åŒä¸€ä¸ªæ¨¡å‹å¯¹ä¸åŒrescaledå¤§å°çš„å›¾ç‰‡å¤šæ¬¡testï¼Œå³å¯¹äºä¸åŒçš„$Q$ã€‚<br>
å›ºå®š$S$æ—¶ï¼Œåœ¨ä¸‰ä¸ªä¸åŒå¤§å°çš„test image size $Q={S-32,S,S+32}$è¯„ä¼°ã€‚<br>
$S$æŠ–åŠ¨æ—¶ï¼Œæ¨¡å‹æ˜¯åœ¨$S\in [S_{min},S_{max}]$ä¸Šè®­ç»ƒçš„ï¼Œåœ¨$Q={S_{min}, 0.5(S_{min}+S_{max}), S_{max}$ä¸Šè¿›è¡Œtestã€‚</p>
<h4 id="å¤šä¸ªcrop-evaluation">å¤šä¸ªcrop evaluation</h4>
<p>è¿™ä¸ªæ˜¯ä¸ºäº†å’Œalexnetåšå¯¹æ¯”ï¼Œalexnetç½‘ç»œåœ¨testingæ—¶ï¼Œå¯¹æ¯ä¸€å¼ å›¾ç‰‡éƒ½è¿›è¡Œå¤šæ¬¡croppedï¼Œå¯¹testingçš„ç»“æœåšå¹³å‡ã€‚</p>
<h4 id="convnet-funsion">convnet funsion</h4>
<p>ä¹‹å‰ä½œè€…çš„evaluationéƒ½æ˜¯åœ¨å•ä¸ªçš„ç½‘ç»œä¸Šè¿›è¡Œçš„ï¼Œä½œè€…è¿˜è¯•äº†å°†ä¸åŒç½‘ç»œçš„softmaxè¾“å‡ºåšäº†å¹³å‡ã€‚</p>
<h2 id="none"></h2>
<h3 id="æ¦‚è¿°-v4">æ¦‚è¿°</h3>
<h3 id="å­˜åœ¨çš„é—®é¢˜">å­˜åœ¨çš„é—®é¢˜</h3>
<h3 id="æ–¹æ¡ˆ-v2">æ–¹æ¡ˆ</h3>
<h4 id="èƒŒæ™¯">èƒŒæ™¯</h4>
<h4 id="ç®—æ³•">ç®—æ³•</h4>
<h4 id="ä»£ç -v2">ä»£ç </h4>
<h2 id="none-v2"></h2>
<h3 id="æ¦‚è¿°-v5">æ¦‚è¿°</h3>
<h3 id="å­˜åœ¨çš„é—®é¢˜-v2">å­˜åœ¨çš„é—®é¢˜</h3>
<h3 id="æ–¹æ¡ˆ-v3">æ–¹æ¡ˆ</h3>
<h4 id="èƒŒæ™¯-v2">èƒŒæ™¯</h4>
<h4 id="ç®—æ³•-v2">ç®—æ³•</h4>
<h4 id="ä»£ç -v3">ä»£ç </h4>
<h2 id="none-v3"></h2>
<h3 id="æ¦‚è¿°-å­˜åœ¨çš„é—®é¢˜">æ¦‚è¿° ### å­˜åœ¨çš„é—®é¢˜</h3>
<h3 id="æ–¹æ¡ˆ-v4">æ–¹æ¡ˆ</h3>
<h4 id="èƒŒæ™¯-v3">èƒŒæ™¯</h4>
<h4 id="ç®—æ³•-v3">ç®—æ³•</h4>
<h4 id="ä»£ç -v4">ä»£ç </h4>
<h2 id="none-v4"></h2>
<h3 id="æ¦‚è¿°-v6">æ¦‚è¿°</h3>
<h3 id="å­˜åœ¨çš„é—®é¢˜-v3">å­˜åœ¨çš„é—®é¢˜</h3>
<h3 id="æ–¹æ¡ˆ-v5">æ–¹æ¡ˆ</h3>
<h4 id="èƒŒæ™¯-v4">èƒŒæ™¯</h4>
<h4 id="ç®—æ³•-v4">ç®—æ³•</h4>
<h4 id="ä»£ç -v5">ä»£ç </h4>
<h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h2>
<p>1.<a href="https://stats.stackexchange.com/a/174438" target="_blank" rel="noopener">https://stats.stackexchange.com/a/174438</a><br>
2.<a href="https://www.zhihu.com/question/264163033/answer/277481519" target="_blank" rel="noopener">https://www.zhihu.com/question/264163033/answer/277481519</a><br>
3.<a href="https://stats.stackexchange.com/questions/145768/importance-of-local-response-normalization-in-cnn" target="_blank" rel="noopener">https://stats.stackexchange.com/questions/145768/importance-of-local-response-normalization-in-cnn</a><br>
4.<a href="https://stats.stackexchange.com/a/386304" target="_blank" rel="noopener">https://stats.stackexchange.com/a/386304</a><br>
5.<a href="https://blog.csdn.net/luoyang224/article/details/78088582/" target="_blank" rel="noopener">https://blog.csdn.net/luoyang224/article/details/78088582/</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/13/python-å¸¸è§é—®é¢˜/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/13/python-å¸¸è§é—®é¢˜/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/12/index.html">python å¸¸è§é—®é¢˜ï¼ˆä¸å®šæœŸæ›´æ–°ï¼‰</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-13 10:40:03" itemprop="dateCreated datePublished" datetime="2019-03-13T10:40:03+08:00">2019-03-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-06-03 20:47:05" itemprop="dateModified" datetime="2019-06-03T20:47:05+08:00">2019-06-03</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="é—®é¢˜1-â€˜dict-valuesâ€™-object-does-not-support-indexingâ€™"><a href="#é—®é¢˜1-â€˜dict-valuesâ€™-object-does-not-support-indexingâ€™" class="headerlink" title="é—®é¢˜1-â€˜dict_valuesâ€™ object does not support indexingâ€™"></a>é—®é¢˜1-â€˜dict_valuesâ€™ object does not support indexingâ€™</h2><p>å‚è€ƒæ–‡çŒ®[1,2,3]</p>
<h3 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;dict_values&apos; object does not support indexing&apos;</span><br></pre></td></tr></table></figure>
<h3 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h3><p>The objects returned by dict.keys(), dict.values() and dict.items() are view objects. They provide a dynamic view on the dictionaryâ€™s entries, which means that when the dictionary changes, the view reflects these changes.<br>python3 ä¸­è°ƒç”¨å­—å…¸å¯¹è±¡çš„ä¸€äº›å‡½æ•°ï¼Œè¿”å›å€¼æ˜¯view objectsã€‚å¦‚æœè¦è½¬æ¢ä¸ºlistçš„è¯ï¼Œéœ€è¦ä½¿ç”¨list()å¼ºåˆ¶è½¬æ¢ã€‚<br>è€Œpython2çš„è¿”å›å€¼ç›´æ¥å°±æ˜¯listã€‚</p>
<h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">m_dict = &#123;<span class="string">'a'</span>: <span class="number">10</span>, <span class="string">'b'</span>: <span class="number">20</span>&#125;</span><br><span class="line">values = m_dict.values()</span><br><span class="line">print(type(values))</span><br><span class="line">print(values)</span><br><span class="line">print(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">items = m_dict.items()</span><br><span class="line">print(type(items))</span><br><span class="line">print(items)</span><br><span class="line">print(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">keys = m_dict.keys()</span><br><span class="line">print(type(keys))</span><br><span class="line">print(keys)</span><br><span class="line">print(<span class="string">"\n"</span>)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½¿ç”¨python3æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<blockquote>
<p>class â€˜dict_valuesâ€™<br>dict_values([10, 20])<br>class â€˜dict_itemsâ€™<br>dict_items([(â€˜aâ€™, 10), (â€˜bâ€™, 20)])<br>class â€˜dict_keysâ€™<br>dict_keys([â€˜aâ€™, â€˜bâ€™])</p>
</blockquote>
<p>å¦‚æœä½¿ç”¨python2æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<blockquote>
<p>type â€˜listâ€™<br>[10, 20]<br>type â€˜listâ€™<br>[(â€˜aâ€™, 10), (â€˜bâ€™, 20)]<br>type â€˜listâ€™<br>[â€˜aâ€™, â€˜bâ€™]</p>
</blockquote>
<h2 id="é—®é¢˜2-â€˜TimeLimitâ€™-object-has-no-attribute-â€˜aleâ€™"><a href="#é—®é¢˜2-â€˜TimeLimitâ€™-object-has-no-attribute-â€˜aleâ€™" class="headerlink" title="é—®é¢˜2-â€˜TimeLimitâ€™ object has no attribute â€˜aleâ€™"></a>é—®é¢˜2-â€˜TimeLimitâ€™ object has no attribute â€˜aleâ€™</h2><p>å‚è€ƒæ–‡çŒ®[4,5,6]</p>
<h3 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><p>è¿è¡Œgithub clone ä¸‹æ¥çš„<a href="https://github.com/devsisters/DQN-tensorflow" target="_blank" rel="noopener">DQN-tensorflow</a>ï¼ŒæŠ¥é”™:</p>
<blockquote>
<p>AttributeError: â€˜TimeLimitâ€™ object has no attribute â€˜aleâ€™.</p>
</blockquote>
<h3 id="åŸå› -1"><a href="#åŸå› -1" class="headerlink" title="åŸå› "></a>åŸå› </h3><p>æ˜¯å› ä¸ºgymç‰ˆæœ¬åŸå› ï¼Œåœ¨gym 0.7ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ä½¿ç”¨env.ale.lives()è®¿é—®aleå±æ€§ï¼Œä½†æ˜¯0.8ç‰ˆæœ¬ä»¥åŠä»¥ä¸Šï¼Œå°±æ²¡æœ‰äº†è¯¥å±æ€§ï¼Œå¯ä»¥åœ¨ç³»åˆ—å‡½æ•°ä¸­æ·»åŠ å¦‚ä¸‹ä¿®æ”¹ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, config)</span>:</span></span><br><span class="line">    self.step_info = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_step</span><span class="params">(self, action)</span>:</span></span><br><span class="line">    self._screen, self.reward, self.terminal, self.step_info = self.env.step(action)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lives</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> self.step_info <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> self.step_info[<span class="string">'ale.lives'</span>]</span><br></pre></td></tr></table></figure></p>
<h3 id="aleå±æ€§æ˜¯ä»€ä¹ˆ"><a href="#aleå±æ€§æ˜¯ä»€ä¹ˆ" class="headerlink" title="aleå±æ€§æ˜¯ä»€ä¹ˆ"></a>aleå±æ€§æ˜¯ä»€ä¹ˆ</h3><p>æˆ‘çœ‹å®˜æ–¹æ–‡æ¡£ä¹Ÿæ²¡æœ‰çœ‹æ¸…æ¥šï¼Œä½†æ˜¯æˆ‘è§‰å¾—å°±æ˜¯ç”Ÿå‘½å€¼æ˜¯å¦æ²¡æœ‰äº†</p>
<blockquote>
<p>info (dict): diagnostic information useful for debugging. It can sometimes be useful for learning (for example, it might contain the raw probabilities behind the environmentâ€™s last state change). However, official evaluations of your agent are not allowed to use this for learning.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gym</span><br><span class="line">env = gym.make(<span class="string">'CartPole-v0'</span>)</span><br><span class="line"><span class="keyword">for</span> i_episode <span class="keyword">in</span> range(<span class="number">20</span>):</span><br><span class="line">    observation = env.reset()</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">        env.render()</span><br><span class="line">        print(observation)</span><br><span class="line">        action = env.action_space.sample()</span><br><span class="line">        observation, reward, done, info = env.step(action)</span><br><span class="line">        <span class="keyword">if</span> done:</span><br><span class="line">            print(<span class="string">"Episode finished after &#123;&#125; timesteps"</span>.format(t+<span class="number">1</span>))</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">env.close()</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜3-cannot-import-name"><a href="#é—®é¢˜3-cannot-import-name" class="headerlink" title="é—®é¢˜3-cannot import name ***"></a>é—®é¢˜3-cannot import name ***</h2><p>å‚è€ƒæ–‡çŒ®[7]</p>
<h3 id="æŠ¥é”™-1"><a href="#æŠ¥é”™-1" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cannot import name tqdm</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› "><a href="#é—®é¢˜åŸå› " class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h3><p>è°·æ­Œäº†åŠå¤©ï¼Œæ²¡æœ‰å‘ç°åŸå› ï¼Œç„¶åç™¾åº¦äº†ä¸€ä¸‹ï¼Œå‘ç°äº†åŸå› ï¼Œçœ‹æ¥è¿˜æ˜¯è‡ªå·±å¤ªèœäº†ã€‚ã€‚<br>å› ä¸ºè‡ªå·±èµ·çš„æ–‡ä»¶åå°±å«tqdmï¼Œç„¶åå°±å’Œåº“ä¸­çš„tqdmå†²çªäº†ï¼Œè¿™ä¹Ÿå¤ªè ¢äº†å§ã€‚ã€‚ã€‚</p>
<h2 id="é—®é¢˜4-linuxä¸‹pythonæ‰§è¡Œshellè„šæœ¬è¾“å‡ºé‡å®šå‘"><a href="#é—®é¢˜4-linuxä¸‹pythonæ‰§è¡Œshellè„šæœ¬è¾“å‡ºé‡å®šå‘" class="headerlink" title="é—®é¢˜4-linuxä¸‹pythonæ‰§è¡Œshellè„šæœ¬è¾“å‡ºé‡å®šå‘"></a>é—®é¢˜4-linuxä¸‹pythonæ‰§è¡Œshellè„šæœ¬è¾“å‡ºé‡å®šå‘</h2><p><a href="https://mxxhcm.github.io/2019/06/03/linux-pythonè°ƒç”¨shellè„šæœ¬å¹¶å°†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶/">è¯¦ç»†ä»‹ç»</a></p>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>1.<a href="https://www.cnblogs.com/timxgb/p/8905290.html" target="_blank" rel="noopener">https://www.cnblogs.com/timxgb/p/8905290.html</a><br>2.<a href="https://docs.python.org/3/library/stdtypes.html#dictionary-view-objects" target="_blank" rel="noopener">https://docs.python.org/3/library/stdtypes.html#dictionary-view-objects</a><br>3.<a href="https://stackoverflow.com/questions/43663206/typeerror-unsupported-operand-types-for-dict-values-and-int" target="_blank" rel="noopener">https://stackoverflow.com/questions/43663206/typeerror-unsupported-operand-types-for-dict-values-and-int</a><br>4.<a href="https://github.com/devsisters/DQN-tensorflow/issues/29" target="_blank" rel="noopener">https://github.com/devsisters/DQN-tensorflow/issues/29</a><br>5.<a href="https://gym.openai.com/docs" target="_blank" rel="noopener">https://gym.openai.com/docs</a><br>6.<a href="https://github.com/openai/baselines/issues/42" target="_blank" rel="noopener">https://github.com/openai/baselines/issues/42</a><br>7.<a href="https://blog.csdn.net/m0_37561765/article/details/78714603" target="_blank" rel="noopener">https://blog.csdn.net/m0_37561765/article/details/78714603</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/09/markdownå¸®åŠ©/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/09/markdownå¸®åŠ©/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/12/index.html">markdownå¸®åŠ©</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-09 19:53:32" itemprop="dateCreated datePublished" datetime="2019-03-09T19:53:32+08:00">2019-03-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-06-06 19:24:18" itemprop="dateModified" datetime="2019-06-06T19:24:18+08:00">2019-06-06</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/å·¥å…·/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å¼•ç”¨">å¼•ç”¨</h2>
<h3 id="ä»£ç å¼•ç”¨">ä»£ç å¼•ç”¨</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br></pre></td></tr></table></figure>
<h3 id="æ–‡å­—å¼•ç”¨">æ–‡å­—å¼•ç”¨</h3>
<blockquote>
<p>å®é™…æ˜¯äººç±»è¿›æ­¥çš„é˜¶æ¢¯ã€‚ã€€ï¼ï¼é«˜å°”åŸº</p>
</blockquote>
<h2 id="è¡¨æ ¼">è¡¨æ ¼</h2>
<table>
<thead>
<tr>
<th style="text-align:center">name</th>
<th style="text-align:center">age</th>
<th style="text-align:center">gender</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Alice</td>
<td style="text-align:center">11</td>
<td style="text-align:center">female</td>
</tr>
<tr>
<td style="text-align:center">Bob</td>
<td style="text-align:center">82</td>
<td style="text-align:center">male</td>
</tr>
</tbody>
</table>
<h2 id="è¡¨æƒ…">è¡¨æƒ…</h2>
<h3 id="å®‰è£…è¿‡ç¨‹">å®‰è£…è¿‡ç¨‹</h3>
<p>ç¬¬ä¸€æ­¥ï¼Œå¸è½½hexoé»˜è®¤çš„hexo-renderer-marked markdownæ¸²æŸ“å™¨<br>
~$:npm un hexo-renderer-marked --save<br>
ç¬¬äºŒæ­¥ï¼Œå®‰è£…æ”¯æŒemojiçš„markdownæ¸²æŸ“å™¨<br>
~$:npm i hexo-renderer-markdown-it --save<br>
ç¬¬ä¸‰æ­¥ï¼Œä¿®æ”¹åšå®¢æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ï¼Œæ·»åŠ ä¸‹åˆ—å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># Markdown-it config</span><br><span class="line">## Docs: https://github.com/celsomiranda/hexo-renderer-markdown-it/wiki</span><br><span class="line">markdown:</span><br><span class="line">  render:</span><br><span class="line">    html: true</span><br><span class="line">    xhtmlOut: false</span><br><span class="line">    breaks: true</span><br><span class="line">    linkify: true</span><br><span class="line">    typographer: true</span><br><span class="line">    quotes: &apos;â€œâ€â€˜â€™&apos;</span><br><span class="line">  plugins:</span><br><span class="line">    - markdown-it-abbr</span><br><span class="line">    - markdown-it-footnote</span><br><span class="line">    - markdown-it-ins</span><br><span class="line">    - markdown-it-sub</span><br><span class="line">    - markdown-it-sup</span><br><span class="line">    - markdown-it-emoji  ## add emoji</span><br><span class="line">  anchors:</span><br><span class="line">    level: 2</span><br><span class="line">    collisionSuffix: &apos;v&apos;</span><br><span class="line">    # If `true`, creates an anchor tag with a permalink besides the heading.</span><br><span class="line">    permalink: false  </span><br><span class="line">    permalinkClass: header-anchor</span><br><span class="line">    # The symbol used to make the permalink</span><br><span class="line">    permalinkSymbol: Â¶</span><br></pre></td></tr></table></figure>
<p>ç„¶åé‡æ–°ç”Ÿæˆéƒ¨ç½²å³å¯ã€‚<br>
æµ‹è¯•ï¼š<br>
ğŸ˜„<br>
ğŸ˜†<br>
ğŸ‘ƒ</p>
<h2 id="æµ‹è¯•">æµ‹è¯•</h2>
<table>
   <tr>
      <td></td>
   </tr>
   <tr>
      <td>Coding</td>
   </tr>
   <tr>
      <td>Content</td>
   </tr>
   <tr>
      <td>æè¿°æ€§æç‚¼æ€§è´¨çš„ç ”ç©¶</td>
   </tr>
   <tr>
      <td>ç¬¬ä¸€éƒ¨åˆ†ï¼š</td>
   </tr>
   <tr>
      <td>æ–‡çŒ®ç»¼è¿°</td>
   </tr>
   <tr>
      <td>ï¼ˆå¯¹è¯ï¼‰</td>
   </tr>
   <tr>
      <td>SPL</td>
   </tr>
   <tr>
      <td>æœ¬æ–‡çš„æ–‡çŒ®ç»¼è¿°è´¯ç©¿åœ¨è¡Œæ–‡çš„è¿‡ç¨‹ä¸­</td>
   </tr>
   <tr>
      <td>ï¼ˆ1ï¼‰å…³äºåˆ†å®¶çš„åŸå› ï¼š</td>
   </tr>
   <tr>
      <td>æ•Œå†›ï¼šâ‘ å¼—é‡Œå¾·æ›¼å…„å¼Ÿä¹‹é—´çš„åˆ©å®³å†²çªâ‘¡è®¸çƒºå…‰å¤«å¦»çº½å¸¦å¼ºäºçˆ¶å­ä¹‹é—´çš„çº½å¸¦â†’æ¦‚æ‹¬ä¸ºå®¶åº­å†…æ‘©æ“¦</td>
   </tr>
   <tr>
      <td>ä½œè€…ï¼ˆéƒ¨åˆ†è®¤åŒæ•Œå†›åŸºç¡€ä¸Šæå‡ºè‡ªå·±çš„è§‚ç‚¹ï¼‰ï¼šåˆ†å®¶é€æ¸æ¼”åŒ–æˆä¸€ç§â€œæ–‡åŒ–ç°è±¡â€</td>
   </tr>
   <tr>
      <td>ï¼ˆ2ï¼‰åˆ†å®¶ä¸­çš„â€œç»§â€ä¸â€œåˆâ€</td>
   </tr>
   <tr>
      <td>æ•Œå†›ï¼šâ‘ å­”è¿ˆéš†ä»¥å®¶äº§æ­£å¼åˆ†æ‰ç®—åˆ†å®¶çš„å®šä¹‰â‘¡åˆ†ç¶</td>
   </tr>
   <tr>
      <td>è¯„è®ºï¼šâ‘ ç»æµä¸Šçš„è€ƒè™‘å¤šäºç¤¾ä¼šä¸Šçš„è€ƒè™‘â‘¡è®¤ä¸ºåˆ†å®¶æ˜¯å®¶åº­çš„ç ´è£‚ä»¥åŠå…„å¼Ÿæ²¡æœ‰ç»§æ‰¿ä¸€ä¸ªå®Œæ•´çš„å®¶åº­</td>
   </tr>
   <tr>
      <td>ä½œè€…ï¼šåˆ†å®¶ä¸­ä¹Ÿæœ‰å‚ç›´å…³ç³»çš„â€œç»§æ‰¿â€ã€æ¨ªçºµä¸€ä½“çš„â€œåˆâ€</td>
   </tr>
   <tr>
      <td></td>
   </tr>
   <tr>
      <td>CPL</td>
   </tr>
   <tr>
      <td>â‘ å¯¹ç°æœ‰æ–‡çŒ®çš„ç†è§£å’Œçœ‹æ³•â‘¡ä½œè€…åœ¨å“ªä¸ªç»†åˆ†é¢†åŸŸå±•å¼€ç ”ç©¶</td>
   </tr>
   <tr>
      <td>ç†è®ºåŸºç¡€</td>
   </tr>
   <tr>
      <td>RAT</td>
   </tr>
   <tr>
      <td>ä¸Šé¢ä¸¤ä¸ªéƒ¨åˆ†çš„å®Œå–„æ˜¯ä¸ºè¿™ä¸ªéƒ¨åˆ†åšå‡†å¤‡</td>
   </tr>
   <tr>
      <td>ç¬¬äºŒéƒ¨åˆ†ï¼š</td>
   </tr>
   <tr>
      <td>æœºåˆ¶å’Œç»“æ„</td>
   </tr>
   <tr>
      <td>Fï¼ˆxï¼‰</td>
   </tr>
   <tr>
      <td>ç»“æ„ï¼š </td>
   </tr>
   <tr>
      <td>ï¼ˆ1ï¼‰æ¦‚å¿µç•Œå®šï¼šåˆ†å®¶çš„åŸºæœ¬å†…å®¹</td>
   </tr>
   <tr>
      <td>ä»€ä¹ˆæ˜¯åˆ†å®¶ï¼Ÿåˆ†å®¶æ—¶è´¢äº§æŒ‰ç…§â€œè‚¡â€åˆ†å‰²ï¼›åˆ†å®¶çš„åŸå› </td>
   </tr>
   <tr>
      <td>ï¼ˆ2ï¼‰åˆ†å®¶å¸¦æ¥çš„å½±å“ï¼ˆæ¡ˆä¾‹åˆ†æï¼‰ï¼šåˆ†å®¶å¸¦æ¥äº†ç¤¾ä¼šæµåŠ¨</td>
   </tr>
   <tr>
      <td>  å€Ÿç”¨è¯´â€œåˆ†å®¶ä¸‰å¹´æ˜¾é«˜ä½â€ã€â€œå¯Œä¸è¿‡ä¸‰ä»£â€ã€â€œçˆ¶å­ä¸€æ¡å¿ƒï¼Œé»„åœŸå˜æˆé‡‘â€ä¸‰å¥ä¿šè¯­æ¥è¯´æ˜åˆ†å®¶å¯¹ç¤¾ä¼šå˜åŒ–çš„å½±å“</td>
   </tr>
   <tr>
      <td>ï¼ˆ3ï¼‰åˆ†å®¶çš„ä¸­â€œç»§â€ä¸â€œåˆâ€</td>
   </tr>
   <tr>
      <td>  ç»§ï¼šèµ¡å…»è€äººã€ç»§å®—ç¥§ï¼ˆtiao 1å£°ï¼‰ï¼Œå¯¹åº”å„’çš„å­ã€çˆ¶å­ä¸€ä½“è§‚å¿µ</td>
   </tr>
   <tr>
      <td>  åˆï¼šç”Ÿäº§ç”Ÿæ´»ä¸Šçš„åˆä½œ</td>
   </tr>
   <tr>
      <td>ï¼ˆ4ï¼‰ç»“è¯­</td>
   </tr>
   <tr>
      <td>æœºåˆ¶ï¼šå¯¹åº”å„’çš„å­ã€çˆ¶å­ä¸€ä½“è§‚å¿µï¼›ç”Ÿäº§ç”Ÿæ´»ä¸Šçš„åˆä½œ</td>
   </tr>
   <tr>
      <td>Argument</td>
   </tr>
   <tr>
      <td>CA</td>
   </tr>
   <tr>
      <td>åˆ†ä¸­æœ‰ç»§ä¹Ÿæœ‰åˆ</td>
   </tr>
   <tr>
      <td>ç¬¬ä¸‰éƒ¨åˆ†ï¼š</td>
   </tr>
   <tr>
      <td>é—®é¢˜å’Œå‘å±•</td>
   </tr>
   <tr>
      <td>    ï¼ˆ1ï¼‰ æ–‡çŒ®ç»¼è¿°æ‰¾æ•Œå†›å¯ä»¥å€Ÿé‰´ï¼Œä»¥åŠæ–‡çŒ®è¯„è¿°</td>
   </tr>
   <tr>
      <td>    ï¼ˆ2ï¼‰ æ–‡çŒ®ç»¼è¿°å¯ä»¥åŠ ä¸€äº›å‹å†›</td>
   </tr>
   <tr>
      <td>    ï¼ˆ3ï¼‰ æ–‡ç« å¯èƒ½å†™çš„å¤ªæ—©äº†ï¼Œä¸å¤ªç¬¦åˆç°åœ¨çš„æ–‡ç« å†™ä½œè§„èŒƒã€‚ä¸å¤ªç†è§£ç¬¬äºŒéƒ¨åˆ†â€œåˆ†å®¶å¯¹ç¤¾ä¼šå‘å±•çš„å½±å“â€å¯¹æ•´ç¯‡æ–‡ç« æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿï¼Ÿæ˜¯ä¸æ˜¯æ²¡æœ‰å¿…è¦å è¿™ä¹ˆå¤§ç¯‡å¹…</td>
   </tr>
   <tr>
      <td>    ï¼ˆ4ï¼‰ å†…å®¹æ–¹é¢ï¼š</td>
   </tr>
   <tr>
      <td>éšç€æ—¶é—´çš„æ¼”å˜ï¼Œä»–ä»¬çš„åˆè¶Šæ¥è¶Šå±€é™äºå°ï¼Œç”·å¥³åŒæ–¹çš„ç›´ç³»äº²å±ï¼Œç›´ç³»çš„å…„å¼Ÿå…³ç³»å’Œå§»äº²å…³ç³»ï¼Œå¤§å®¶æ—çš„è”ç³»è¶Šæ¥è¶Šå°‘ï¼›å¤§å®¶æ—å³ä½¿ç¥–åŸæ”¾åœ¨ä¸€èµ·ï¼Œä¹Ÿéš¾ä»¥é€šè¿‡ç¥­ç¥€çš„æ‰‹æ®µè”ç³»èµ·æ¥ï¼Œæ…¢æ…¢å†œæ‘ä¹Ÿå½¢æˆåŸå­åŒ–çš„å®¶åº­å•ä½ï¼Œå¯¹äºåŒæ‘çš„äººæ¥è¯´ï¼Œåœ°ç¼˜å…³ç³»ã€é‚»é‡Œå…³ç³»æ˜¯æ¯”è¡€ç¼˜å…³ç³»æ›´é‡è¦çš„å­˜åœ¨</td>
   </tr>
   <tr>
      <td></td>
   </tr>
</table>
<h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h2>
<p>1.<a href="https://daringfireball.net/projects/markdown/syntax" target="_blank" rel="noopener">https://daringfireball.net/projects/markdown/syntax</a><br>
2.<a href="https://www.webfx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener">https://www.webfx.com/tools/emoji-cheat-sheet/</a><br>
3.<a href="https://guides.github.com/features/mastering-markdown/" target="_blank" rel="noopener">https://guides.github.com/features/mastering-markdown/</a><br>
4.<a href="https://github.com/mxxhcm/use_vim_as_ide#8.4" target="_blank" rel="noopener">https://github.com/mxxhcm/use_vim_as_ide#8.4</a><br>
5.<a href="https://chaxiaoniu.oschina.io/2017/07/10/HexoAddEmoji/" target="_blank" rel="noopener">https://chaxiaoniu.oschina.io/2017/07/10/HexoAddEmoji/</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/07/tensorflow-problems/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/07/tensorflow-problems/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/12/index.html">tensorflow å¸¸è§é—®é¢˜ï¼ˆä¸å®šæœŸæ›´æ–°ï¼‰</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-07 14:51:01" itemprop="dateCreated datePublished" datetime="2019-03-07T14:51:01+08:00">2019-03-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-05-26 00:07:43" itemprop="dateModified" datetime="2019-05-26T00:07:43+08:00">2019-05-26</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tensorflow/" itemprop="url" rel="index"><span itemprop="name">tensorflow</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="é—®é¢˜1-The-value-of-a-feed-cannot-be-a-tf-Tensor-object"><a href="#é—®é¢˜1-The-value-of-a-feed-cannot-be-a-tf-Tensor-object" class="headerlink" title="é—®é¢˜1-The value of a feed cannot be a tf.Tensor object"></a>é—®é¢˜1-The value of a feed cannot be a tf.Tensor object</h2><h3 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: The value of a feed cannot be a tf.Tensor object</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› "><a href="#é—®é¢˜åŸå› " class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h3><p>sess.run(op, feed_dict={})ä¸­çš„feed valueä¸èƒ½æ˜¯tf.Tensorç±»å‹ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>sess.run(train, feed_dict={x:images, y:labels}çš„è¾“å…¥ä¸èƒ½æ˜¯tensorï¼Œå¯ä»¥ä½¿ç”¨sess.run(tensor)å¾—åˆ°numpy.arrayå½¢å¼çš„æ•°æ®å†å–‚ç»™feed_dictã€‚</p>
<blockquote>
<p>Once you have launched a sess, you can use your_tensor.eval(session=sess) or sess.run(your_tensor) to get you feed tensor into the format of numpy.array and then feed it to your placeholder.</p>
</blockquote>
<h2 id="é—®é¢˜2-Could-not-create-cudnn-handle-CUDNN-STATUS-INTERNAL-ERROR"><a href="#é—®é¢˜2-Could-not-create-cudnn-handle-CUDNN-STATUS-INTERNAL-ERROR" class="headerlink" title="é—®é¢˜2-Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR"></a>é—®é¢˜2-Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR</h2><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>ç¯å¢ƒé…ç½®å¦‚ä¸‹ï¼š</p>
<ul>
<li>Ubuntu 18.04</li>
<li>CUDA 10.0</li>
<li>CuDNN 7.4.2</li>
<li>Python3.7.3</li>
<li>Tensorflow 1.13.1</li>
<li>Nvidia Drivers 430.09</li>
<li>RTX2070</li>
</ul>
<h3 id="æŠ¥é”™-1"><a href="#æŠ¥é”™-1" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">2019-05-12 14:45:59.355405: E tensorflow/stream_executor/cuda/cuda_dnn.cc:334] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR</span><br><span class="line">2019-05-12 14:45:59.357698: E tensorflow/stream_executor/cuda/cuda_dnn.cc:334] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -1"><a href="#é—®é¢˜åŸå› -1" class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h3><p>GPUä¸å¤Ÿç”¨äº†ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•-1"><a href="#è§£å†³æ–¹æ³•-1" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>åœ¨ä»£ç ä¸­æ·»åŠ ä¸‹é¢å‡ å¥ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">config = tf.ConfigProto()</span><br><span class="line">config.gpu_options.allow_growth = <span class="literal">True</span></span><br><span class="line">session = InteractiveSession(config=config)</span><br></pre></td></tr></table></figure></p>
<h2 id="é—®é¢˜3-libcublas-so-10-0-cannot-open-shared-object-file-No-such-file-or-directory"><a href="#é—®é¢˜3-libcublas-so-10-0-cannot-open-shared-object-file-No-such-file-or-directory" class="headerlink" title="é—®é¢˜3-libcublas.so.10.0: cannot open shared object file: No such file or directory"></a>é—®é¢˜3-libcublas.so.10.0: cannot open shared object file: No such file or directory</h2><p>åœ¨å‘½ä»¤è¡Œæˆ–è€…pycharmä¸­import tensorflowæŠ¥é”™</p>
<h3 id="æŠ¥é”™-2"><a href="#æŠ¥é”™-2" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ImportError: libcublas.so.10.0: cannot open shared object file: No such file or directory</span><br><span class="line">Failed to load the native TensorFlow runtime.</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -2"><a href="#é—®é¢˜åŸå› -2" class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h3><p>æ²¡æœ‰é…ç½®CUDAç¯å¢ƒå˜é‡</p>
<h3 id="è§£å†³æ–¹æ³•-2"><a href="#è§£å†³æ–¹æ³•-2" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><h4 id="å‘½ä»¤è¡Œä¸­"><a href="#å‘½ä»¤è¡Œä¸­" class="headerlink" title="å‘½ä»¤è¡Œä¸­"></a>å‘½ä»¤è¡Œä¸­</h4><p>åœ¨.bashrcæ–‡ä»¶ä¸­åŠ å…¥ä¸‹åˆ—è¯­å¥ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/usr/local/cuda/bin$&#123;PATH:+:$&#123;PATH&#125;&#125;</span><br><span class="line">export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$&#123;LD_LIBRARY_PATH:+:$&#123;LD_LIBRARY_PATH&#125;&#125;</span><br><span class="line">export CUDA_HOME=/usr/local/cuda</span><br></pre></td></tr></table></figure></p>
<h4 id="pycharmä¸­"><a href="#pycharmä¸­" class="headerlink" title="pycharmä¸­"></a>pycharmä¸­</h4><h5 id="æ–¹æ³•1ï¼ˆè¿™ç§æ–¹æ³•æˆ‘æ²¡æœ‰å®éªŒæˆåŠŸï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼‰"><a href="#æ–¹æ³•1ï¼ˆè¿™ç§æ–¹æ³•æˆ‘æ²¡æœ‰å®éªŒæˆåŠŸï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼‰" class="headerlink" title="æ–¹æ³•1ï¼ˆè¿™ç§æ–¹æ³•æˆ‘æ²¡æœ‰å®éªŒæˆåŠŸï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼‰"></a>æ–¹æ³•1ï¼ˆè¿™ç§æ–¹æ³•æˆ‘æ²¡æœ‰å®éªŒæˆåŠŸï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼‰</h5><p>åœ¨å·¦ä¸Šè§’é€‰ä¸­<br>File>>Settings>>Build.Execution,Deployment>>Console>>Python Console<br>åœ¨Environmentä¸‹çš„Environment variablesä¸­æ·»åŠ <br>LD_LIBRARY_PATH=/usr/local/cuda/lib64:${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}å³å¯ã€‚</p>
<h5 id="æ–¹æ³•2"><a href="#æ–¹æ³•2" class="headerlink" title="æ–¹æ³•2"></a>æ–¹æ³•2</h5><p>ä¿®æ”¹å®Œ.bashrcæ–‡ä»¶åä»ç»ˆç«¯ä¸­è¿è¡Œpycharmã€‚</p>
<h2 id="é—®é¢˜4-dlerror-libcupti-so-10-0-cannot-open-shared-object-file-No-such-file-or-directory"><a href="#é—®é¢˜4-dlerror-libcupti-so-10-0-cannot-open-shared-object-file-No-such-file-or-directory" class="headerlink" title="é—®é¢˜4-dlerror: libcupti.so.10.0: cannot open shared object file: No such file or directory"></a>é—®é¢˜4-dlerror: libcupti.so.10.0: cannot open shared object file: No such file or directory</h2><p>æ‰§è¡Œmnist_with_summaryä»£ç æ—¶æŠ¥é”™</p>
<h3 id="æŠ¥é”™-3"><a href="#æŠ¥é”™-3" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">I tensorflow/stream_executor/dso_loader.cc:142] Couldn&apos;t open CUDA library libcupti.so.10.0. LD_LIBRARY_PATH: /usr/local/cuda/lib64:</span><br><span class="line">2019-05-13 23:04:10.620149: F tensorflow/stream_executor/lib/statusor.cc:34] Attempting to fetch value instead of handling error Failed precondition: could not dlopen DSO: libcupti.so.10.0; dlerror: libcupti.so.10.0: cannot open shared object file: No such file or directory</span><br><span class="line">Aborted (core dumped)</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜åŸå› "><a href="#é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜åŸå› " class="headerlink" title="é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜åŸå› "></a>é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜åŸå› </h3><p>libcupti.so.10.0åŒ…æ²¡æ‰¾åˆ°</p>
<h3 id="è§£å†³æ–¹æ³•-3"><a href="#è§£å†³æ–¹æ³•-3" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ‰¾åˆ°ç›¸å…³çš„ä¾èµ–åŒ…ï¼š<br>~$:find /usr/local/cuda/ -name libcupti.so.10.0<br>è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>/usr/local/cuda/extras/CUPTI/lib64/libcupti.so.10.0</p>
</blockquote>
<p>ç„¶åä¿®æ”¹~/.bashrcæ–‡ä»¶ä¸­ç›¸åº”çš„ç¯å¢ƒå˜é‡:<br>export LD_LIBRARY_PATH=/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64/:${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}<br>é‡æ–°è¿è¡Œå³å¯ã€‚</p>
<h2 id="é—®é¢˜5-unhashable-type-â€˜listâ€™"><a href="#é—®é¢˜5-unhashable-type-â€˜listâ€™" class="headerlink" title="é—®é¢˜5-unhashable type: â€˜listâ€™"></a>é—®é¢˜5-unhashable type: â€˜listâ€™</h2><p>sess.run(op, feed_dict={})ä¸­feedçš„æ•°æ®ä¸­åŒ…å«æœ‰listçš„æ—¶å€™ä¼šæŠ¥é”™ã€‚</p>
<h3 id="æŠ¥é”™-4"><a href="#æŠ¥é”™-4" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: unhashable type: &apos;list&apos;</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -3"><a href="#é—®é¢˜åŸå› -3" class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h3><p>feed_dictä¸­ä¸èƒ½çš„valueä¸èƒ½æ˜¯listã€‚</p>
<h3 id="è§£å†³æ–¹æ³•-4"><a href="#è§£å†³æ–¹æ³•-4" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">feed_dict = &#123;</span><br><span class="line">               placeholder : value </span><br><span class="line">                  <span class="keyword">for</span> placeholder, value <span class="keyword">in</span> zip(placeholder_list, inputs_list))</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><p><a href="https://github.com/mxxhcm/code/blob/master/tf/ops/tf_placeholder_list.py" target="_blank" rel="noopener">ä»£ç åœ°å€</a></p>
<h2 id="é—®é¢˜6-Attempting-to-use-uninitialized-value"><a href="#é—®é¢˜6-Attempting-to-use-uninitialized-value" class="headerlink" title="é—®é¢˜6-Attempting to use uninitialized value"></a>é—®é¢˜6-Attempting to use uninitialized value</h2><p>tf.Session()å’Œtf.InteractiveSession()æ··ç”¨é—®é¢˜ã€‚</p>
<h3 id="æŠ¥é”™-5"><a href="#æŠ¥é”™-5" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value prediction/l1/w</span><br><span class="line">	 [[&#123;&#123;node prediction/l1/w/read&#125;&#125;]]</span><br><span class="line">	 [[&#123;&#123;node prediction/LogSoftmax&#125;&#125;]]</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -4"><a href="#é—®é¢˜åŸå› -4" class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h3><p>å£°æ˜äº†å¦‚ä¸‹session:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sess = tf.Session()</span><br><span class="line">sess.run(tf.global_variables_initializer())</span><br></pre></td></tr></table></figure></p>
<p>åœ¨æ¥ä¸‹æ¥çš„ä»£ç ä¸­ï¼Œå› ä¸ºæˆ‘å£°æ˜çš„æ˜¯tf.Session()ï¼Œä½¿ç”¨äº†op.eval()å‡½æ•°ï¼Œè¿™ç§ç”¨æ³•æ˜¯tf.InteractiveSessionçš„ç”¨æ³•ï¼Œæ‰€ä»¥å°±ç›¸å½“äºæ²¡æœ‰åˆå§‹åŒ–ã€‚<br>result = op.eval(feed_dict={})<br>ç„¶åå°±æŠ¥äº†æœªåˆå§‹åŒ–çš„é”™è¯¯ã€‚<br>æŠŠä»£ç æ”¹æˆï¼š<br>result = sess.run([op], feeed_dct={})<br>å³å¯ï¼Œå³ä¸Šä¸‹æ–‡ä½¿ç”¨çš„sessionåº”è¯¥ä¸€è‡´ã€‚</p>
<h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>ä½¿ç”¨ç»Ÿä¸€çš„sessionç±»å‹</p>
<h2 id="é—®é¢˜7-setting-an-array-element-with-a-sequence"><a href="#é—®é¢˜7-setting-an-array-element-with-a-sequence" class="headerlink" title="é—®é¢˜7-setting an array element with a sequence"></a>é—®é¢˜7-setting an array element with a sequence</h2><p>feed_dicté”®å€¼å¯¹ä¸­ä¸­å€¼å¿…é¡»æ˜¯numpy.ndarrayï¼Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹ã€‚</p>
<h3 id="æŠ¥é”™-6"><a href="#æŠ¥é”™-6" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value error setting an array element with a sequence,</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -5"><a href="#é—®é¢˜åŸå› -5" class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h3><p>feed_dictä¸­key-valueçš„valueå¿…é¡»æ˜¯numpy.ndarrayï¼Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹ï¼Œå°¤å…¶ä¸èƒ½æ˜¯tf.Variableã€‚</p>
<h3 id="è§£å†³æ–¹æ³•-5"><a href="#è§£å†³æ–¹æ³•-5" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>æ£€æŸ¥sess.run(op, feed_dict={})ä¸­çš„feed_dictï¼Œç¡®ä¿ä»–ä»¬çš„ç±»å‹ï¼Œä¸èƒ½æ˜¯tf.Variable()ç±»å‹çš„å¯¹è±¡ï¼Œéœ€è¦æ˜¯numpy.ndarrayã€‚</p>
<h2 id="é—®é¢˜8-è®¿é—®tf-Variable-çš„å€¼"><a href="#é—®é¢˜8-è®¿é—®tf-Variable-çš„å€¼" class="headerlink" title="é—®é¢˜8-è®¿é—®tf.Variable()çš„å€¼"></a>é—®é¢˜8-è®¿é—®tf.Variable()çš„å€¼</h2><p>å¦‚ä½•è·å¾—tf.Variable()å¯¹è±¡çš„å€¼</p>
<h3 id="è§£å†³æ–¹æ³•-6"><a href="#è§£å†³æ–¹æ³•-6" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line">x = tf.Varialbe([<span class="number">1.0</span>, <span class="number">2.0</span>])</span><br><span class="line">sess = tf.Session()</span><br><span class="line">sess.run(tf.global_variables_initializer())</span><br><span class="line">value = sess.run(x)</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import tensorflow as tf</span><br><span class="line">x = tf.Varialbe([1.0, 2.0])</span><br><span class="line">sess = tf.InteractiveSession()</span><br><span class="line">sess.run(tf.global_variables_initializer())</span><br><span class="line">x.eval()</span><br></pre></td></tr></table></figure></p>
<h2 id="é—®é¢˜9-Can-not-convert-a-ndarray-into-a-Tensor-or-Operation"><a href="#é—®é¢˜9-Can-not-convert-a-ndarray-into-a-Tensor-or-Operation" class="headerlink" title="é—®é¢˜9-Can not convert a ndarray into a Tensor or Operation"></a>é—®é¢˜9-Can not convert a ndarray into a Tensor or Operation</h2><h3 id="æŠ¥é”™-7"><a href="#æŠ¥é”™-7" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Can not convert a ndarray into a Tensor or Operation.</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -6"><a href="#é—®é¢˜åŸå› -6" class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h3><p>åŸå› æ˜¯sess.run()å‰åå‚æ•°åé‡äº†ï¼Œæ¯”å¦‚outputs = sess.run(outputs)ï¼Œoutputsæœ¬æ¥æ˜¯è‡ªå·±å®šä¹‰çš„ä¸€ä¸ªopï¼Œä½†æ˜¯sess.run(outputs)ä¹‹åoutputså°±æˆäº†ä¸€ä¸ªå˜é‡ï¼Œå°±æŠŠå®šä¹‰çš„outputs opè¦†ç›–äº†ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•-7"><a href="#è§£å†³æ–¹æ³•-7" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><p>æ¢ä¸ªå˜é‡åå­—å°±è¡Œ</p>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>1.<a href="https://github.com/tensorflow/tensorflow/issues/4842" target="_blank" rel="noopener">https://github.com/tensorflow/tensorflow/issues/4842</a><br>2.<a href="https://github.com/tensorflow/tensorflow/issues/24496" target="_blank" rel="noopener">https://github.com/tensorflow/tensorflow/issues/24496</a><br>3.<a href="https://github.com/tensorflow/tensorflow/issues/9530" target="_blank" rel="noopener">https://github.com/tensorflow/tensorflow/issues/9530</a><br>4.<a href="https://stackoverflow.com/questions/51128427/how-to-feed-list-of-values-to-a-placeholder-list-in-tensorflow" target="_blank" rel="noopener">https://stackoverflow.com/questions/51128427/how-to-feed-list-of-values-to-a-placeholder-list-in-tensorflow</a><br>5.<a href="https://github.com/tensorflow/tensorflow/issues/11897" target="_blank" rel="noopener">https://github.com/tensorflow/tensorflow/issues/11897</a><br>6.<a href="https://stackoverflow.com/questions/34156639/tensorflow-python-valueerror-setting-an-array-element-with-a-sequence-in-t" target="_blank" rel="noopener">https://stackoverflow.com/questions/34156639/tensorflow-python-valueerror-setting-an-array-element-with-a-sequence-in-t</a><br>7.<a href="https://stackoverflow.com/questions/33679382/how-do-i-get-the-current-value-of-a-variable" target="_blank" rel="noopener">https://stackoverflow.com/questions/33679382/how-do-i-get-the-current-value-of-a-variable</a><br>8.<a href="https://blog.csdn.net/michael__corleone/article/details/79007425" target="_blank" rel="noopener">https://blog.csdn.net/michael__corleone/article/details/79007425</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/07/python-pip-ä½¿ç”¨å›½å†…æº/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/07/python-pip-ä½¿ç”¨å›½å†…æº/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/12/index.html">pip ä½¿ç”¨å›½å†…æº</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-07 09:56:54" itemprop="dateCreated datePublished" datetime="2019-03-07T09:56:54+08:00">2019-03-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-05-12 12:06:03" itemprop="dateModified" datetime="2019-05-12T12:06:03+08:00">2019-05-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æš‚æ—¶ä½¿ç”¨å›½å†…pipæº"><a href="#æš‚æ—¶ä½¿ç”¨å›½å†…pipæº" class="headerlink" title="æš‚æ—¶ä½¿ç”¨å›½å†…pipæº"></a>æš‚æ—¶ä½¿ç”¨å›½å†…pipæº</h2><p>ä½¿ç”¨æ¸…åæº<br>~#:pip install -i <a href="https://pypi.tuna.tsinghua.edu.cn/simple" target="_blank" rel="noopener">https://pypi.tuna.tsinghua.edu.cn/simple</a> package-name<br>ä½¿ç”¨é˜¿é‡Œæº<br>~#:pip install -i <a href="https://mirrors.aliyun.com/pypi/simple" target="_blank" rel="noopener">https://mirrors.aliyun.com/pypi/simple</a> package-name</p>
<h2 id="å°†å›½å†…pipæºè®¾ä¸ºé»˜è®¤"><a href="#å°†å›½å†…pipæºè®¾ä¸ºé»˜è®¤" class="headerlink" title="å°†å›½å†…pipæºè®¾ä¸ºé»˜è®¤"></a>å°†å›½å†…pipæºè®¾ä¸ºé»˜è®¤</h2><p>~#:pip install pip -U<br>~#:pip config set global.index-url <a href="https://pypi.tuna.tsinghua.edu.cn/simple" target="_blank" rel="noopener">https://pypi.tuna.tsinghua.edu.cn/simple</a></p>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>1.<a href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/help/pypi/</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/04/lycheeå›¾åºŠæ­å»º/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/04/lycheeå›¾åºŠæ­å»º/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/12/index.html">lycheeå›¾åºŠæ­å»º</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-04 21:03:55" itemprop="dateCreated datePublished" datetime="2019-03-04T21:03:55+08:00">2019-03-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-05-07 00:22:27" itemprop="dateModified" datetime="2019-05-07T00:22:27+08:00">2019-05-07</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/å·¥å…·/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="åŸºæœ¬è¦æ±‚"><a href="#åŸºæœ¬è¦æ±‚" class="headerlink" title="åŸºæœ¬è¦æ±‚"></a>åŸºæœ¬è¦æ±‚</h3><ol>
<li>web server (Apache, nginx, etc)</li>
<li>A MySQL database (MariaDB also works)</li>
<li>PHP 7.1 or later with the following extensions: session, exif, mbstring, gd, mysqli, json, zip, and optionally, imagick<br>~#:apt install nginx<br>~#:apt install mysql-server<br>~#:apt install php<h3 id="é…ç½®nginx"><a href="#é…ç½®nginx" class="headerlink" title="é…ç½®nginx"></a>é…ç½®nginx</h3>é‡æ–°å®‰è£…nginxå‡ºç°é—®é¢˜ï¼Œè§å‚è€ƒæ–‡çŒ®2ã€‚<h3 id="é…ç½®mysql"><a href="#é…ç½®mysql" class="headerlink" title="é…ç½®mysql"></a>é…ç½®mysql</h3>~#:mysql -u root -p<br>é»˜è®¤å¯†ç æ˜¯å›è½¦ï¼Ÿï¼Ÿï¼Ÿ<br>ä¿®æ”¹å¯†ç <br>~#:</li>
</ol>
<h3 id="é…ç½®php"><a href="#é…ç½®php" class="headerlink" title="é…ç½®php"></a>é…ç½®php</h3><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>1.<a href="https://juejin.im/post/5c1b869b6fb9a049ad770424" target="_blank" rel="noopener">https://juejin.im/post/5c1b869b6fb9a049ad770424</a><br>2.<a href="https://segmentfault.com/a/1190000014027697?utm_source=tag-newest" target="_blank" rel="noopener">https://segmentfault.com/a/1190000014027697?utm_source=tag-newest</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/04/linux-æŸ¥çœ‹python-packageçš„å®‰è£…ä½ç½®/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/04/linux-æŸ¥çœ‹python-packageçš„å®‰è£…ä½ç½®/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/12/index.html">linux-æŸ¥çœ‹python packageçš„å®‰è£…ä½ç½®</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-04 14:52:16" itemprop="dateCreated datePublished" datetime="2019-03-04T14:52:16+08:00">2019-03-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-05-12 12:03:26" itemprop="dateModified" datetime="2019-05-12T12:03:26+08:00">2019-05-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä½¿ç”¨pip install package-nameä¹‹åï¼Œä¸çŸ¥é“è¯¥åŒ…å­˜åœ¨äº†å“ªä¸ªè·¯å¾„ä¸‹ã€‚<br>å¯ä»¥å†æ¬¡ä½¿ç”¨pip install package-nameï¼Œè¿™æ—¶å€™å°±ä¼šç»™å‡ºè¯¥åŒ…å­˜æ”¾åœ¨å“ªä¸ªè·¯å¾„ä¸‹ã€‚</p>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ol>
<li><a href="https://blog.csdn.net/weixin_41712059/article/details/82940516" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41712059/article/details/82940516</a></li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/04/linux-shadowsocksæœåŠ¡ç«¯ä»¥åŠå®¢æˆ·ç«¯é…ç½®/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/04/linux-shadowsocksæœåŠ¡ç«¯ä»¥åŠå®¢æˆ·ç«¯é…ç½®/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/12/index.html">shadowsocksæœåŠ¡ç«¯ä»¥åŠå®¢æˆ·ç«¯é…ç½®</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-04 13:03:57" itemprop="dateCreated datePublished" datetime="2019-03-04T13:03:57+08:00">2019-03-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-06-04 10:54:53" itemprop="dateModified" datetime="2019-06-04T10:54:53+08:00">2019-06-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æœåŠ¡å™¨ç«¯é…ç½®"><a href="#æœåŠ¡å™¨ç«¯é…ç½®" class="headerlink" title="æœåŠ¡å™¨ç«¯é…ç½®"></a>æœåŠ¡å™¨ç«¯é…ç½®</h2><p>é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªVPSè´¦å·ï¼Œvultr,digitalocean,æ¬ç“¦å·¥ç­‰ç­‰éƒ½è¡Œã€‚</p>
<h3 id="å¯ç”¨BBRåŠ é€Ÿ"><a href="#å¯ç”¨BBRåŠ é€Ÿ" class="headerlink" title="å¯ç”¨BBRåŠ é€Ÿ"></a>å¯ç”¨BBRåŠ é€Ÿ</h3><p>~#:apt update<br>~#:apt upgrade<br>~#:echo â€œnet.core.default_qdisc=fqâ€ &gt;&gt; /etc/sysctl.conf<br>~#:echo â€œnet.ipv4.tcp_congestion_control=bbrâ€ &gt;&gt; /etc/sysctl.conf<br>~#:sysctl -p<br>ä¸Šè¿°å‘½ä»¤å°±å®Œæˆäº†BBRåŠ é€Ÿï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š<br>~#:lsmod |grep bbr<br>çœ‹åˆ°è¾“å‡ºåŒ…å«tcp_bbrå°±è¯´æ˜å·²ç»æˆåŠŸäº†ã€‚</p>
<h3 id="æ­å»ºshadowsocks-server"><a href="#æ­å»ºshadowsocks-server" class="headerlink" title="æ­å»ºshadowsocks server"></a>æ­å»ºshadowsocks server</h3><h4 id="å®‰è£…shadowsocks-server"><a href="#å®‰è£…shadowsocks-server" class="headerlink" title="å®‰è£…shadowsocks server"></a>å®‰è£…shadowsocks server</h4><p>~#:apt install python-pip<br>~#:pip install shadowsocks<br>éœ€è¦è¯´ä¸€ä¸‹çš„æ˜¯ï¼Œshadowsocksç›®å‰è¿˜ä¸æ”¯æŒpython3.5åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œä¸Šæ¬¡æˆ‘æŠŠ/usr/bin/pythonæŒ‡å‘äº†python3.6ï¼Œå°±æ˜¯ç³»ç»Ÿé»˜è®¤çš„pythonæŒ‡å‘äº†python3.6ï¼Œç„¶åå°±ggäº†ã€‚ä¸€å®šè¦ä½¿ç”¨Python 2.6,2.7,3.3,3.4ä¸­çš„ä¸€ä¸ªç‰ˆæœ¬æ‰èƒ½ä½¿ç”¨ã€‚ã€‚</p>
<h4 id="åˆ›å»ºshadowsocksé…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºshadowsocksé…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºshadowsocksé…ç½®æ–‡ä»¶"></a>åˆ›å»ºshadowsocksé…ç½®æ–‡ä»¶</h4><p>å¦‚æœä½ çš„VPSæ”¯æŒipv6çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥å¼€å¤šè¿›ç¨‹åˆ†åˆ«è¿è¡Œipv4å’Œipv6çš„shadowsocks serverã€‚æœ¬åœ°åªæœ‰ipv4çš„è¯ï¼Œå¯ä»¥ç”¨æœ¬åœ°ipv4è®¿é—®ipv6ï¼Œä»è€Œè®¿é—®byrç­‰ç½‘ç«™ï¼Œä½†æ˜¯å…­ç»´ç©ºé—´å¯¹æ­¤åšäº†å±è”½ã€‚å¦‚æœæœ¬åœ°æœ‰ipv6çš„è¯ï¼Œè¿˜å¯ä»¥ç”¨æœ¬åœ°çš„ipv6è®¿é—®ipv6å®ç°æ ¡å›­ç½‘ä¸èµ°ipv4æµé‡ã€‚</p>
<h5 id="ipv4é…ç½®"><a href="#ipv4é…ç½®" class="headerlink" title="ipv4é…ç½®"></a>ipv4é…ç½®</h5><p>~#:vim /etc/shadowsocks_v4.json<br>é…ç½®æ–‡ä»¶å¦‚ä¸‹<br>{<br>â€œserverâ€:â€0.0.0.0â€,<br>â€œserver_portâ€:8889,<br>â€œlocal_addressâ€:â€127.0.0.1â€,<br>â€œlocal_portâ€:1080,<br>â€œpasswordâ€:â€ä½ çš„å¯†ç â€,<br>â€œtimeoutâ€:600,<br>â€œmethodâ€:â€aes-256-cfbâ€<br>}</p>
<h5 id="ipv6é…ç½®"><a href="#ipv6é…ç½®" class="headerlink" title="ipv6é…ç½®"></a>ipv6é…ç½®</h5><p>~#:vim /etc/shadowsocks_v6.json<br>é…ç½®æ–‡ä»¶å¦‚ä¸‹<br>{<br>â€œserverâ€:â€::â€,<br>â€œserver_portâ€:8888,<br>â€œlocal_addressâ€:â€127.0.0.1â€,<br>â€œlocal_portâ€:1080,<br>â€œpasswordâ€:â€ä½ çš„å¯†ç â€,<br>â€œtimeoutâ€:600,<br>â€œmethodâ€:â€aes-256-cfbâ€<br>}<br>æ³¨æ„è¿™ä¸¤ä¸ªæ–‡ä»¶çš„server_portä¸€å®šè¦ä¸åŒï¼Œä»¥åŠåŒå¼•å·å¿…é¡»æ˜¯è‹±æ–‡å¼•å·ã€‚</p>
<h5 id="1-2-2-3-æ‰‹åŠ¨è¿è¡Œshadowsocks-server"><a href="#1-2-2-3-æ‰‹åŠ¨è¿è¡Œshadowsocks-server" class="headerlink" title="1.2.2.3.æ‰‹åŠ¨è¿è¡Œshadowsocks server"></a>1.2.2.3.æ‰‹åŠ¨è¿è¡Œshadowsocks server</h5><p>~#:ssserver -c /etc/shadowsock_v4.json -d start â€”pid-file ss1.pid<br>~#:ssserver -c /etc/shadowsock_v6.json -d start â€”pid-file ss2.pid<br>æ³¨æ„è¿™é‡Œè¦ç»™ä¸¤æ¡å‘½ä»¤åˆ†é…ä¸åŒçš„è¿›ç¨‹å·ã€‚</p>
<h3 id="è®¾ç½®shadowsocks-serverå¼€æœºè‡ªå¯"><a href="#è®¾ç½®shadowsocks-serverå¼€æœºè‡ªå¯" class="headerlink" title="è®¾ç½®shadowsocks serverå¼€æœºè‡ªå¯"></a>è®¾ç½®shadowsocks serverå¼€æœºè‡ªå¯</h3><p>å¦‚æœé‡å¯æœåŠ¡å™¨çš„è¯ï¼Œå°±éœ€è¦é‡æ–°æ‰‹åŠ¨æ‰§è¡Œä¸Šè¿°å‘½ä»¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå†™æˆå¼€æœºè‡ªå¯è„šæœ¬ã€‚<br>~#:vim /etc/init.d/shadowsocks_v4<br>å†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/sh</span><br><span class="line"><span class="meta">#</span>## BEGIN INIT INFO</span><br><span class="line"><span class="meta">#</span> Provides:          apache2</span><br><span class="line"><span class="meta">#</span> Required-Start:    $local_fs $remote_fs $network $syslog</span><br><span class="line"><span class="meta">#</span> Required-Stop:     $local_fs $remote_fs $network $syslog</span><br><span class="line"><span class="meta">#</span> Default-Start:     2 3 4 5</span><br><span class="line"><span class="meta">#</span> Default-Stop:      0 1 6</span><br><span class="line"><span class="meta">#</span> Short-Description: apache2 service</span><br><span class="line"><span class="meta">#</span> Description:       apache2 service daemon</span><br><span class="line"><span class="meta">#</span>## END INIT INFO</span><br><span class="line">start()&#123;</span><br><span class="line">  ssserver -c /etc/shadowsocks_v4.json -d start --pid-file ss2.pid</span><br><span class="line">&#125;</span><br><span class="line">stop()&#123;</span><br><span class="line">  ssserver -c /etc/shadowsocks_v4.json -d stop --pid-file ss2.pid</span><br><span class="line">&#125;</span><br><span class="line">case "$1" in</span><br><span class="line">start)</span><br><span class="line">  start</span><br><span class="line">  ;;</span><br><span class="line">stop)</span><br><span class="line">  stop</span><br><span class="line">  ;;</span><br><span class="line">restart)</span><br><span class="line">  stop</span><br><span class="line">  start</span><br><span class="line">  ;;</span><br><span class="line">*)</span><br><span class="line">  echo "Uasage: $0 &#123;start|reload|stop&#125;$"</span><br><span class="line">  exit 1</span><br><span class="line">  ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure></p>
<p>~#:vim /etc/init.d/shadowsocks_v6<br>å†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/sh</span><br><span class="line"><span class="meta">#</span>## BEGIN INIT INFO</span><br><span class="line"><span class="meta">#</span> Provides:          apache2</span><br><span class="line"><span class="meta">#</span> Required-Start:    $local_fs $remote_fs $network $syslog</span><br><span class="line"><span class="meta">#</span> Required-Stop:     $local_fs $remote_fs $network $syslog</span><br><span class="line"><span class="meta">#</span> Default-Start:     2 3 4 5</span><br><span class="line"><span class="meta">#</span> Default-Stop:      0 1 6</span><br><span class="line"><span class="meta">#</span> Short-Description: apache2 service</span><br><span class="line"><span class="meta">#</span> Description:       apache2 service daemon</span><br><span class="line"><span class="meta">#</span>## END INIT INFO</span><br><span class="line">start()&#123;</span><br><span class="line">  ssserver -c /etc/shadowsocks_v6.json -d start --pid-file ss1.pid</span><br><span class="line">&#125;</span><br><span class="line">stop()&#123;</span><br><span class="line">  ssserver -c /etc/shadowsocks_v6.json -d stop --pid-file ss1.pid</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">case "$1" in</span><br><span class="line">start)</span><br><span class="line">  start</span><br><span class="line">  ;;</span><br><span class="line">stop)</span><br><span class="line">  stop</span><br><span class="line">  ;;</span><br><span class="line">restart)</span><br><span class="line">  stop</span><br><span class="line">  start</span><br><span class="line">  ;;</span><br><span class="line">*)</span><br><span class="line">  echo "Uasage: $0 &#123;start|reload|stop&#125;$"</span><br><span class="line">  exit 1</span><br><span class="line">  ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åæ‰§è¡Œä¸‹åˆ—å‘½ä»¤å³å¯ï¼š<br>~#:chmod a+x /etc/init.d/shadowsocks_v4<br>~#:chmod a+x /etc/init.d/shadowsocks_v6<br>~#:update-rc.d shadowsocks_v4 defaults<br>~#:update-rc.d shadowsocks_v6 defaults</p>
<p>è‡³æ­¤ï¼ŒæœåŠ¡å™¨ç«¯é…ç½®å®Œæˆã€‚</p>
<h2 id="å®¢æˆ·ç«¯é…ç½®"><a href="#å®¢æˆ·ç«¯é…ç½®" class="headerlink" title="å®¢æˆ·ç«¯é…ç½®"></a>å®¢æˆ·ç«¯é…ç½®</h2><h3 id="Windowså®¢æˆ·ç«¯é…ç½®"><a href="#Windowså®¢æˆ·ç«¯é…ç½®" class="headerlink" title="Windowså®¢æˆ·ç«¯é…ç½®"></a>Windowså®¢æˆ·ç«¯é…ç½®</h3><h4 id="å®‰è£…shadowsockå®¢æˆ·ç«¯"><a href="#å®‰è£…shadowsockå®¢æˆ·ç«¯" class="headerlink" title="å®‰è£…shadowsockå®¢æˆ·ç«¯"></a>å®‰è£…shadowsockå®¢æˆ·ç«¯</h4><p>åˆ°è¯¥ç½‘å€ <a href="https://github.com/shadowsocks/shadowsocks-windows/releases" target="_blank" rel="noopener">https://github.com/shadowsocks/shadowsocks-windows/releases</a> ä¸‹è½½ç›¸åº”çš„windowså®¢æˆ·ç«¯ç¨‹åºã€‚<br>ç„¶åé…ç½®æœåŠ¡å™¨å³å¯ï½</p>
<h3 id="Linuxå®¢æˆ·ç«¯é…ç½®"><a href="#Linuxå®¢æˆ·ç«¯é…ç½®" class="headerlink" title="Linuxå®¢æˆ·ç«¯é…ç½®"></a>Linuxå®¢æˆ·ç«¯é…ç½®</h3><h4 id="å®‰è£…shadowsocksç¨‹åº"><a href="#å®‰è£…shadowsocksç¨‹åº" class="headerlink" title="å®‰è£…shadowsocksç¨‹åº"></a>å®‰è£…shadowsocksç¨‹åº</h4><p>~$:sudo pip install shadowsocks</p>
<h4 id="è¿è¡Œshadowsockså®¢æˆ·ç«¯ç¨‹åº"><a href="#è¿è¡Œshadowsockså®¢æˆ·ç«¯ç¨‹åº" class="headerlink" title="è¿è¡Œshadowsockså®¢æˆ·ç«¯ç¨‹åº"></a>è¿è¡Œshadowsockså®¢æˆ·ç«¯ç¨‹åº</h4><p>~$:sudo vim /etc/shadowsocks.json<br>å¡«å…¥ä»¥ä¸‹é…ç½®æ–‡ä»¶<br>{<br>â€œserverâ€:â€å¡«ä¸Šè‡ªå·±çš„shadowsocks server ipåœ°å€â€,<br>â€œserver_portâ€:â€8888â€,//å¡«ä¸Šè‡ªå·±çš„shadowsocks server ç«¯å£â€<br>â€œlocal_portâ€:1080,<br>â€œpasswordâ€:â€mxxhcm150929â€,<br>â€œtimeoutâ€:600,<br>â€œmethodâ€:â€aes-256-cfbâ€<br>}</p>
<p>æ¥ä¸‹æ¥å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿è¡Œshadowsockså®¢æˆ·ç«¯ï¼š<br>~$:sudo sslocal -c /etc/shadowsocks.json<br>ç„¶åæŠ¥é”™ï¼š</p>
<blockquote>
<p>INFO: loading config from /etc/shadowsocks.json<br>2019-03-04 14:37:49 INFO     loading libcrypto from libcrypto.so.1.1<br>Traceback (most recent call last):<br>  File â€œ/usr/local/bin/sslocalâ€, line 11, in <module><br>    load_entry_point(â€˜shadowsocks==2.8.2â€™, â€˜console_scriptsâ€™, â€˜sslocalâ€™)()<br>  File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/local.pyâ€, line 39, in main<br>    config = shell.get_config(True)<br>  File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/shell.pyâ€, line 262, in get_config<br>    check_config(config, is_local)<br>  File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/shell.pyâ€, line 124, in check_config<br>    encrypt.try_cipher(config[â€˜passwordâ€™], config[â€˜methodâ€™])<br>  File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/encrypt.pyâ€, line 44, in try_cipher<br>    Encryptor(key, method)<br>  File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/encrypt.pyâ€, line 83, in <strong>init</strong><br>    random_string(self._method_info[1]))<br>  File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/encrypt.pyâ€, line 109, in get_cipher<br>    return m<a href="method, key, iv, op">2</a><br>  File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.pyâ€, line 76, in <strong>init</strong><br>    load_openssl()<br>  File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.pyâ€, line 52, in load_openssl<br>    libcrypto.EVP_CIPHER_CTX_cleanup.argtypes = (c_void_p,)<br>  File â€œ/usr/lib/python2.7/ctypes/<strong>init</strong>.pyâ€, line 379, in <strong>getattr</strong><br>    func = self.<strong>getitem</strong>(name)<br>  File â€œ/usr/lib/python2.7/ctypes/<strong>init</strong>.pyâ€, line 384, in <strong>getitem</strong><br>    func = self._FuncPtr((name_or_ordinal, self))<br>AttributeError: /usr/lib/x86_64-linux-gnu/libcrypto.so.1.1: undefined symbol: EVP_CIPHER_CTX_cleanup</module></p>
</blockquote>
<p>æŒ‰ç…§å‚è€ƒæ–‡çŒ®4çš„åšæ³•ï¼Œæ˜¯åœ¨openssl 1.1.0ç‰ˆæœ¬ä¸­æ”¾å¼ƒäº†EVP_CIPHER_CTX_cleanupå‡½æ•°</p>
<blockquote>
<p>EVP_CIPHER_CTX was made opaque in OpenSSL 1.1.0. As a result, EVP_CIPHER_CTX_reset() appeared and EVP_CIPHER_CTX_cleanup() disappeared.<br>EVP_CIPHER_CTX_init() remains as an alias for EVP_CIPHER_CTX_reset().</p>
</blockquote>
<p>å°†opensslåº“ä¸­çš„EVP_CIPHER_CTX_cleanupæ”¹ä¸ºEVP_CIPHER_CTX_resetå³å¯ã€‚<br>å†æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹shadowsockså®‰è£…ä½ç½®<br>~#:pip install shadowsocks<br>Requirement already satisfied: shadowsocks in /usr/local/lib/python2.7/dist-packages<br>~#:cd /usr/local/lib/python2.7/dist-packages/shadowsocks<br>~#:vim crypto/openssl.py<br>æœç´¢cleanupï¼Œå°†å…¶æ›¿æ¢ä¸ºreset<br>å…·ä½“ä½ç½®åœ¨ç¬¬52è¡Œlibcrypto.EVP_CIPHER_CTX_cleanup.argtypes = (c_void_p,)å’Œç¬¬111è¡Œlibcrypto.EVP_CIPHER_CTX_cleanup(self._ctx) </p>
<h4 id="æ‰‹åŠ¨è¿è¡Œåå°æŒ‚èµ·"><a href="#æ‰‹åŠ¨è¿è¡Œåå°æŒ‚èµ·" class="headerlink" title="æ‰‹åŠ¨è¿è¡Œåå°æŒ‚èµ·"></a>æ‰‹åŠ¨è¿è¡Œåå°æŒ‚èµ·</h4><p>å°†æ‰€æœ‰çš„logé‡å®šå‘åˆ°~/.log/sslocal.logæ–‡ä»¶ä¸­<br>~$:mkdir ~/.log<br>~$:touch ~/.log/ss-local.log<br>~$:nohup sslocal -c /etc/shadowsocks_v6.json \&lt;/dev/null &amp;>&gt;~/.log/ss-local.log &amp;</p>
<h4 id="å¼€æœºè‡ªå¯shadowsocks-client"><a href="#å¼€æœºè‡ªå¯shadowsocks-client" class="headerlink" title="å¼€æœºè‡ªå¯shadowsocks client"></a>å¼€æœºè‡ªå¯shadowsocks client</h4><p>ä½†æ˜¯è¿™æ ·å­çš„è¯ï¼Œæ¯æ¬¡å¼€æœºéƒ½è¦é‡æ–°è¿è¡Œä¸Šè¿°å‘½ä»¤ï¼Œå¤ªéº»çƒ¦äº†ã€‚å¯ä»¥å†™ä¸ªå¼€æœºè‡ªå¯è„šæœ¬ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br>~$:sudo vim /etc/init.d/shadowsocks<br>å†…å®¹ä¸ºä»¥ä¸‹shellè„šæœ¬</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>## BEGIN INIT INFO</span><br><span class="line"><span class="meta">#</span> Provides:          shadowsocks local</span><br><span class="line"><span class="meta">#</span> Required-Start:    $local_fs $remote_fs $network $syslog</span><br><span class="line"><span class="meta">#</span> Required-Stop:     $local_fs $remote_fs $network $syslog</span><br><span class="line"><span class="meta">#</span> Default-Start:     2 3 4 5</span><br><span class="line"><span class="meta">#</span> Default-Stop:      0 1 6</span><br><span class="line"><span class="meta">#</span> Short-Description: shadowsocks service</span><br><span class="line"><span class="meta">#</span> Description:       shadowsocks service daemon</span><br><span class="line"><span class="meta">#</span>## END INIT INFO</span><br><span class="line">start()&#123;</span><br><span class="line">ã€€ã€€  sslocal -c /etc/shadowsocks.json -d start</span><br><span class="line">&#125;</span><br><span class="line">stop()&#123;</span><br><span class="line">ã€€ã€€  sslocal -c /etc/shadowsocks.json -d stop</span><br><span class="line">&#125;</span><br><span class="line">case â€œ$1â€ in</span><br><span class="line">start)</span><br><span class="line">ã€€ã€€ã€€start</span><br><span class="line">ã€€ã€€ã€€;;</span><br><span class="line">stop)</span><br><span class="line">ã€€ã€€ã€€stop</span><br><span class="line">ã€€ã€€ã€€;;</span><br><span class="line">reload)</span><br><span class="line">ã€€ã€€ã€€stop</span><br><span class="line">ã€€ã€€ã€€start</span><br><span class="line">ã€€ã€€ã€€;;</span><br><span class="line">\*)</span><br><span class="line">ã€€ã€€ã€€echo â€œUsage: $0 &#123;start|reload|stop&#125;â€</span><br><span class="line">ã€€ã€€ã€€exit 1</span><br><span class="line">ã€€ã€€ã€€;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š<br>~$:sudo chomod a+x /etc/init.d/shadowsocks<br>~$:sudo update_rc.d shadowsocks defaults<br>ä¸Šè¿°å‘½ä»¤æ‰§è¡Œå®Œæˆä»¥åï¼Œè¿›è¡Œæµ‹è¯•<br>~$:sudo service shadosowcks start</p>
<h4 id="é…ç½®ä»£ç†"><a href="#é…ç½®ä»£ç†" class="headerlink" title="é…ç½®ä»£ç†"></a>é…ç½®ä»£ç†</h4><p>ä¸Šä¸€æ­¥çš„ç›®çš„æ˜¯å»ºç«‹äº†shadowsocksæœåŠ¡çš„æœ¬åœ°å®¢æˆ·ç«¯ï¼Œsocks5æµé‡ä¼šèµ°è¯¥é€šé“ï¼Œä½†æ˜¯æµè§ˆå™¨çš„ç½‘é¡µçš„æµé‡æ˜¯httpsçš„ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®ç›¸åº”çš„ä»£ç†ï¼Œå°†httpsæµé‡è½¬æ¢ä¸ºsocks5æµé‡ï¼Œèµ°sså®¢æˆ·ç«¯åˆ°è¾¾ssæœåŠ¡ç«¯ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æŠŠå…¶ä»–å„ç§æµé‡ï¼Œå¦‚tcp,udpç­‰å„ç§æµé‡éƒ½è½¬æ¢ä¸ºsocks5æµé‡ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡å…¨å±€ä»£ç†å®ç°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ ç‰¹å®šçš„ä»£ç†è§„åˆ™å®ç°ã€‚</p>
<h5 id="é…ç½®å…¨å±€ä»£ç†"><a href="#é…ç½®å…¨å±€ä»£ç†" class="headerlink" title="é…ç½®å…¨å±€ä»£ç†"></a>é…ç½®å…¨å±€ä»£ç†</h5><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ·»åŠ ubuntu socks5ç³»ç»Ÿä»£ç†ï¼š</p>
<p>ç„¶åå°±å¯ä»¥æˆåŠŸä¸Šç½‘äº†ã€‚</p>
<h5 id="ä½¿ç”¨SwitchyOmegaé…ç½®chromeä»£ç†"><a href="#ä½¿ç”¨SwitchyOmegaé…ç½®chromeä»£ç†" class="headerlink" title="ä½¿ç”¨SwitchyOmegaé…ç½®chromeä»£ç†"></a>ä½¿ç”¨SwitchyOmegaé…ç½®chromeä»£ç†</h5><p>é¦–å…ˆåˆ° <a href="https://github.com/FelisCatus/SwitchyOmega/releases" target="_blank" rel="noopener">https://github.com/FelisCatus/SwitchyOmega/releases</a> ä¸‹è½½SyitchyOmega.crxã€‚ç„¶ååœ¨chromeçš„åœ°å€æ è¾“å…¥chrome://extensionsï¼Œå°†åˆšæ‰ä¸‹è½½çš„æ’ä»¶æ‹–è¿›å»ã€‚<br>ç„¶ååœ¨æµè§ˆå™¨å³ä¸Šè§’å°±æœ‰äº†è¿™ä¸ªæ’ä»¶ï¼Œæ¥ä¸‹æ¥é…ç½®æ’ä»¶ã€‚å¦‚ä¸‹å›¾ï¼š<br><img src="https:" alt="mxx"><br>ç›´æ¥é…ç½®proxyï¼Œæ·»åŠ å¦‚å›¾æ‰€ç¤ºçš„è§„åˆ™ï¼Œè¿™æ ·chromeæ‰“å¼€çš„æ‰€æœ‰ç½‘ç«™éƒ½æ˜¯èµ°ä»£ç†çš„ã€‚</p>
<h4 id="ä½¿ç”¨privoxyè®©terminalèµ°socks5"><a href="#ä½¿ç”¨privoxyè®©terminalèµ°socks5" class="headerlink" title="ä½¿ç”¨privoxyè®©terminalèµ°socks5"></a>ä½¿ç”¨privoxyè®©terminalèµ°socks5</h4><p>~$:sudo apt install privoxy<br>~$:sudo vim /etc/privoxy/config<br>å–æ¶ˆä¸‹åˆ—è¡Œçš„æ³¨é‡Šï¼Œæˆ–è€…æ·»åŠ ç›¸åº”æ¡ç›®<br>forward-socks5 / 127.0.0.1:1080 . # SOCKS5ä»£ç†åœ°å€<br>listen-address 127.0.0.1:8118     # HTTPä»£ç†åœ°å€<br>forward 10.*.*.*/ .               # å†…ç½‘åœ°å€ä¸èµ°ä»£ç†<br>forward .abc.com/ .             # æŒ‡å®šåŸŸåä¸èµ°ä»£ç†<br>é‡å¯privoxyæœåŠ¡<br>~$:sudo service privoxy restart<br>åœ¨bashrcä¸­æ·»åŠ å¦‚ä¸‹ç¯å¢ƒå˜é‡<br>export http_proxy=â€<a href="http://127.0.0.1:8118" target="_blank" rel="noopener">http://127.0.0.1:8118</a>â€œ<br>export https_proxy=â€<a href="http://127.0.0.1:8118" target="_blank" rel="noopener">http://127.0.0.1:8118</a>â€œ</p>
<p>~$:source ~/.bashrc<br>~$:curl.gs</p>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ol>
<li><a href="http://godjose.com/2017/06/14/new-article/" target="_blank" rel="noopener">http://godjose.com/2017/06/14/new-article/</a></li>
<li><a href="https://www.polarxiong.com/archives/æ­å»ºipv6-VPN-è®©ipv4ä¸Šipv6-ä¸‹è½½é€Ÿåº¦æå‡åˆ°100M.html" target="_blank" rel="noopener">https://www.polarxiong.com/archives/æ­å»ºipv6-VPN-è®©ipv4ä¸Šipv6-ä¸‹è½½é€Ÿåº¦æå‡åˆ°100M.html</a></li>
<li><a href="https://blog.csdn.net/li1914309758/article/details/86510127" target="_blank" rel="noopener">https://blog.csdn.net/li1914309758/article/details/86510127</a></li>
<li><a href="https://blog.csdn.net/blackfrog_unique/article/details/60320737" target="_blank" rel="noopener">https://blog.csdn.net/blackfrog_unique/article/details/60320737</a></li>
<li><a href="https://blog.csdn.net/qq_31851531/article/details/78410146" target="_blank" rel="noopener">https://blog.csdn.net/qq_31851531/article/details/78410146</a></li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/02/dqn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/02/dqn/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/12/index.html">DQN</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-02 19:29:35" itemprop="dateCreated datePublished" datetime="2019-03-02T19:29:35+08:00">2019-03-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-06-01 10:17:51" itemprop="dateModified" datetime="2019-06-01T10:17:51+08:00">2019-06-01</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/å¼ºåŒ–å­¦ä¹ /" itemprop="url" rel="index"><span itemprop="name">å¼ºåŒ–å­¦ä¹ </span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="DQN"><a href="#DQN" class="headerlink" title="DQN"></a>DQN</h2><p>è®ºæ–‡åç§°<a href="https://arxiv.org/pdf/1312.5602.pdf" target="_blank" rel="noopener">Playing Atari with Deep Reinforcement Learning</a></p>
<h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>ç”¨ä¸€ä¸ªCNNè¡¨ç¤ºå€¼å‡½æ•°ï¼Œç›´æ¥ä»é«˜ç»´çš„è¾“å…¥ä¸­å­¦ä¹ æ§åˆ¶ç­–ç•¥ã€‚ç”¨Q-learningçš„å˜ç§æ¥è®­ç»ƒè¿™ä¸ªCNNã€‚ç½‘ç»œçš„è¾“å…¥æ˜¯åŸå§‹çš„å›¾ç‰‡ï¼Œè¾“å‡ºæ˜¯å›¾ç‰‡å¯¹åº”çš„stateå¯èƒ½é‡‡å–çš„actionçš„$Q$å€¼ã€‚<br>Atari 2600æ˜¯ä¸€ä¸ªRLçš„benchmarkï¼Œæœ‰2600ä¸ªæ¸¸æˆï¼Œæ¯ä¸ªagentä¼šå¾—åˆ°ä¸€ä¸ªå›¾åƒè¾“å…¥(210 x 160 RGBè§†é¢‘60Hz)ã€‚æœ¬æ–‡çš„ç›®æ ‡æ˜¯è®¾è®¡ä¸€ä¸ªNNæ¶æ„å°½å¯èƒ½å­¦ä¼šæ›´å¤šæ¸¸æˆï¼Œç½‘ç»œçš„è¾“å…¥åªæœ‰è§†é¢‘ä¿¡æ¯ï¼Œrewardå’Œterminalä¿¡å·ä»¥åŠå¯èƒ½é‡‡å–çš„actionï¼Œå’Œäººç±»ç©å®¶å¾—åˆ°çš„ä¿¡æ¯æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œå½“ç„¶æ˜¯è®¡ç®—æœºèƒ½çœ‹å¾—æ‡‚çš„ä¿¡å·ã€‚</p>
<h3 id="éœ€è¦è§£å†³çš„é—®é¢˜"><a href="#éœ€è¦è§£å†³çš„é—®é¢˜" class="headerlink" title="éœ€è¦è§£å†³çš„é—®é¢˜"></a>éœ€è¦è§£å†³çš„é—®é¢˜</h3><ol>
<li>å¤§é‡æœ‰æ ‡è®°çš„è®­ç»ƒæ•°æ®ã€‚</li>
<li>å¼ºåŒ–å­¦ä¹ éœ€è¦ä»ä¸€ä¸ªç¨€ç–çš„ï¼Œæœ‰å™ªéŸ³çš„ï¼Œé€šå¸¸æ˜¯time-delayed(å»¶è¿Ÿçš„)æ ‡é‡ä¿¡å·ä¸­å­¦ä¹ ã€‚è¿™ä¸ªdelayå­˜åœ¨äºactionå’Œrewardä¹‹é—´ï¼Œè€Œä¸”å¯ä»¥è¾¾åˆ°å‡ åƒä¸ªtimestepsé‚£ä¹ˆè¿œï¼Œå’Œsupervised learnignä¸­è¾“å…¥å’Œè¾“å…¥ä¹‹é—´ç›´æ¥çš„å…³ç³»ç›¸æ¯”è¦å¤æ‚çš„å¤šã€‚</li>
<li>å¤§å¤šæ•°æ·±åº¦å­¦ä¹ ç®—æ³•å‡è®¾æ ·æœ¬ä¹‹é—´éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œç„¶è€Œå¼ºåŒ–å­¦ä¹ çš„ä¸€ä¸ªsequence(åºåˆ—)é€šå¸¸æ˜¯é«˜åº¦ç›¸å…³çš„ã€‚</li>
<li>å¼ºåŒ–å­¦ä¹ ç®—æ³•å­¦ä¹ åˆ°çš„policyå˜åŒ–æ—¶ï¼Œæ•°æ®æœä»çš„åˆ†å¸ƒé€šå¸¸ä¼šæ”¹å˜ï¼Œç„¶è€Œæ·±åº¦å­¦ä¹ é€šå¸¸å‡è®¾æ•°æ®æœä»ä¸€ä¸ªå›ºå®šçš„åˆ†å¸ƒã€‚</li>
</ol>
<h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><h4 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h4><ol>
<li>agentä¸Atariæ¨¡æ‹Ÿå™¨ä¸æ–­äº¤äº’ï¼Œagentä¸èƒ½è§‚æµ‹åˆ°æ¨¡æ‹Ÿå™¨çš„å†…éƒ¨çŠ¶æ€ï¼Œåªèƒ½å¾—åˆ°å½“å‰å±å¹•ä¿¡æ¯çš„ä¸€ä¸ªå›¾ç‰‡ã€‚è¿™ä¸ªtaskå¯ä»¥è®¤ä¸ºæ˜¯éƒ¨åˆ†å¯è§‚æµ‹çš„ï¼Œå› ä¸ºä»…ä»…ä»å½“å‰çš„å±å¹•å›¾åƒ$x_t$ä¸Šæ˜¯ä¸èƒ½å®Œå…¨ç†è§£æ•´ä¸ªæ¸¸æˆçŠ¶å†µçš„ã€‚æ‰€æœ‰çš„åºåˆ—éƒ½è®¤ä¸ºåœ¨æœ‰é™æ­¥éª¤å†…æ˜¯ä¼šç»“æŸçš„ã€‚</li>
<li>æ³¨æ„agentå½“å‰çš„å¾—åˆ†å–å†³äºæ•´ä¸ªsequenceçš„actionå’Œobservationã€‚ä¸€ä¸ªactionçš„feedbackå¯èƒ½ç­‰åˆ°å¥½å‡ åƒä¸ªtimestepsä¹‹åæ‰èƒ½å¾—åˆ°ã€‚</li>
<li>agentçš„ç›®æ ‡æ˜¯é€šè¿‡é‡‡å–actionå’Œenväº¤äº’æœ€å¤§åŒ–ç´¯è®¡rewardã€‚å®šä¹‰$t$æ—¶åˆ»çš„å›æŠ¥returnä¸º$R_t = \sum\^T_{tâ€™=t} \gamma\^{tâ€™-t}r_{tâ€™}$ï¼Œå…¶ä¸­$\gamma$æ˜¯æŠ˜æ‰£å› å­ï¼Œ$T$æ˜¯æ¸¸æˆç»ˆæ­¢çš„æ—¶é—´æ­¥ã€‚</li>
<li>å®šä¹‰æœ€ä¼˜çš„åŠ¨ä½œå€¼å‡½æ•°$Q\^{*}(s,a)$æ˜¯éµå¾ªæœ€ä¼˜ç­–ç•¥åœ¨çŠ¶æ€$s$å¤„é‡‡å–åŠ¨ä½œ$a$èƒ½è·å¾—çš„æœ€å¤§çš„æœŸæœ›å›æŠ¥ï¼Œ$Q\^{*}(s,a) = max_{\pi}E[R_t|s_t=s,a_t=a,\pi]$ã€‚</li>
<li>æœ€ä¼˜çš„åŠ¨ä½œå€¼å‡½æ•°éµå¾ªBellman optimal equationã€‚å¦‚æœåœ¨ä¸‹ä¸ªæ—¶é—´æ­¥çš„çŠ¶æ€$sâ€™$å¤„ï¼Œå¯¹äºæ‰€æœ‰å¯èƒ½çš„$aâ€™$ï¼Œ$Q\^{*}(sâ€™,aâ€™)$çš„æœ€ä¼˜å€¼æ˜¯å·²çŸ¥çš„ï¼ˆè¿™é‡Œå°±æ˜¯å¯¹äºæ¯ä¸€ä¸ª$aâ€™$ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæœ€ä¼˜çš„$Q(sâ€™,aâ€™)$ï¼Œæœ€ä¼˜çš„ç­–ç•¥å°±æ˜¯é€‰æ‹©æœ€å¤§åŒ–$r+Q\^{*}(sâ€™,aâ€™)$çš„åŠ¨ä½œ$aâ€™$ï¼š<script type="math/tex; mode=display">Q\^{\*}(s,a) = E_{s\sim E}[r+ \gamma max_{a'} Q\^{\*}(s',a')|s,a], \tag{1}</script>å¼ºåŒ–å­¦ä¹ çš„ä¸€ä¸ªæ€è·¯å°±æ˜¯ä½¿ç”¨Bellman optimal equationæ›´æ–°åŠ¨ä½œå€¼å‡½æ•°ï¼Œ$Q_{i+1}(s,a) = E[r + \gamma Q_i(sâ€™,aâ€™)|s,a]$ï¼Œå½“$i\rightarrow \infty$æ—¶ï¼Œ$Q_i \rightarrow Q\^{*}$ã€‚</li>
<li>ä¸Šè¿°ä¾‹å­æ˜¯state-action pairå¾ˆå°‘çš„æƒ…å†µï¼Œå½“æœ‰æ— ç©·å¤šä¸ªçš„æ—¶å€™ï¼Œæ˜¯æ— æ³•ç²¾ç¡®è®¡ç®—çš„ã€‚è¿™æ—¶å€™å¯ä»¥é‡‡ç”¨å‡½æ•°æ¥ä¼°è®¡åŠ¨ä½œå€¼å‡½æ•°ï¼Œ$Q(s,a;\theta) \approx Q\^{*}(s,a)$ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé€šå¸¸é‡‡ç”¨çº¿æ€§å‡½æ•°è¿›è¡Œä¼°è®¡ï¼Œå½“ç„¶å¯ä»¥é‡‡ç”¨éçº¿æ€§çš„å‡½æ•°ï¼Œå¦‚ç¥ç»ç½‘ç»œç­‰ç­‰ã€‚è¿™é‡Œé‡‡ç”¨çš„æ˜¯ç¥ç»ç½‘ç»œï¼Œç”¨$\theta$è¡¨ç¤ºç½‘ç»œçš„å‚æ•°ï¼Œè¿™ä¸ªç½‘ç»œå«åšQç½‘ç»œï¼ŒQç½‘ç»œé€šè¿‡æœ€å°åŒ–ä¸‹åˆ—lossè¿›è¡Œè®­ç»ƒï¼š<script type="math/tex; mode=display">L_i(\theta_i) = E_{s,a\sim \rho(\cdot)}\left[(y_i - Q(s,a;\theta_i))\^2\right]\tag{2}</script>å…¶ä¸­$y_i = E_{sâ€™\sim E}[r+\gamma max_{aâ€™}Q(sâ€™,aâ€™;\theta_{i-1})]$æ˜¯ç¬¬$i$æ¬¡è¿­ä»£çš„targetå€¼ï¼Œå…¶ä¸­$\rho(s,a)$æ˜¯$(s,a)$æœä»çš„æ¦‚ç‡åˆ†å¸ƒã€‚</li>
<li>æ³¨æ„åœ¨ä¼˜åŒ–$L_i(\theta_i)$æ—¶ï¼Œä¸Šä¸€æ¬¡è¿­ä»£çš„$\theta_{i-1}$æ˜¯ä¸å˜çš„ï¼Œtargetå–å†³äºç½‘ç»œå‚æ•°ï¼Œå’Œç›‘ç£å­¦ä¹ ä½œå¯¹æ¯”ï¼Œç›‘ç£å­¦ä¹ çš„targetå’Œç½‘ç»œå‚æ•°æ— å…³ã€‚</li>
<li>å¯¹Losså‡½æ•°è¿›è¡Œæ±‚å¯¼ï¼Œå¾—åˆ°ä¸‹åˆ—çš„gradientä¿¡æ¯ï¼š<script type="math/tex; mode=display">\nabla_{\theta_i}L_i(\theta_i) = E_{s,a\sim \rho(\cdot),s'\sim E}\left[(r+\gamma max_{a'}Q(s',a';\theta_{i-1})-Q(s,a;\theta_i))\nabla_{\theta_i}Q(s,a;\theta_i)\right]\tag{3}</script>é€šè¿‡SGDä¼˜åŒ–losså‡½æ•°ã€‚å¦‚æœæƒé‡æ˜¯æ¯éš”å‡ ä¸ªtimestepè¿›è¡Œæ›´æ–°ï¼Œå¹¶ä¸”ç”¨ä»åˆ†å¸ƒ$\rho$å’Œç¯å¢ƒ$E$ä¸­é‡‡æ ·å¾—åˆ°çš„æ ·æœ¬å–ä»£æœŸæœ›ï¼Œå°±å¯ä»¥å¾—åˆ°ç†Ÿæ‚‰çš„Q-learningç®—æ³•[2]ã€‚(è¿™ä¸ªå…·ä½“ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œå¯ä»¥çœ‹å‚è€ƒæ–‡çŒ®2)</li>
<li>dqnæ˜¯Model-Freeçš„ï¼Œå®ƒç›´æ¥ä»ç¯å¢ƒ$E$ä¸­é‡‡æ ·ï¼Œå¹¶æ²¡æœ‰æ˜¾å¼çš„å¯¹ç¯å¢ƒè¿›è¡Œå»ºæ¨¡ã€‚</li>
<li>dqnæ˜¯ä¸€ä¸ªonlineçš„æ–¹æ³•ï¼Œå³è®­ç»ƒæ•°æ®ä¸æ–­å¢åŠ ã€‚offlineæ˜¯è®­ç»ƒæ•°æ®å›ºå®šã€‚</li>
<li>dqnæ˜¯ä¸€ä¸ªoff-policyç®—æ³•ï¼Œtarget policy æ˜¯greedy policyï¼Œbehaviour policyæ˜¯$\varepsilon$ greedy policyï¼Œtarget policyå’Œgreedy policyç­–ç•¥ä¸åŒã€‚<blockquote>
<p>On-policy methods attempt to evaluate or improve the policy that is used to make decisions, whereas  off-policy methods evaluate or improve a policy different from that used to generate the data.</p>
</blockquote>
</li>
</ol>
<p>Sarsaå’ŒQ-learningçš„åŒºåˆ«åœ¨äºæ›´æ–°Qå€¼æ—¶çš„target policyå’Œbehaviour policyæ˜¯å¦ç›¸åŒã€‚å…¶å®å°±æ˜¯policy evaluationå’Œvalue iterationçš„åŒºåˆ«ï¼Œpolicy evaluationä½¿ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•æ›´æ–°$V(s)$ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ”¹å˜è¡Œä¸ºç­–ç•¥ï¼Œæ›´æ–°è¿­ä»£ç”¨çš„æ•°æ®éƒ½æ˜¯åˆ©ç”¨ä¹‹å‰çš„è¡Œä¸ºç­–ç•¥ç”Ÿæˆçš„ã€‚è€Œå€¼è¿­ä»£æ˜¯policy evaluation+policy improvementï¼Œæ¯ä¸€æ­¥éƒ½ç”¨è´ªå¿ƒç­–ç•¥é€‰æ‹©å‡ºæœ€å¤§çš„$a$æ›´æ–°$V(s)$ï¼Œtarget policyï¼ˆgreedyï¼‰å’Œbehaviour policyï¼ˆ$\varepsilon$-greedyï¼‰æ˜¯ä¸åŒçš„ã€‚</p>
<h4 id="åˆ›æ–°å’ŒæŠ€å·§"><a href="#åˆ›æ–°å’ŒæŠ€å·§" class="headerlink" title="åˆ›æ–°å’ŒæŠ€å·§"></a>åˆ›æ–°å’ŒæŠ€å·§</h4><ol>
<li>DQNä½¿ç”¨äº†experience replayï¼Œå°†å¤šä¸ªepisodesä¸­çš„ç»éªŒå­˜å‚¨åˆ°ä¸€ä¸ªå¤§å°ä¸º$N$çš„replay bufferä¸­ã€‚åœ¨æ›´æ–°$Q$å€¼çš„æ—¶å€™ï¼Œä»replay bufferä¸­è¿›è¡Œé‡‡æ ·æ›´æ–°ã€‚behaviour policyæ˜¯$\varepsilon$-greedyç­–ç•¥ï¼Œä¿æŒæ¢ç´¢ã€‚target policyæ˜¯$\varepsilon$ greedy ç®—æ³•ï¼Œå› ä¸ºreplay bufferä¸­å­˜æ”¾çš„éƒ½æ˜¯behaviour policyç”Ÿæˆçš„experienceï¼Œæ‰€ä»¥æ˜¯off-policyç®—æ³•ã€‚<br>é‡‡ç”¨experience replayçš„onlineç®—æ³•[5]å’Œæ ‡å‡†çš„onlineç®—æ³•ç›¸æ¯”æœ‰ä¸‰ä¸ªå¥½å¤„[4]ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ¯ä¸€ä¸ªexperienceå¯ä»¥å¤šæ¬¡ç”¨æ¥æ›´æ–°å‚æ•°ï¼Œæé«˜äº†æ•°æ®è®­ç»ƒæ•ˆç‡ï¼›ç¬¬äºŒä¸ªæ˜¯ç›´æ¥ä»è¿ç»­çš„æ ·æœ¬ä¸­è¿›è¡Œå­¦ä¹ æ˜¯ä½æ•ˆçš„ï¼Œå› ä¸ºæ ·æœ¬ä¹‹é—´å­˜åœ¨å¼ºå…³è”æ€§ã€‚ç¬¬ä¸‰ä¸ªæ˜¯on-policyçš„å­¦ä¹ ä¸­ï¼Œå½“å‰çš„å‚æ•°å†³å®šä¸‹ä¸€æ¬¡é‡‡æ ·çš„æ ·æœ¬ï¼Œå°±å¯èƒ½ä½¿å­¦ä¹ å‡ºæ¥çš„ç»“æœå‘ç”Ÿåç§»ã€‚</li>
<li>replay bufferä¸­åªå­˜å‚¨æœ€è¿‘Nä¸ªexperienceã€‚</li>
<li>åŸå§‹å›¾åƒæ˜¯$210\times 160$çš„RGBå›¾åƒï¼Œé¢„å¤„ç†é¦–å…ˆå°†å®ƒå˜ä¸ºç°åº¦å›¾ï¼Œå¹¶è¿›è¡Œä¸‹é‡‡æ ·å¾—åˆ°ä¸€ä¸ª$110\times 84$çš„å›¾åƒï¼Œç„¶åä»è¿™ä¸ªå›¾åƒä¸­æˆªå–ä¸€ä¸ª$84\times 84$çš„å›¾åƒã€‚</li>
<li>ä½œè€…ä½¿ç”¨é¢„å¤„ç†å‡½æ•°$\phi$å¤„ç†è¿ç»­å››å¼ çš„å›¾åƒè€Œä¸æ˜¯ä¸€å¼ ï¼Œç„¶åå°†è¿™ä¸ªé¢„å¤„ç†åçš„ç»“æœè¾“å…¥$Q$å‡½æ•°ã€‚</li>
<li>é¢„å¤„ç†å‡½æ•°$\phi$æ˜¯ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œï¼Œè¾“å…¥æ˜¯$84\times 84\times 4$çš„å›¾åƒçŸ©é˜µï¼Œç»è¿‡$16$ä¸ªstrideä¸º$4$çš„$8\times 8$filterï¼Œç»è¿‡reluæ¿€æ´»å‡½æ•°ï¼Œå†ç»è¿‡$32$ä¸ªstrideä¸º$2$çš„$4\times 4$filterï¼Œç»è¿‡reluæ¿€æ´»å‡½æ•°ï¼Œæœ€åæ¥ä¸€ä¸ª256ä¸ªå•å…ƒçš„å…¨è¿æ¥å±‚ã€‚è¾“å‡ºå±‚çš„å¤§å°æ ¹æ®ä¸åŒæ¸¸æˆçš„åŠ¨ä½œä¸ªæ•°å†³å®šã€‚</li>
<li>$Q$ç½‘ç»œçš„è¾“å…¥æ˜¯é¢„å¤„ç†åçš„å›¾åƒstateï¼Œè¾“å‡ºæ˜¯æ‰€æœ‰å½“å‰stateå¯èƒ½é‡‡å–çš„actionçš„$Q$å€¼ã€‚</li>
<li>DQNæ˜¯ä¸æ”¶æ•›çš„ã€‚</li>
</ol>
<h3 id="ä¼ªä»£ç "><a href="#ä¼ªä»£ç " class="headerlink" title="ä¼ªä»£ç "></a>ä¼ªä»£ç </h3><p>ç®—æ³• 1 Deep Q-learning with Experience Replay<br>Initialize replay memory D to capacity N<br>Initialize action-value function Q with random weights<br>for episode = $1, M$ do<br>$        $Initialize sequence $s_1 = {x_1}$ and preprocessed sequenced $\phi_1 = \phi(s_1)$<br>$        $for $t = 1,T$ do<br>$                $With probability $\varepsilon$ select a random action $a_t$<br>$                $otherwise select $a_t = max_a Q\^{âˆ—}(\phi(s_t), a; Î¸)$<br>$                $Execute action $a_t$ in emulator and observe reward $r_t$ and image $x_{t+1}$<br>$                $Set $s_{t+1} = s_t, a_t, x_{t+1}$ and preprocess $\phi_{t+1} = \phi(s_{t+1})$<br>$                $Store transition $(\phi_t, a_t, r_t, \phi_{t+1})$ in D<br>$                $Sample random minibatch of transitions $(\phi_j, a_j, r_j, \phi_{j+1})$ from D<br>$                $Set $y_j = \begin{cases}r_j&amp;    for terminal \phi_{j+1}\\\\r_j+\gamma max_{aâ€™}Q(\phi_{j+1},aâ€™|\theta)&amp;    for non-terminal \phi_{j+1}\end{cases}$<br>$                $Perform a gradient descent step on $(y_j âˆ’ Q(\phi_j, a_j|Î¸))\^2$<br>$        $end for<br>end for</p>
<h3 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h3><h4 id="Datasets"><a href="#Datasets" class="headerlink" title="Datasets"></a>Datasets</h4><p>ä¸ƒä¸ªAtari 2600 games: B.Rider, Breakout, Enduro, Pong, Q bert, Seaquest, S.Invadersã€‚<br>åœ¨å…­ä¸ªæ¸¸æˆä¸ŠDQNçš„è¡¨ç°è¶…è¿‡äº†ä¹‹å‰æ‰€æœ‰çš„æ–¹æ³•ï¼Œåœ¨ä¸‰ä¸ªæ¸¸æˆä¸ŠDQNçš„è¡¨ç°è¶…è¿‡äº†äººç±»ã€‚</p>
<h4 id="Settings"><a href="#Settings" class="headerlink" title="Settings"></a>Settings</h4><ol>
<li>ä¸åŒæ¸¸æˆçš„rewardå˜åŒ–å¾ˆå¤§ï¼Œè¿™é‡ŒæŠŠæ­£çš„rewardå…¨éƒ¨è®¾ç½®ä¸º$1$ï¼ŒæŠŠè´Ÿçš„rewardå…¨éƒ¨è®¾ç½®ä¸º$-1$ï¼Œrewardä¸º$0$çš„ä¿æŒä¸å˜ã€‚è¿™æ ·å­åœ¨ä¸åŒæ¸¸æˆä¸­ä¹Ÿå¯ä»¥ç»Ÿä¸€å­¦ä¹ ç‡ã€‚</li>
<li>é‡‡ç”¨RMSPropä¼˜åŒ–ç®—æ³•ï¼Œbatchsizeä¸º$32$ï¼Œbehaviour policyé‡‡ç”¨çš„æ˜¯$\varepsilon$-greedyï¼Œåœ¨å‰$100$ä¸‡æ­¥å†…ï¼Œ$\varepsilon$ä»$1$å˜åˆ°$0.1$ï¼Œæ¥ä¸‹æ¥ä¿æŒä¸å˜ã€‚</li>
<li>ä½¿ç”¨äº†è·³å¸§æŠ€æœ¯ï¼Œæ¯éš”$k$æ­¥ï¼Œagentæ‰é€‰æ‹©ä¸€ä¸ªactionï¼Œåœ¨ä¸­é—´çš„$k-1$æ­¥ä¸­ï¼Œä¿æŒåŸæ¥çš„actionä¸å˜ã€‚è¿™é‡Œé€‰æ‹©äº†$k=4$ï¼Œæœ‰çš„æ¸¸æˆè®¾ç½®çš„ä¸º$k=3$ã€‚</li>
</ol>
<h4 id="Metrics"><a href="#Metrics" class="headerlink" title="Metrics"></a>Metrics</h4><h5 id="average-reward"><a href="#average-reward" class="headerlink" title="average reward"></a>average reward</h5><p>ç¬¬ä¸€ä¸ªmetricæ˜¯åœ¨ä¸€ä¸ªepisodeæˆ–è€…ä¸€æ¬¡æ¸¸æˆå†…total rewardçš„å¹³å‡å€¼ã€‚è¿™ä¸ªmetricå¸¦æœ‰å¾ˆå¤§å™ªéŸ³ï¼Œå› ä¸ºpolicyæƒå€¼ä¸€ä¸ªå¾ˆå°çš„æ”¹å˜å¯èƒ½å°±ä¼šå¯¹policyè®¿é—®statesçš„åˆ†å¸ƒé€ æˆå¾ˆå¤§çš„å½±å“ã€‚</p>
<h5 id="action-value-function"><a href="#action-value-function" class="headerlink" title="action value function"></a>action value function</h5><p>ç¬¬äºŒä¸ªmetricæ˜¯ä¼°è®¡çš„action-value functionï¼Œè¿™é‡Œä½œè€…çš„åšæ³•æ˜¯åœ¨è®­ç»ƒå¼€å§‹å‰ä½¿ç”¨random policyæ”¶é›†ä¸€ä¸ªå›ºå®šçš„states setï¼Œç„¶åtrackè¿™ä¸ªsetä¸­statesæœ€å¤§é¢„æµ‹$Q$å€¼çš„å¹³å‡ã€‚</p>
<h4 id="Baselines"><a href="#Baselines" class="headerlink" title="Baselines"></a>Baselines</h4><ol>
<li>Sarsa</li>
<li>Contingency</li>
<li>DQN</li>
<li>Human</li>
</ol>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p><a href="https://github.com/devsisters/DQN-tensorflow" target="_blank" rel="noopener">https://github.com/devsisters/DQN-tensorflow</a></p>
<h2 id="Nature-DQN"><a href="#Nature-DQN" class="headerlink" title="Nature DQN"></a>Nature DQN</h2><h3 id="éçº¿æ€§æ‹Ÿåˆå‡½æ•°ä¸æ”¶æ•›çš„åŸå› "><a href="#éçº¿æ€§æ‹Ÿåˆå‡½æ•°ä¸æ”¶æ•›çš„åŸå› " class="headerlink" title="éçº¿æ€§æ‹Ÿåˆå‡½æ•°ä¸æ”¶æ•›çš„åŸå› "></a>éçº¿æ€§æ‹Ÿåˆå‡½æ•°ä¸æ”¶æ•›çš„åŸå› </h3><ol>
<li>åºåˆ—ä¸­çŠ¶æ€çš„é«˜åº¦ç›¸å…³æ€§ã€‚</li>
<li>$Q$å€¼çš„ä¸€ç‚¹æ›´æ–°å°±ä¼šå¯¹policyæ”¹å˜é€ æˆå¾ˆå¤§çš„å½±å“ï¼Œä»è€Œæ”¹å˜æ•°æ®çš„åˆ†å¸ƒã€‚</li>
<li>å¾…ä¼˜åŒ–çš„$Q$å€¼å’Œtarget value(ç›®æ ‡Qå€¼)ä¹‹é—´çš„å…³ç³»ï¼Œæ¯æ¬¡ä¼˜åŒ–æ—¶çš„ç›®æ ‡Qå€¼éƒ½æ˜¯å›ºå®šä¸Šæ¬¡çš„å‚æ•°å¾—æ¥çš„ï¼Œä¼˜åŒ–ç›®æ ‡éšç€ä¼˜åŒ–è¿‡ç¨‹ä¸€ç›´åœ¨å˜ã€‚<br>å‰ä¸¤ä¸ªé—®é¢˜æ˜¯é€šè¿‡DQNä¸­æå‡ºçš„replay bufferè§£å†³çš„ï¼Œç¬¬ä¸‰ä¸ªé—®é¢˜æ˜¯Natura DQNä¸­è§£å†³çš„ï¼Œåœ¨ä¸€å®šæ—¶é—´æ­¥å†…ï¼Œå›ºå®štarget networkå‚æ•°ï¼Œæ›´æ–°å¾…networkçš„å‚æ•°ï¼Œç„¶åæ¯éš”å›ºå®šæ­¥æ•°å°†networkçš„å‚æ•°æ‹·è´ç»™target networkã€‚<blockquote>
<p>This instability has several causes: the correlations present in the sequence of observations, the fact that small updates to Q may significantly change the policy and therefore change the data distribution, and the correlations between the action-values (Q) and the target values $r+\gamma max_{aâ€™}Q(sâ€™,aâ€™)$.<br>We address these instabilities with a novel variant of Q-learning, which uses two key ideas. First, we used a biologically inspired mechanism termed experience replay that randomizes over the data, thereby removing correlations in the observation sequence and smoothing over changes in the data distribution. Second, we used an iterative update that adjusts the action-values (Q) towards target values that are only periodically updated, thereby reducing correlations with the target.</p>
</blockquote>
</li>
</ol>
<h3 id="Nature-DQNæ”¹è¿›"><a href="#Nature-DQNæ”¹è¿›" class="headerlink" title="Nature DQNæ”¹è¿›"></a>Nature DQNæ”¹è¿›</h3><ol>
<li>é¢„å¤„ç†çš„ç»“æ„å˜äº†,CNNçš„å±‚æ•°å¢åŠ äº†ä¸€å±‚ï¼Œ</li>
<li>åŠ äº†target networkï¼Œ</li>
<li>å°†erroré™åˆ¶åœ¨$[-1,1]$ä¹‹é—´ã€‚<blockquote>
<p>clip the error term from the update $r + \gamma max_{aâ€™} Q(sâ€™,aâ€™;\theta_i\^{-} - Q(s,a;\theta_i)$ to be between $-1$ and $1$. Because the absolute value loss function $|x|$ has a derivative of $-1$ for all negative values of $x$ and a derivative of $1$ for all positive values of $x$, clipping the squared error to be between $-1$ and $1$ corresponds to using an absolute value loss function for errors outside of the $(-1,1)$ interval. </p>
</blockquote>
</li>
</ol>
<h3 id="æ¡†æ¶"><a href="#æ¡†æ¶" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h3><p>DNQçš„æ¡†æ¶å¦‚ä¸‹æ‰€ç¤º<br><img src="/2019/03/02/dqn/nature-dqn.png" alt="ndqn"></p>
<h3 id="ä¼ªä»£ç -1"><a href="#ä¼ªä»£ç -1" class="headerlink" title="ä¼ªä»£ç "></a>ä¼ªä»£ç </h3><p>ç®—æ³• 2 deep Q-learning with experience replay, target network<br>Initialize replay memory D to capacity N<br>Initialize action-value function Q with random weights $\theta$<br>Initialize target action-value function $\hat{Q}$ with weights $\theta\^{-}=\theta$<br>for episode = $1, M$ do<br>$        $Initialize sequence $s_1 = {x_1}$ and preprocessed sequenced $\phi_1 = \phi(s_1)$<br>$        $for $t = 1,T$ do<br>$                $With probability $\varepsilon$ select a random action $a_t$<br>$                $otherwise select $a_t = max_a Q\^{âˆ—}(\phi(s_t), a; Î¸)$<br>$                $Execute action $a_t$ in emulator and observe reward $r_t$ and image $x_{t+1}$<br>$                $Set $s_{t+1} = s_t, a_t, x_{t+1}$ and preprocess $\phi_{t+1} = \phi(s_{t+1})$<br>$                $Store transition $(\phi_t, a_t, r_t, \phi_{t+1})$ in D<br>$                $Sample random minibatch of transitions $(\phi_j, a_j, r_j, \phi_{j+1})$ from D<br>$                $Set $y_j = \begin{cases}r_j&amp;    for terminal \phi_{j+1}\\\\r_j+\gamma max_{aâ€™}Q(\phi_{j+1},aâ€™|\theta\^{-})&amp;    for non-terminal \phi_{j+1}\end{cases}$<br>$                $Perform a gradient descent step on $(y_j âˆ’ Q(\phi_j, a_j|Î¸))\^2$ with respect to the network parameters $\theta$<br>$                $Every $C$ steps reset $\hat{Q} = Q$<br>$        $end for<br>end for</p>
<h2 id="Double-DQN"><a href="#Double-DQN" class="headerlink" title="Double DQN"></a>Double DQN</h2><h3 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h3><p>è§£å†³overestimateé—®é¢˜ï¼ŒQ-learningä¸­åœ¨estimated valuesä¸Šè¿›è¡Œäº†maxæ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´æŸäº›æ›´åçˆ±overestimated valueè€Œä¸æ˜¯underestimated valuesã€‚<br>æœ¬æ–‡å°†Double Q-learningçš„æƒ³æ³•æ¨å¹¿åˆ°äº†dqnä¸Šå½¢æˆäº†double-dqnã€‚å®éªŒç»“æœè¡¨æ˜äº†overestimated valueå¯¹äºpolicyæœ‰å½±å“ï¼Œdouble ä¼šäº§ç”Ÿå¥½çš„action valueï¼ŒåŒæ—¶åœ¨ä¸€äº›æ¸¸æˆä¸Šä¼šå¾—åˆ°æ›´é«˜çš„scoresã€‚</p>
<h3 id="Contributions"><a href="#Contributions" class="headerlink" title="Contributions"></a>Contributions</h3><ol>
<li>è§£é‡Šäº†åœ¨large scale é—®é¢˜ä¸Šï¼ŒQ-learningè¢«overoptimisticçš„åŸå› æ˜¯å­¦ä¹ å›ºæœ‰çš„estimation errorsã€‚</li>
<li>overestimationåœ¨å®è·µä¸­æ˜¯å¾ˆå¸¸è§ï¼Œä¹Ÿå¾ˆä¸¥é‡çš„ã€‚</li>
<li>Double Q-learningå¯ä»¥å‡å°‘overoptimism</li>
<li>æå‡ºäº†double-dqnã€‚</li>
<li>double-dqnåœ¨æŸäº›æ¸¸æˆä¸Šå¯ä»¥æ‰¾åˆ°æ›´å¥½çš„policyã€‚</li>
</ol>
<h3 id="Double-Q-learning"><a href="#Double-Q-learning" class="headerlink" title="Double Q-learning"></a>Double Q-learning</h3><p>Q-learningç®—æ³•è®¡ç®—target value $y$çš„å…¬å¼å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">y = r + \gamma max_a' Q(s', a'|\theta_t)\tag{4}</script><p>åœ¨è®¡ç®—target valueçš„æ—¶å€™ï¼Œä½¿ç”¨åŒä¸€ä¸ªç½‘ç»œé€‰æ‹©å’Œè¯„ä¼°action $aâ€™$ï¼Œè¿™å¯èƒ½ä¼šè®©ç½‘ç»œé€‰æ‹©ä¸€ä¸ªoverestimated valueï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªoveroptimistic value estimateã€‚æ‰€æœ‰å°±æœ‰äº†double Q-learningï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">y = r + \gamma Q(s', argmax_a' Q(s',a;\theta_t);\theta'\_t)\tag{5}</script><p>target policyè¿˜æ˜¯greedy policyï¼Œé€šè¿‡ä½¿ç”¨$\theta$å¯¹åº”çš„ç½‘ç»œé€‰æ‹©actionï¼Œç„¶ååœ¨è®¡ç®—target valueçš„æ—¶å€™ä½¿ç”¨$\thetaâ€™$å¯¹åº”çš„ç½‘ç»œã€‚<br>åŸæœ‰çš„å…¬å¼å¯ä»¥å†™æˆä¸‹å¼ï¼Œ</p>
<script type="math/tex; mode=display">y = r + \gamma Q(s', argmax_a' Q(s',a;\theta_t);\theta_t)\tag{6}</script><p>å³é€‰æ‹©actionå’Œè®¡ç®—target valueéƒ½æ˜¯ä½¿ç”¨çš„åŒä¸€ä¸ªç½‘ç»œã€‚</p>
<h3 id="Double-dqn"><a href="#Double-dqn" class="headerlink" title="Double dqn"></a>Double dqn</h3><p><img src="/2019/03/02/dqn/double-dqn.png" alt="double-dqn"><br>Double Q-learnignçš„åšæ³•æ˜¯åˆ†è§£target actionä¸­çš„max opearationä¸ºé€‰æ‹©å’Œevaluationã€‚è€Œåœ¨Nature-dqnä¸­ï¼Œæå‡ºäº†target networkï¼Œæ‰€ä»¥åˆ†åˆ«ä½¿ç”¨networkå’Œtarget networkå»é€‰æ‹©å’Œevaluation actionæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ï¼Œè¿™æ ·å­å…¬å¼å°±å˜æˆäº†</p>
<script type="math/tex; mode=display">y = r + \gamma Q(s', argmax_a' Q(s',a;\theta_t);\theta\^{-}\_t)\tag{7}</script><p>å’ŒQ-learnignç›¸æ¯”ï¼Œå°†$\thetaâ€™$æ¢æˆäº†$\theta\^{-}$ evaluate actionï¼Œtarget networkçš„æ›´æ–°å’Œnature-dqnä¸€æ ·ï¼Œè¿‡ä¸€æ®µæ—¶é—´å¤åˆ¶networkçš„å‚æ•°ã€‚</p>
<h3 id="Double-Q-learning-vs-Q-learning"><a href="#Double-Q-learning-vs-Q-learning" class="headerlink" title="Double Q learning vs Q-learning"></a>Double Q learning vs Q-learning</h3><p>å¯ä»¥åœ¨æ•°å­¦ä¸Šè¯æ˜ï¼ŒQ-learningæ˜¯overestimationçš„ï¼Œä½†æ˜¯double q leraingæ˜¯æ— åçš„ã€‚ã€‚ã€‚è¯æ˜ç•™å¾…ä»¥åå†è¯´ã€‚</p>
<p><todo></todo></p>
<to do>

<h3 id="ä¼ªä»£ç -2"><a href="#ä¼ªä»£ç -2" class="headerlink" title="ä¼ªä»£ç "></a>ä¼ªä»£ç </h3><p>ç®—æ³• 3: Double DQN Algorithm.<br>è¾“å…¥: replay buffer $D$, åˆå§‹networkå‚æ•°$\theta$,target networkå‚æ•°$\theta\^{-}$<br>è¾“å…¥ : replay bufferçš„å¤§å°$N_r$, batch size $N_b$, target networkæ›´æ–°é¢‘ç‡$N\^{-}$<br><strong>for</strong> episode $e \in \{1, 2,\cdots, M\}$ do<br>$\qquad$åˆå§‹åŒ–frame sequence $\mathbf{x} \leftarrow ()$<br>$\qquad$<strong>for</strong> $t \in \{0, 1, \cdots\}$ do<br>$\qquad\qquad$è®¾ç½®state $s \leftarrow \mathbf{x}$, é‡‡æ · action $a \sim\pi_B$<br>$\qquad\qquad$ç»™å®š$(s, a)$ï¼Œä»ç¯å¢ƒ$E$ä¸­é‡‡æ ·æ¥ä¸‹æ¥çš„frame $x_t$,æ¥æ”¶reward $r$,åœ¨åºåˆ—$\mathbf{x}$ä¸Šæ‹¼æ¥$x$<br>$\qquad\qquad$<strong>if</strong> $|\mathbf{x}| \gt N_f$<br>$\qquad\qquad$<strong>then</strong><br>$\qquad\qquad\qquad$ä»$\mathbf{x}$ä¸­åˆ é™¤æœ€è€çš„frame $x_{t_min}$<br>$\qquad\qquad$è®¾ç½®$sâ€™ \leftarrow \mathbf{x}$,æ·»åŠ transition tuple (s, a, r, s 0 ) åˆ°buffer Dä¸­ï¼Œå¦‚æœ$|D| \ge N_r$æ›¿æ¢æœ€è€çš„tuple<br>$\qquad\qquad$é‡‡æ ·$N_b$ä¸ªtuples $(s, a, r, sâ€™) \sim Unif(D)$<br>$\qquad\qquad$è®¡ç®—target values, one for each of $N_b$ tuples:<br>$\qquad\qquad$å®šä¹‰$a\^{max}(sâ€™; \theta) = arg max_{aâ€™} Q(sâ€™, aâ€™;\theta)$<br>$\qquad\qquad y_j = \begin{cases}r&amp;\qquad if  sâ€™  is  terminal\\\ r+\gamma Q(sâ€™, a\^{max}(sâ€™;\theta);\theta\^{-}, &amp;\qquad otherwise\end{cases}$<br>$\qquad\qquad$åˆ©ç”¨loss $||y_j âˆ’ Q(s, a; \theta)||^2$çš„æ¢¯åº¦æ›´æ–°<br>$\qquad\qquad$æ¯éš”$N\^{-}$ä¸ªæ­¥éª¤æ›´æ–°ä¸€ä¸‹target network å‚æ•°$\theta\^{-}$<br>$\qquad$<strong>end</strong><br><strong>end</strong></p>
<h3 id="å®éªŒ-1"><a href="#å®éªŒ-1" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h3><p>æå‡ºäº†ä¸€ä¸ªæŒ‡æ ‡ï¼Œnormalized scoreï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">score\_{normalized} = \frac{score\_{agent}- score\_{random}}{score\_{human}-score\_{random}}\tag{8}</script><p>åˆ†æ¯æ˜¯humanå’Œrandomä¹‹å·®ï¼Œå¯¹åº”$100%$ã€‚</p>
<h2 id="Prioritized-DQN-PER"><a href="#Prioritized-DQN-PER" class="headerlink" title="Prioritized DQN(PER)"></a>Prioritized DQN(PER)</h2><h3 id="contributions"><a href="#contributions" class="headerlink" title="contributions"></a>contributions</h3><p>æœ¬æ–‡æå‡ºä¸€ç§äº†proritizing experienceçš„æ¡†æ¶ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¤šæ¬¡ä½¿ç”¨é‡è¦çš„transtions replayè¿›è¡Œæ›´æ–°ï¼Œè®©è®­ç»ƒå˜å¾—çš„æ›´æœ‰æ•ˆç‡ã€‚<br>ä½¿ç”¨TD-errorsä½œä¸ºprioritization mechanismï¼Œç»™å‡ºäº†ä¸¤ç§protitizationè®¡ç®—æ–¹å¼ï¼Œæå‡ºäº†ä¸€ç§stochastic prioritizationä»¥åŠimportance samplingæ–¹æ³•ã€‚</p>
<h3 id="Prioritized-replay"><a href="#Prioritized-replay" class="headerlink" title="Prioritized replay"></a>Prioritized replay</h3><p>å¯ä»¥ä»ä¸¤ä¸ªç»´åº¦ä¸Šè€ƒè™‘replay memeoryçš„æ”¹è¿›ï¼Œä¸€ä¸ªæ˜¯å­˜å“ªäº›experiencesï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨å“ªäº›experiencesè¿›è¡Œå›æ”¾ã€‚æœ¬æ–‡æ˜¯ä»ç¬¬äºŒä¸ªæ–¹å‘ä¸Šè¿›è¡Œçš„è€ƒè™‘ã€‚</p>
<p>ä»bufferä¸­éšæœºæŠ½æ ·çš„æ–¹æ³•ä¸­ï¼Œupdate stepså’Œmemory sizeæ˜¯çº¿æ€§å…³ç³»ï¼Œä½œè€…æƒ³æ‰¾ä¸€ä¸ªupdate stepså’Œmemory sizeæ˜¯logå…³ç³»çš„oracleï¼Œä½†æ˜¯å¾ˆé—æ†¾ï¼Œè¿™æ˜¯ä¸ç°å®çš„ï¼Œæ‰€ä»¥ä½œè€…æƒ³è¦æ‰¾ä¸€ç§æ¯”uniform random replayå¥½å°½é‡æ¥è¿‘oracleçš„æ–¹æ³•ã€‚</p>
<h4 id="Prioritizion-with-TD-error"><a href="#Prioritizion-with-TD-error" class="headerlink" title="Prioritizion with TD-error"></a>Prioritizion with TD-error</h4><p>prioritized replayæœ€é‡è¦çš„éƒ¨åˆ†æ˜¯å¦‚ä½•è¯„ä»·æ¯ä¸€ä¸ªtransitionçš„é‡è¦ç¨‹åº¦ã€‚ä¸€ä¸ªç†æƒ³çš„criterionæ˜¯agentåœ¨å½“å‰çš„stateå¯ä»¥ä»æŸä¸ªtransitionä¸­å­¦åˆ°å¤šå°‘ã€‚è¿™ä¸ªmeasure metricæ˜¯ä¸ç¡®å®šçš„ï¼Œä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆæ˜¯ä½¿ç”¨TD error $\delta$ï¼Œè¡¨ç¤ºhow â€˜suprisingâ€™ æˆ–è€…upexpected the transitionï¼šå°±æ˜¯å½“å‰çš„valueç¦»next-step bootstrapå¾—åˆ°çš„valueç›¸å·®å¤šå°‘ï¼Œbooststrapå°±æ˜¯åŸºäºå…¶ä»–ä¼°è®¡å€¼è¿›è¡Œè®¡ç®—ã€‚ã€‚è¿™ä¸­æ–¹æ³•å¯¹äºincremental,online RLæ–¹æ³•ï¼Œä¾‹å¦‚SARSAä»¥åŠQ-learningæ¥è¯´éƒ½æ˜¯å¾ˆåˆé€‚çš„ï¼Œå› ä¸ºä»–ä»¬ä¼šè®¡ç®—TD-errorï¼Œç„¶åç»™TD-errorä¸€ä¸ªæ¯”ä¾‹ç³»æ•°ç”¨æ¥æ›´æ–°å‚æ•°ã€‚ç„¶åå½“rewardæ˜¯noisyçš„æ—¶å€™ï¼ŒTD-erroræ•ˆæœå¯èƒ½å¾ˆå·®ã€‚<br>ä½œè€…åœ¨ä¸€ä¸ªäººå·¥è®¾è®¡çš„ç¯å¢ƒä¸­ä½¿ç”¨äº†greedy TD-error prioritizationç®—æ³•ï¼Œç®—æ³•åœ¨æ¯æ¬¡å­˜transitionåˆ°replay bufferçš„æ—¶å€™ï¼ŒåŒæ—¶è¿˜ä¼šå­˜ä¸€ä¸‹è¯¥transitionæœ€æ–°çš„TD-errorï¼Œç„¶ååœ¨æ›´æ–°çš„æ—¶å€™ä»memoryä¸­é€‰æ‹©TD-erroræœ€å¤§çš„transitionã€‚æœ€æ–°çš„transition TD-erroræ²¡æœ‰ç®—å‡ºæ¥ï¼Œå°±ç»™å®ƒä¸€ä¸ªæœ€å¤§çš„priorityï¼Œä¿è¯æ‰€æœ‰çš„experienceéƒ½è‡³å°‘è¢«çœ‹åˆ°è¿‡ä¸€æ¬¡ã€‚<br>é‡‡ç”¨äºŒå‰å †ç”¨å®ç°ä¼˜å…ˆé˜Ÿåˆ—ï¼ŒæŸ¥æ‰¾å¤æ‚åº¦æ˜¯$O(1)$ï¼Œæ›´æ–°prioritiesçš„å¤æ‚åº¦æ˜¯$O(logN)$ã€‚</p>
<h4 id="Stochastic-prioritization"><a href="#Stochastic-prioritization" class="headerlink" title="Stochastic prioritization"></a>Stochastic prioritization</h4><p>ä¸Šè¿°æ–¹æ³•æœ‰å¾ˆå¤šé—®é¢˜ã€‚ç¬¬ä¸€ï¼Œæ¯æ¬¡éƒ½sweepæ•´ä¸ªreplay memoryçš„è®¡ç®—é‡å¾ˆå¤§ï¼Œæ‰€ä»¥åªæœ‰è¢«replayedçš„experiencesçš„TD-errorsæ‰ä¼šè¢«æ›´æ–°ã€‚å¼€å§‹æ—¶ä¸€ä¸ªTD errorå¾ˆå°çš„transitionå¯èƒ½å¾ˆé•¿ä¸€æ®µäº‹ä»¶ä¸ä¼šè¢«replayedï¼Œè¿™å°±å¯¼è‡´äº†replay bufferçš„sliding windowä¸èµ·ä½œç”¨äº†ã€‚ç¬¬äºŒï¼ŒTD-errorå¯¹äºnoise spikeå¾ˆæ•æ„Ÿï¼Œè¿˜ä¼šè¢«bootstrapåŠ å‰§ï¼Œä¼°è®¡è¯¯å·®å¯èƒ½ä¼šæ˜¯å¦ä¸€ä¸ªnoiseã€‚ç¬¬ä¸‰ï¼Œgreedy prioritizationé›†ä¸­åœ¨experiencesçš„ä¸€ä¸ªsubsetï¼šerrorså‡å°çš„å¾ˆæ…¢ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨function appriximationæ—¶ï¼Œè¿™å°±æ„å‘³ç€åˆå§‹çš„é«˜errorçš„transitionsä¼šè¢«replayedçš„å¾ˆé¢‘ç¹ï¼Œç„¶åä¼šover-fittingå› ä¸ºç¼ºä¹diversityã€‚<br>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œå¼•å…¥äº†ä¸€ä¸ªä»‹äºpure greedy prioritizaitonä»¥åŠuniform random samplingä¹‹é—´çš„stochasticé‡‡æ ·æ–¹æ³•ï¼Œpriorityé«˜çš„transitionæœ‰æ›´å¤§çš„æ¦‚ç‡è¢«é‡‡æ ·ï¼Œè€Œlowest-priorityçš„transitionä¹Ÿæœ‰æ¦‚ç‡è¢«é€‰ä¸­ï¼Œå…·ä½“çš„å®šä¹‰transition $i$çš„æ¦‚ç‡å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">P(i) = \frac{p_i\^{\alpha}}{\sum_kp_k\^{\alpha}}\tag{9}</script><p>$\alpha$ç¡®å®šprioritizaitonçš„æ¯”é‡ï¼Œå¦‚æœ$\alpha=0$å°±æ˜¯unifromã€‚</p>
<p>æœ‰ä¸¤ç§$p_i$çš„è®¡ç®—æ–¹æ³•ï¼Œä¸€ç§æ˜¯ç›´æ¥çš„proportional prioritizationï¼Œ$p_i = |\delta_i| + \varepsilon$ï¼Œå…¶ä¸­$\varepsilon$æ˜¯ä¸€ä¸ªå°çš„æ­£æ•´æ•°ï¼Œç¡®å®šå½“$p_i=0$æ—¶ï¼Œè¯¥transitionä»èƒ½è¢«replayï¼›ç¬¬äºŒç§æ˜¯é—´æ¥çš„ï¼Œ$p_i = \frac{1}{rank(i)}$ï¼Œå…¶ä¸­$rank(i)$æ˜¯æ‰€æœ‰replay memoryä¸­çš„experiencesæ ¹æ®$|\delta_i|$æ’åºåçš„rankã€‚ç¬¬äºŒç§æ–¹æ³•çš„é²æ£’æ€§æ›´å¥½ã€‚<br>åœ¨å®ç°ä¸Šï¼Œä¸¤ç§æ–¹æ³•éƒ½æœ‰ç›¸åº”çš„trickï¼Œè®©å¤æ‚åº¦ä¸ä¾èµ–äºmemory å¤§å°$N$ã€‚Proportional prioritizationé‡‡ç”¨äº†â€™sum-treeâ€™æ•°æ®ç»“æ„ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å®ƒçš„å­èŠ‚ç‚¹çš„childrenï¼Œprioritiesæ˜¯leaf nodesã€‚è€Œrank-basedæ–¹æ³•ï¼Œä½¿ç”¨çº¿æ€§å‡½æ•°ä¼°è®¡ç´¯è®¡å¯†åº¦å‡½æ•°ï¼Œå…·ä½“æ€ä¹ˆå®ç°æ²¡æœ‰ç»†çœ‹ã€‚</p>
<h4 id="annealing-the-bias"><a href="#annealing-the-bias" class="headerlink" title="annealing the bias"></a>annealing the bias</h4><p>å› ä¸ºrandom sampleæ–¹æ³•ï¼Œsamplesä¹‹é—´æ²¡æœ‰ä¸€ç‚¹è”ç³»ï¼Œé€‰æ‹©æ¯ä¸€ä¸ªsampleçš„æ¦‚ç‡éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œä½†æ˜¯å¦‚æœåŠ ä¸Šäº†priorityï¼Œå°±æœ‰ä¸€ä¸ªbias towardé«˜priorityçš„samplesã€‚ISå’Œprioritized replayçš„ç»„åˆåœ¨non-learn FAä¸­æœ‰ä¸€ä¸ªç”¨å¤„ï¼Œlarge stepså¯èƒ½ä¼šäº§ç”Ÿä¸å¥½çš„å½±å“ï¼Œå› ä¸ºæ¢¯åº¦ä¿¡æ¯å¯èƒ½æ˜¯å±€éƒ¨reliableï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ä¸€ä¸ªå°ç‚¹çš„step-sizeã€‚<br>åœ¨æœ¬æ–‡ä¸­ï¼Œhigh-errorçš„æ ·æœ¬å¯èƒ½ä¼šè§‚æµ‹åˆ°å¾ˆå¤šæ¬¡ï¼Œä½¿ç”¨ISå‡å°gradientçš„å¤§å°ï¼Œå¯¹åº”äºé«˜priorityçš„samplesçš„weightè¢«å¾®è°ƒäº†ä¸€ä¸‹ï¼Œè€Œå¯¹åº”äºä½priorityçš„æ ·æœ¬åŸºæœ¬ä¸å˜ã€‚<br>weigthçš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">w_i = (\frac{1}{N}\cdot \frac{1}{P(i)})\^{\beta}\tag{10}</script><p>OK,è¿™é‡ŒISçš„ä½œç”¨æœ‰äº›ä¸æ˜ç™½ã€‚ã€‚ã€‚ã€‚<todo></todo></p>
<h3 id="ä¼ªä»£ç -3"><a href="#ä¼ªä»£ç -3" class="headerlink" title="ä¼ªä»£ç "></a>ä¼ªä»£ç </h3><p>ç®—æ³• 4<br>è¾“å…¥: minibatch $k$, å­¦ä¹ ç‡ï¼ˆæ­¥é•¿ï¼‰$\eta$, replay period $K$ and size $N$ , exponents $\alpha$ and $\beta$, budget $T$.<br>åˆå§‹åŒ–replay memory $H = \emptyset, \Delta = 0, p_1 = 1$<br>æ ¹æ®$S_0$é€‰æ‹© $A_0 \sim \pi_{\theta}|(S_0)$<br><strong>for</strong> $t = 1,\cdots, T$ do<br>$\qquad$è§‚æµ‹$S_t, R_t, \gamma_t$<br>$\qquad$å­˜å‚¨transition $(S_{tâˆ’1}, A_{tâˆ’1}, R_t , \gamma_t, S_t)$ åˆ°replay memoryï¼Œä»¥åŠ$p_t$çš„æœ€å¤§priority $p_t = max {i\lt t} p_i$<br>$\qquad$<strong>if</strong> $t â‰¡ 0$ mod $K$ then<br>$\qquad\qquad$<strong>for</strong> j = 1 to k do<br>$\qquad\qquad\qquad$Sample transition $j \sim P(j) = \frac{p_j^{\alpha}}{\sum_i p_i^{\alpha}}$<br>$\qquad\qquad\qquad$è®¡ç®—importance-sampling weight $w_j = \frac{(N \cdot P(j))\^{\beta}}{max_i w_i}$<br>$\qquad\qquad\qquad$è®¡ç®—TD-error $\delta_j = R_j + \gamma_j Q_{target} (S_j$, $arg max_a Q(S_j, a)) âˆ’ Q(S_{jâˆ’1} , A {jâˆ’1})$<br>$\qquad\qquad\qquad$æ›´æ–°transitionçš„priority $p_j \leftarrow |\delta_j|$<br>$\qquad\qquad\qquad$ç´¯è®¡weight-change $\Delta \leftarrow \Delta + w_j \cdot \delta_j \cdot \nabla_{\theta} Q(S_{jâˆ’1}, A_{jâˆ’1})$<br>$\qquad\qquad$<strong>end for</strong><br>$\qquad\qquad$æ›´æ–°weights $\theta\leftarrow \theta+ \eta\cdot\Delta$, é‡ç½®$\Delta = 0$<br>$\qquad\qquad$æ¯éš”ä¸€æ®µæ—¶é—´æ›´æ–°target network $\theta_{target} \leftarrow \theta$<br>$\qquad$<strong>end if</strong><br>$\qquad$é€‰æ‹©action $A_t \sim \pi_{\theta}(S_t)$<br><strong>end for</strong></p>
<h3 id="å®éªŒ-2"><a href="#å®éªŒ-2" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h3><p>ä¸¤ç»„å®éªŒï¼Œ<br>ä¸€ç»„æ˜¯DQNå’Œproportional prioritizationä½œæ¯”è¾ƒã€‚<br>ä¸€ç»„æ˜¯tuned Double DQNå’Œrank-basedä»¥åŠproportional prioritizaitonã€‚</p>
<h4 id="Metrics-1"><a href="#Metrics-1" class="headerlink" title="Metrics"></a>Metrics</h4><p>ç”¨çš„æ˜¯double dqnæå‡ºæ¥çš„nomalized scoreï¼Œè¿™é‡Œåœ¨åˆ†æ¯ä¸ŠåŠ äº†ç»å¯¹å€¼ã€‚<br>ä¸»è¦ç”¨çš„median scoreså’Œmean scoresã€‚</p>
<h2 id="Dueling-DQN"><a href="#Dueling-DQN" class="headerlink" title="Dueling DQN"></a>Dueling DQN</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>æœ¬æ–‡ä½œè€…æå‡ºæ¥å°†duelingç½‘ç»œæ¡†æ¶åº”ç”¨åœ¨model-freeç®—æ³•ä¸Šã€‚The dueling architectureèƒ½ç”¨ä¸€ä¸ªdeep modelåŒæ—¶è¡¨ç¤º$V(s)$å’Œä¼˜åŠ¿å‡½æ•°$A(s,a)$ï¼Œç½‘ç»œçš„è¾“å‡ºå°†$V$å’Œ$A$ç»“åˆäº§ç”Ÿ$Q(s,a)$ã€‚å’Œadvantageä¸ä¸€æ ·çš„æ˜¯ï¼Œè¿™ç§æ–¹å¼åœ¨æ„å»ºæ—¶å°±å°†ä»–ä»¬è¿›è¡Œäº†è§£è€¦ï¼Œå› æ­¤ï¼Œdueling architectureå¯ä»¥åº”ç”¨åœ¨å„ç§å„æ ·çš„model free RLç®—æ³•ä¸Šã€‚<br>æœ¬æ–‡çš„æ¶æ„æ˜¯å¯¹ç®—æ³•åˆ›æ–°çš„è¡¥å……ï¼Œå®ƒå¯ä»¥å¯¹ä¹‹å‰å·²æœ‰çš„å„ç§DQNç®—æ³•è¿›è¡Œç»“åˆã€‚</p>
<h3 id="dueling-network-architecture"><a href="#dueling-network-architecture" class="headerlink" title="dueling network architecture"></a>dueling network architecture</h3><p>è¿™ä¸ªæ–°çš„architectureçš„æ ¸å¿ƒæƒ³æ³•æ˜¯ï¼Œæ²¡æœ‰å¿…è¦ä¼°è®¡æ‰€æœ‰statesçš„aaction valueã€‚åœ¨ä¸€äº›statesï¼Œéœ€è¦action valueå»ç¡®å®šæ‰§è¡Œå“ªä¸ªactionï¼Œä½†æ˜¯åœ¨è®¸å¤šå…¶ä»–statesï¼Œaction valueså¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ã€‚å½“ç„¶ï¼Œå¯¹äºbootstrapç®—æ³•æ¥é¦–ï¼Œæ¯ä¸€ä¸ªstateçš„value estimationéƒ½å¾ˆé‡è¦ã€‚<br><img src="/2019/03/02/dqn/deuling-dqn.png" alt="dueling-dqn"><br>ä½œè€…ç»™å‡ºäº†ä¸€ä¸ªsingle Q-networkçš„architectureï¼Œå¦‚å›¾æ‰€ç¤ºã€‚<br>ç½‘ç»œç»“æ„å’Œnature-dqnä¸€æ ·ï¼Œä½†æ˜¯è¿™é‡ŒåŠ äº†ä¸¤ä¸ªfully connected layersï¼Œä¸€ä¸ªç”¨äºè¾“å‡º$V$ï¼Œä¸€ä¸ªç”¨äºè¾“å‡º$A$ã€‚ç„¶å$A$å’Œ$V$ç»“åˆåœ¨ä¸€èµ·ï¼Œäº§ç”Ÿ$Q$ï¼Œç½‘ç»œçš„è¾“å‡ºå’Œnature dqnä¸€æ ·ï¼Œå¯¹åº”äºæŸä¸ªstateçš„ä¸€ç³»åˆ—action valueã€‚<br>ä»$Q$å‡½æ•°çš„å®šä¹‰$Q\^{\pi}(s,a) = V\^{\pi}(s)+A\^{\pi}(s,a)$ä»¥åŠ$Q$å’Œ$V$ä¹‹é—´çš„å…³ç³»$V\^{\pi}(s) = \mathbb{E}_{a\sim\pi(s)}\left[Q\^{\pi}(s,a)\right] = \pi(a|s)Q\^{\pi}(s,a)$ï¼Œæ‰€ä»¥æœ‰$\mathbb{E}_{a\sim\pi(s)}\left[A\^{\pi}(s,a)\right]=0$ã€‚æ­¤å¤–ï¼Œå¯¹äºdeterministic policyï¼Œ$a\^{*} = arg max_{aâ€™\in A}Q(s,aâ€™)$ï¼Œæœ‰$V(s) = Q(s,a\^{*})$ï¼Œå³$A(s,a\^{*}) = 0$ã€‚<br>å¦‚å›¾æ‰€ç¤ºçš„networkä¸­ï¼Œä¸€ä¸ªç½‘ç»œè¾“å‡ºscalar $V(s;\theta, \beta)$ï¼Œä¸€ä¸ªç½‘ç»œè¾“å‡ºä¸€ä¸ª$|A|$ç»´çš„vector $A(s,a;\theta, \alpha)$ï¼Œå…¶ä¸­$\theta$æ˜¯ç½‘ç»œå‚æ•°ï¼Œ$\alpha$å’Œ$\beta$æ˜¯ä¸¤ä¸ªå…¨è¿æ¥å±‚çš„å‚æ•°ã€‚<br>æ ¹æ®advantageçš„å®šä¹‰ï¼Œå¯ä»¥ç›´æ¥å°†ä»–ä»¬åŠ èµ·æ¥ï¼Œå³ï¼š</p>
<script type="math/tex; mode=display">Q(s,a;\theta, \alpha, \beta) = V(s;\theta, \beta) + A(s,a;\theta, \alpha) \tag{11}</script><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“çš„ä¸€ç‚¹æ˜¯ï¼Œ$Q(s, a;\theta, \alpha, \beta)$ä»…ä»…æ˜¯$Q$çš„ä¸€ä¸ªå‚æ•°åŒ–ä¼°è®¡ã€‚å®ƒç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¸€éƒ¨åˆ†æ˜¯$V$ï¼Œä¸€éƒ¨åˆ†æ˜¯$A$ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„$V$å’Œ$Q$åªæ˜¯æˆ‘ä»¬å«å®ƒ$V$å’Œ$A$ï¼Œå®ƒçš„å®é™…æ„ä¹‰å¹¶ä¸æ˜¯$V$å’Œ$A$ã€‚ç»™äº†$Q$ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»»æ„çš„$Q(s, a) = V(s) + A(s,a)$ï¼Œè€Œ$V$å’Œ$Q$å¹¶ä¸ä»£è¡¨value functionå’Œadvantage functinoã€‚<br>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½œè€…æå‡ºäº†é€‰æ‹©è®©advantageä¸º$0$çš„actionï¼Œå³ï¼š</p>
<script type="math/tex; mode=display">Q(s, a; \theta,\alpha, \beta) = V(s; \theta, \beta) + \left(A(s,a;\theta,\alpha)-max\_{a'\in |A|}A(s, a'; \theta, \alpha)\right)\tag{12}</script><p>é€‰æ‹©$a\^{*} = arg max_{aâ€™\in A} Q(s, aâ€™; \theta, \alpha, \beta) = arg max_{aâ€™\in A}A(s, aâ€™;\theta, \alpha)$ï¼Œæˆ‘ä»¬å¾—åˆ°$Q(s,a\^{*}; \theta, \alpha,\beta) = V(s;\theta, \beta)$ã€‚è¿™ä¸ªæ—¶å€™ï¼Œè¾“å‡º$V$çš„ç½‘ç»œç»™å‡ºçš„çœŸçš„æ˜¯state valueçš„ä¼°è®¡$V(s;\theta, \beta)$ï¼Œå¦ä¸€ä¸ªç½‘ç»œçœŸçš„ç»™å‡ºçš„æ˜¯advantageçš„ä¼°è®¡ã€‚<br>å¦ä¸€ç§æ–¹æ³•æ˜¯ç”¨meanå–ä»£maxæ“ä½œï¼š</p>
<script type="math/tex; mode=display">Q(s, a; \theta,\alpha, \beta) = V(s; \theta, \beta) + \left(A(s,a;\theta,\alpha)- \frac{1}{|A|}\sum\_{a'}A(s, a'; \theta, \alpha)\right)\tag{13}</script><p>ä¸€æ–¹é¢è¿™ç§æ–¹æ³•å¤±å»äº†$V$å’Œ$A$çš„åŸå§‹è¯­ä¹‰ï¼Œå› ä¸ºå®ƒä»¬æœ‰ä¸€ä¸ªå¸¸æ•°çš„off-targetï¼Œä½†æ˜¯å¦ä¸€æ–¹é¢å®ƒå¢åŠ äº†ä¼˜åŒ–çš„ç¨³å®šæ€§ï¼Œå› ä¸ºä¸Šå¼ä¸­advantageçš„æ”¹å˜åªéœ€è¦å’Œmeanä¿æŒä¸€è‡´å³å¯ï¼Œä¸éœ€è¦optimal actionâ€™s advantangeä¸€æœ‰å˜åŒ–å°±è¦æ”¹å˜ã€‚</p>
<h3 id="ä¼ªä»£ç -4"><a href="#ä¼ªä»£ç -4" class="headerlink" title="ä¼ªä»£ç "></a>ä¼ªä»£ç </h3><h2 id="Distributed-DQN"><a href="#Distributed-DQN" class="headerlink" title="Distributed DQN"></a>Distributed DQN</h2><h2 id="Noisy-DQN"><a href="#Noisy-DQN" class="headerlink" title="Noisy DQN"></a>Noisy DQN</h2><h3 id="ä»‹ç»-1"><a href="#ä»‹ç»-1" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>å·²æœ‰æ–¹æ³•çš„explorationéƒ½æ˜¯é€šè¿‡agent policyçš„random perturbationsï¼Œæ¯”å¦‚å¸¸è§çš„$\varepsilon$-greedyç­‰æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¸èƒ½æ‰¾å‡ºç¯å¢ƒä¸­efficient explorationçš„behavioural patternsã€‚å¸¸è§çš„æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§:<br>ç¬¬ä¸€ç§æ–¹æ³•æ˜¯optimism in the face of uncertaintyï¼Œç†è®ºä¸Šè¯æ˜å¯è¡Œï¼Œä½†æ˜¯é€šå¸¸åº”ç”¨åœ¨state-action spaceså¾ˆå°çš„æƒ…å†µä¸‹æˆ–è€…linear FAï¼Œå¾ˆéš¾å¤„ç†non-linearn FAï¼Œè€Œä¸”non-linearæƒ…å†µä¸‹æ”¶æ•›æ€§æ²¡æœ‰ä¿è¯ã€‚<br>å¦ä¸€ç§æ–¹æ³•æ˜¯æ·»åŠ é¢å¤–çš„intrinsic motivation termï¼Œè¯¥æ–¹æ³•çš„é—®é¢˜æ˜¯å°†ç®—æ³•çš„generalisation mechanismå’Œexplorationåˆ†å‰²å¼€ï¼Œå³æœ‰instrinsic rewardå’Œenvironment rewardï¼Œå®ƒä»¬çš„æ¯”ä¾‹å¦‚ä½•å»è®¾ç½®ï¼Œéœ€è¦è®¤ä¸ºæŒ‡å®šã€‚å¦‚æœä¸ä»”ç»†è°ƒæ•´ï¼Œoptimal policyå¯èƒ½ä¼šå—intrinsic rewardå½±å“å¾ˆå¤§ã€‚æ­¤å¤–ä¸ºäº†å¢åŠ explorationçš„é²é‚¦æ€§ï¼Œæ‰°åŠ¨é¡¹ä»ç„¶æ˜¯éœ€è¦çš„ã€‚è¿™äº›ç®—æ³•å¾ˆå…·ä½“ä¹Ÿèƒ½åº”ç”¨åœ¨å‚æ•°åŒ–policyä¸Šï¼Œä½†æ˜¯å¾ˆä½æ•ˆï¼Œè€Œä¸”éœ€è¦å¾ˆå¤šæ¬¡policy evaluationã€‚<br>æœ¬æ–‡æå‡ºNoisyNetå­¦ä¹ ç½‘ç»œå‚æ•°çš„perturbationsï¼Œä¸»è¦æƒ³æ³•æ˜¯å‚æ•°çš„ä¸€ç‚¹æ”¹å˜å¯èƒ½ä¼šå¯¼è‡´policyåœ¨å¾ˆå¤šä¸ªtimstepsä¸Šçš„consistentï¼Œcomplex, state-dependentçš„å˜åŒ–ï¼Œè€Œå¦‚$\varepsilon$-greedyçš„ditheringç®—æ³•ä¸­ï¼Œæ¯ä¸€æ­¥æ·»åŠ åˆ°policyä¸Šçš„noiseéƒ½æ˜¯ä¸ç›¸å…³çš„ã€‚pertubationsä»ä¸€ä¸ªnoiseåˆ†å¸ƒä¸­è¿›è¡Œé‡‡æ ·ï¼Œå®ƒçš„varianceå¯ä»¥çœ‹æˆnoiseçš„energyï¼Œvarianceçš„å‚æ•°å’Œç½‘ç»œå‚æ•°éƒ½æ˜¯é€šè¿‡lossçš„æ¢¯åº¦è¿›è¡Œæ›´æ–°ã€‚ç½‘ç»œå‚æ•°ä¸­ä»…ä»…åŠ å…¥äº†å™ªéŸ³ï¼Œæ²¡æœ‰distributionï¼Œå¯ä»¥è‡ªåŠ¨å­¦ä¹ ã€‚<br>åœ¨é«˜ç»´åº¦ä¸Šï¼Œæœ¬æ–‡çš„ç®—æ³•æ˜¯ä¸€ä¸ªrandomised value functionï¼Œè¿™ä¸ªå‡½æ•°æ˜¯neural networkï¼Œç½‘ç»œçš„å‚æ•°å¹¶æ²¡æœ‰åŠ å€ï¼Œlinear çš„å‚æ•°åŠ å€ï¼Œè€Œå‚æ•°æ˜¯noiseçš„ä¸€ä¸ªç®€å•å˜æ¢ã€‚<br>è¿˜æœ‰äººæ·»åŠ constant Gaussian nioseåˆ°ç½‘ç»œå‚æ•°ï¼Œè€Œæ–‡æœ¬çš„ç®—æ³•æ·»åŠ çš„noiseå¹¶ä¸æ˜¯é™åˆ¶åœ¨Gaussion noise distributionsã€‚æ·»åŠ noiseè¾…åŠ©è®­ç»ƒåœ¨ç›‘ç£å­¦ä¹ ç­‰ä»»åŠ¡ä¸­ä¸€ç›´éƒ½æœ‰ï¼Œä½†æ˜¯è¿™äº›å™ªéŸ³éƒ½æ˜¯ä¸èƒ½è®­ç»ƒçš„ï¼Œè€ŒNoisyNetä¸­çš„å™ªéŸ³æ˜¯å¯ä»¥æ¢¯åº¦ä¸‹é™æ›´æ–°çš„ã€‚</p>
<h3 id="NoisyNets"><a href="#NoisyNets" class="headerlink" title="NoisyNets"></a>NoisyNets</h3><p><img src="/2019/03/02/dqn/noisy_linear_layer.png" alt="noisy_linear_layer"><br>ç”¨$\theta$è¡¨ç¤ºnoisy netçš„å‚æ•°ï¼Œè¾“å…¥æ˜¯$x$ï¼Œè¾“å‡ºæ˜¯$y$ï¼Œå³$y=f_{\theta}(x)$ã€‚$\theta$å®šä¹‰ä¸º$\theta=\mu+\Sigma\odot\varepsilon$ï¼Œå…¶ä¸­$\zeta=(\mu,\Sigma)$è¡¨ç¤ºå¯ä»¥å­¦ä¹ çš„å‚æ•°ï¼Œ$\varepsilon$è¡¨ç¤ºæœä»å›ºå®šåˆ†å¸ƒçš„å‡å€¼ä¸º$0$çš„å™ªéŸ³,$\varepsilon$æ˜¯random variableã€‚$\odot$è¡¨ç¤ºelement-wiseä¹˜æ³•ã€‚æœ€åçš„losså‡½æ•°æ˜¯å…³äº$\varepsilon$çš„æœŸæœ›ï¼š$\bar{L}(\zeta)=\mathbb{E}\left[L(\theta)\right]$ï¼Œç„¶åä¼˜åŒ–ç›¸åº”çš„$\zeta$ï¼Œ$\varepsilon$ä¸èƒ½è¢«ä¼˜åŒ–ï¼Œå› ä¸ºå®ƒæ˜¯random variableã€‚<br>ä¸€ä¸ªæœ‰$p$ä¸ªè¾“å…¥å•å…ƒï¼Œ$q$ä¸ªè¾“å‡ºå•å…ƒçš„fully-connected layerè¡¨ç¤ºå¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">y=wx+b \tag{14}</script><p>å…¶ä¸­$w\in \mathbb{R}\^{q\times p}$ï¼Œ$x\in \mathbb{R}\^{p}$,$b\in \mathbb{R}\^{q}$ï¼Œå¯¹åº”çš„noisy linear layerå®šä¹‰å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">y=(\mu\^w+\sigma\^w\odot\varepsilon\^w)x + \mu\^b+\sigma\^b\odot\varepsilon\^b \tag{15}</script><p>å°±æ˜¯ç”¨$\mu\^w+\sigma\^w\odot\varepsilon\^w$å–ä»£$w$ï¼Œç”¨$\mu\^b+\sigma\^b\odot\varepsilon\^b$å–ä»£$b$ã€‚å…¶ä¸­$\mu\^w,\sigma\^w\in \mathbb{R}\^{q\times p} $ï¼Œè€Œ$\mu\^b,\sigma\^b\in\mathbb{R}\^{q}$æ˜¯å¯ä»¥å­¦ä¹ çš„å‚æ•°ï¼Œè€Œ$\varepsilon\^w\in \mathbb{R}\^{p\times q},\varepsilon\^b \in \mathbb{R}\^{q}$æ˜¯random variableã€‚<br>ä½œè€…æå‡ºäº†ä¸¤ç§æ·»åŠ noiseçš„æ–¹å¼ï¼Œä¸€ç§æ˜¯Independent Gaussian noiseï¼Œä¸€ç§æ˜¯Factorised Gaussion noiseã€‚ä½¿ç”¨Factorisedçš„åŸå› æ˜¯å‡å°‘éšæœºå˜é‡çš„è®¡ç®—æ—¶é—´ï¼Œè¿™äº›æ—¶é—´å¯¹äºå•çº¿ç¨‹çš„ä»»åŠ¡æ¥è¯´è¿˜æ˜¯å¾ˆå¤šçš„ã€‚</p>
<h4 id="Independent-Gaussian-noise"><a href="#Independent-Gaussian-noise" class="headerlink" title="Independent Gaussian noise"></a>Independent Gaussian noise</h4><p>åº”ç”¨åˆ°æ¯ä¸€ä¸ªweightå’Œbiasçš„noiseéƒ½æ˜¯independentçš„ï¼Œå¯¹äº$\varepsilon\^w$çš„æ¯ä¸€é¡¹$\varepsilon_{i,j}\^w$æ¥è¯´ï¼Œå®ƒä»¬çš„å€¼éƒ½æ˜¯ä»ä¸€ä¸ªunit Gaussion distributionä¸­é‡‡æ ·å¾—åˆ°çš„ï¼›$varepsilon\^b$åŒç†ã€‚æ‰€ä»¥å¯¹äºä¸€ä¸ª$p$ä¸ªè¾“å…¥,$q$ä¸ªè¾“å‡ºçš„noisy linear layeræ€»å…±æœ‰$pq+q$ä¸ªnoise å˜é‡ã€‚</p>
<h4 id="Factorised-Gaussian-noise"><a href="#Factorised-Gaussian-noise" class="headerlink" title="Factorised Gaussian noise"></a>Factorised Gaussian noise</h4><p>é€šè¿‡å¯¹$\varepsilon_{i,j}\^w$æ¥è¯´ï¼Œå¯ä»¥å°†å…¶åˆ†è§£æˆ$p$ä¸ª$\varepsilon_i$ç”¨äº$p$ä¸ªè¾“å…¥å’Œ$q$ä¸ª$\varepsilon_j$ç”¨äº$q$ä¸ªè¾“å‡ºï¼Œæ€»å…±æœ‰$p+q$ä¸ªnoisså˜é‡ã€‚æ¯ä¸€ä¸ª$\varepsilon_{i,j}\^w$å’Œ$\varepsilon_{j}\^b$å¯ä»¥å†™æˆï¼š</p>
<script type="math/tex; mode=display">\varepsilon\_{i,j}\^w = f(\varepsilon_i)f(\varepsilon_j) \tag{16}</script><script type="math/tex; mode=display">\varepsilon\_{j}\^b = f(\varepsilon_j)\tag{17}</script><p>å…¶ä¸­$f$æ˜¯ä¸€ä¸ªå®å‡½æ•°ï¼Œåœ¨ç¬¬ä¸€ä¸ªå¼å­ä¸­$f(x) = sng(x)\sqrt{|x|}$ï¼Œåœ¨ç¬¬äºŒä¸ªå¼å­ä¸­å¯ä»¥å–$f(x)=x$ï¼Œè¿™é‡Œé€‰æ‹©äº†å’Œç¬¬ä¸€ä¸ªå¼å­ä¸­ä¸€è‡´ã€‚<br>å› ä¸ºnoisy networkçš„losså‡½æ•°æ˜¯$\bar{L}(\zeta)=\mathbb{E}\left[L(\theta)\right]$ï¼Œæ˜¯å…³äºnoiseçš„ä¸€ä¸ªæœŸæœ›ï¼Œæ¢¯åº¦å¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">\nabla\bar{L}(\zeta)=\nabla\mathbb{E}\left[L(\theta)\right]=\mathbb{E}\left[\nabla\_{\mu,\Sigma}L(\mu+\Sigma\odot\varepsilon)\right] \tag{18}</script><p>ä½¿ç”¨Monte Carloä¼°è®¡ä¸Šè¿°æ¢¯åº¦ï¼Œåœ¨æ¯ä¸€ä¸ªstepé‡‡æ ·ä¸€ä¸ªsampleè¿›è¡Œoptimization:</p>
<script type="math/tex; mode=display">\nabla\bar{L}(\zeta)\approx\nabla\_{\mu,\Sigma}L(\mu+\Sigma\odot\varepsilon) \tag{19}</script><h3 id="Noisy-DQN-and-dueling"><a href="#Noisy-DQN-and-dueling" class="headerlink" title="Noisy DQN and dueling"></a>Noisy DQN and dueling</h3><p>ç›¸å¯¹äºDQNå’Œdueling DQNæ¥è¯´ï¼Œnoisy DQN and duelingä¸»è¦åšäº†ä¸¤æ–¹é¢çš„æ”¹è¿›ï¼š</p>
<ol>
<li>ä¸å†ä½¿ç”¨$\varepsilon$-greedy behaviour policyäº†ï¼Œè€Œæ˜¯ä½¿ç”¨greedy behaviour policyé‡‡æ ·ä¼˜åŒ–randomised action-value functionã€‚</li>
<li>ç½‘ç»œä¸­çš„fully connected layerså…¨éƒ½æ¢æˆäº†å‚æ•°åŒ–çš„noisy networkï¼Œnoisy networkçš„å‚æ•°åœ¨æ¯ä¸€æ¬¡replayä¹‹åä»noiseæœä»çš„distributionä¸­è¿›è¡Œé‡‡æ ·ã€‚è¿™é‡Œä½¿ç”¨çš„noseæ˜¯factorised Gaussian noiseã€‚</li>
</ol>
<p>åœ¨replay æ•´ä¸ªbatchçš„è¿‡ç¨‹ä¸­ï¼Œnoisy network parameter sampleä¿æŒä¸å˜ã€‚å› ä¸ºDQNå’ŒDuelingæ¯æ‰§è¡Œä¸€ä¸ªaction stepä¹‹åéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡optimizationï¼Œæ¯æ¬¡é‡‡æ ·actionä¹‹å‰éƒ½è¦é‡æ–°é‡‡æ ·noisy network parametersã€‚</p>
<h4 id="Loss"><a href="#Loss" class="headerlink" title="Loss"></a>Loss</h4><p>$Q(s,a,\epsilon;\zeta)$å¯ä»¥çœ‹æˆ$\zeta$çš„ä¸€ä¸ªrandom variableï¼ŒNoisyNet-DQN losså¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">\bar{L}(\zeta) = \mathbb{E}\left[\mathbb{E}\_{(x,a,r,y)}\sim D\left[r + \gamma max\_{b\in A}Q(y, b, \varepsilon';\zeta\^{-}) - Q(x,a,\varepsilon;\zeta)\right]^2\right]\tag{20}</script><p>å…¶ä¸­å¤–å±‚çš„æœŸæœ›æ˜¯$\varepsilon$ç›¸å¯¹äºnoisy value function $Q(x,a, \varepsilon;\zeta)$å’Œ$\varepsilonâ€™$ç›¸å¯¹äºnoisy target value function $Q(x,a, \varepsilonâ€™;\zeta\^{-}$ã€‚å¯¹äºbufferä¸­çš„æ¯ä¸€ä¸ªtransitionï¼Œè®¡ç®—lossçš„æ— åä¼°è®¡ï¼Œåªéœ€è¦è®¡ç®—target valueå’Œtrue valueå³å¯ï¼Œä¸ºäº†è®©target valueå’Œtrueä¹‹é—´æ²¡æœ‰å…³è”ï¼Œtarget networkå’Œonline networké‡‡ç”¨independent noisesã€‚<br>å°±double dqnä¸­çš„actioné€‰æ‹©æ¥è¯´ï¼Œé‡‡æ ·ä¸€ä¸ªæ–°çš„independent sample $\varepsilon\^{â€˜â€™}$è®¡ç®—action valueï¼Œç„¶åä½¿ç”¨greedyæ“ä½œï¼ŒNoisyNet-Duelingçš„losså¦‚ä¸‹ï¼š</p>
<script type="math/tex; mode=display">\bar{L}(\zeta) = \mathbb{E}\left[\mathbb{E}\_{(x,a,r,y)}\sim D\left[r + \gamma Q(y, b\^{\*}(y), \varepsilon';\zeta\^{-} - Q(x,a,\varepsilon;\zeta)\right]^2\right]\tag{21}</script><script type="math/tex; mode=display">b\^{\*}(y) = arg max\_{b\in A} Q(y, b(y), \varepsilon\^{''};\zeta)\tag{22}</script><h3 id="Noisy-A3C"><a href="#Noisy-A3C" class="headerlink" title="Noisy-A3C"></a>Noisy-A3C</h3><p>Noisy-A3Cç›¸å¯¹äºA3Cæœ‰ä»¥ä¸‹çš„æ”¹è¿›ï¼š</p>
<ol>
<li>entropyé¡¹è¢«å»æ‰äº†;</li>
<li>fully-connected layerè¢«æ›¿æ¢æˆäº†noisy networkã€‚</li>
</ol>
<p>A3Cç®—æ³•ä¸­æ²¡æœ‰åƒ$\epsilon$-greedyè¿™æ ·è¿›è¡Œaction explorationï¼Œé€‰ä¸­çš„actioné€šå¸¸æ˜¯ä»current policyä¸­é€‰çš„ï¼ŒåŠ å…¥entropyæ˜¯ä¸ºäº†é¼“åŠ±explorationï¼Œè€Œä¸æ˜¯é€‰æ‹©ä¸€ä¸ªdeterministic policyã€‚å½“æ·»åŠ äº†noisy weightsæ—¶ï¼Œå¯¹å‚æ•°è¿›è¡Œé‡‡æ ·å°±è¡¨ç¤ºé€‰æ‹©ä¸åŒçš„current policyï¼Œå°±å·²ç»ä»£è¡¨äº†explorationã€‚NoisyNetç›¸å½“äºç›´æ¥åœ¨policy spaceä¸­è¿›è¡Œexplorationï¼Œè€Œentropyé¡¹å°±å¯ä»¥å»æ‰äº†ã€‚</p>
<h3 id="Noisy-Networksçš„åˆå§‹åŒ–"><a href="#Noisy-Networksçš„åˆå§‹åŒ–" class="headerlink" title="Noisy Networksçš„åˆå§‹åŒ–"></a>Noisy Networksçš„åˆå§‹åŒ–</h3><p>åœ¨unfactorised noisy networksä¸­ï¼Œæ¯ä¸ª$\mu_{i,j}$ä»ç‹¬ç«‹çš„å‡åŒ€åˆ†å¸ƒ$U\left[-\sqrt{\frac{3}{p}}, \sqrt{\frac{3}{p}}\right]$ä¸­é‡‡æ ·åˆå§‹åŒ–ï¼Œå…¶ä¸­$p$æ˜¯å¯¹åº”linear layerçš„è¾“å…¥ä¸ªæ•°ï¼Œ$\sigma_{i,j}$è®¾ç½®ä¸ºä¸€ä¸ªå¸¸æ•°$0.0017$ï¼Œè¿™æ˜¯ä»ç›‘ç£å­¦ä¹ çš„ä»»åŠ¡ä¸­å€Ÿé‰´çš„ã€‚<br>åœ¨factorised noisy netowrksä¸­ï¼Œæ¯ä¸ª$\mu_{i,j}$ä»ç‹¬ç«‹çš„å‡åŒ€åˆ†å¸ƒ$U\left[-\sqrt{\frac{1}{p}}, \sqrt{\frac{1}{p}}\right]$ä¸­è¿›è¡Œé‡‡æ ·ï¼Œ$\sigma_{i,j}$è®¾ç½®ä¸º$\frac{\sigma_0}{p}$ï¼Œè¶…å‚æ•°$\sigma_0$è®¾ç½®ä¸º$0.5$ã€‚</p>
<h3 id="ä¼ªä»£ç -5"><a href="#ä¼ªä»£ç -5" class="headerlink" title="ä¼ªä»£ç "></a>ä¼ªä»£ç </h3><p>ç®—æ³•5 NoisyNet-DQN / NoisyNet-Dueling<br>è¾“å…¥: Env Environment; $\varepsilon$ random variables of the networkçš„é›†åˆ<br>è¾“å…¥: DUELING Boolean; â€œtrueâ€ä»£è¡¨NoisyNet-Dueling and â€œfalseâ€ä»£è¡¨ NoisyNet-DQN<br>è¾“å…¥: $B$ç©ºreplay buffer; $\zeta$åˆå§‹çš„network parameters; $\zeta\^{-}$åˆå§‹çš„target network parameters<br>è¾“å…¥: replay bufferå¤§å°$N_B$; batch size $N_T$; target networkæ›´æ–°é¢‘ç‡$N\^{-}$<br>è¾“å‡º: $Q(\cdot, \varepsilon; \zeta)$ action-value function<br><strong>for</strong> episode $e\in  {1,\cdots , M}$ do<br>$\qquad$åˆå§‹åŒ–state sequence $x_0 \sim Env$<br>$\qquad$<strong>for</strong> $t \in {1,\cdots }$ do<br>$\qquad\qquad$è®¾ç½®$x \leftarrow x_0$<br>$\qquad\qquad$é‡‡æ · a noisy network  $\xi\sim \varepsilon$<br>$\qquad\qquad$é€‰æ‹©an action $a \leftarrow arg max_{b\in A} Q(x, b, \xi; \zeta)$<br>$\qquad\qquad$é‡‡æ · next state $y \sim  P (\cdot|x, a)$, æ¥æ”¶ reward $r \leftarrow R(x, a) $ä»¥åŠ$x_0 \leftarrow y$<br>$\qquad\qquad$å°†transition (x, a, r, y)æ·»åŠ åˆ°replay buffer<br>$\qquad\qquad$<strong>if</strong> $|B| \gt N_B$ then<br>$\qquad\qquad\qquad$åˆ æ‰æœ€è€çš„transition<br>$\qquad\qquad$<strong>end if</strong><br>$\qquad$é‡‡æ ·ä¸€ä¸ªå¤§å°ä¸º$N_T$çš„batch, transitions $((x_j, a_j, r_j, y_j) \sim D)_{j=1}\^{N_T}$<br>$\qquad\qquad$é‡‡æ ·noisy variablesç”¨äºonline network $\xi \sim\varepsilon$<br>$\qquad\qquad$é‡‡æ ·noisy variablesç”¨äºtarget network $\xiâ€™\sim\varepsilon$<br>$\qquad\qquad\qquad$<strong>if</strong> DUELING then<br>$\qquad\qquad\qquad$é‡‡æ ·noisy variablesç”¨äºé€‰æ‹©actionçš„network $\xi\sim\varepsilon$<br>$\qquad\qquad$<strong>end if</strong><br>$\qquad\qquad$<strong>for</strong> $j \in {1,\cdots, N_T}$ do<br>$\qquad\qquad\qquad$<strong>if</strong> $y_j$ is a terminal state then<br>$\qquad\qquad\qquad\qquad<script type="math/tex">\hat{Q}\leftarrow r_j$
$\qquad\qquad\qquad$**end if**
$\qquad\qquad\qquad$**if** DUELING then
$\qquad\qquad\qquad\qquad b\^{\*}(y_j) = arg max\_{b\in A} Q(y_j, b, \xi\^{''}; \zeta)$
$\qquad\qquad\qquad\qquad\qquad \hat{Q}\leftarrow r_j + \gamma Q(y_j, b\^{\*}(y_j), \xi';\zeta\^{-})$
$\qquad\qquad\qquad$**else**
$\qquad\qquad\qquad\qquad</script>\hat{Q}\leftarrow r_j + \gamma max_{b\in A} Q(y_j, b, \xiâ€™;\zeta\^{-})$<br>$\qquad\qquad$<strong>end if</strong><br>$\qquad\qquad\qquad$åˆ©ç”¨loss $(\hat{Q}-Q(x_j,a_j, \xi;\zeta))^2$çš„æ¢¯åº¦æ›´æ–°$\zeta$<br>$\qquad\qquad$<strong>end for</strong><br>$\qquad\qquad$æ¯éš”$N\^{-}$æ­¥æ›´æ–°target network:$ \zeta\^{âˆ’}\leftarrow \zeta$<br>$\qquad$<strong>end for</strong><br><strong>end for</strong></p>
<p>ç®—æ³•6 NoisyNet-A3C for each actor-learner thread<br>è¾“å…¥: Environment Env, å…¨å±€å…±äº«å‚æ•°$(\zeta_{\pi},\zeta_{V})$ , å…¨å±€å…±äº«counter $T$å’Œmaximal time $T_{max}$<br>è¾“å…¥: æ¯ä¸ªçº¿ç¨‹çš„å‚æ•° $(\zetaâ€™_{\pi},\zetaâ€™_{V})$, random variables $\varepsilon$çš„é›†åˆ, æ¯ä¸ªçº¿ç¨‹çš„counter $t$å’ŒTD-$\gamma$çš„é•¿åº¦$t_{max}$<br>è¾“å‡º: policy $\pi(\cdot; \zeta_{\pi}, \varepsilon)$å’Œvalue $V(\cdot; \zeta_{V}, \varepsilon)$<br>åˆå§‹åŒ–çº¿ç¨‹counter $t \leftarrow 1$<br><strong>repeat</strong><br>$\qquad$é‡ç½®acumulative gradients: $d\zeta_{\pi}\leftarrow 0$å’Œ$d\zeta_V \leftarrow 0$<br>$\qquad$Synchroniseæ¯ä¸ªçº¿ç¨‹çš„parameters: $\zetaâ€™_{\pi}\leftarrow \zeta_{\pi}$å’Œ$\zeta_V\leftarrow \zeta_V$<br>$\qquad$counter $\leftarrow 0$<br>$\qquad$ä»Envä¸­å¾—åˆ°state $x_t$<br>$\qquad$é‡‡æ ·noise: $\xi\sim\varepsilon$<br>$\qquad r \leftarrow []$<br>$\qquad a \leftarrow []$<br>$\qquad x \leftarrow []$å’Œ$x[0] \leftarrow x_t$<br>$\qquad$<strong>repeat</strong><br>$\qquad\qquad$é‡‡æ ·action: $a_t \sim\pi(\cdot|x_t;\zetaâ€™_{\pi};\xi)$<br>$\qquad\qquad<script type="math/tex">a[âˆ’1]\leftarrow a_t$
$\qquad\qquad$æ¥æ”¶reward $r_t$å’Œnext state $x\_{t+1}$
$\qquad\qquad</script>r[âˆ’1]\leftarrow r_t$å’Œ$x[âˆ’1]\leftarrow x_t+1$<br>$\qquad\qquad<script type="math/tex">t\leftarrow t + 1$å’Œ $T\leftarrow T + 1$
$\qquad\qquad</script>counter = counter + 1$<br>$\qquad\qquad$<strong>until</strong> $x_t  terminal  or  counter == t_{max} + 1$<br>$\qquad$<strong>if</strong> $x_t$ is a terminal state then<br>$\qquad\qquad<script type="math/tex">Q = 0$
$\qquad$**else**
$\qquad\qquad</script>Q = V(x_t; \zetaâ€™_{V}, \xi)$<br>$\qquad$<strong>end if</strong><br>$\qquad$<strong>for</strong> $i \in \{counter âˆ’ 1, \cdots, 0\}$ do<br>$\qquad\qquad$æ›´æ–°Q: $Q\leftarrow r[i] + \gamma Q$<br>$\qquad\qquad$ç´¯ç§¯policy-gradient: $d\zeta_{\pi} \leftarrow d\zeta_{\pi} + \nabla \zetaâ€™_{\pi}log(\pi(a[i]|x[i]; \zetaâ€™_{\pi}, \xi))[Q âˆ’ V(x[i]; \zetaâ€™_{\pi}V, \xi)]$<br>$\qquad\qquad$ç´¯ç§¯ value-gradient: $d\zeta_V \leftarrow â† d\zeta_V+ \nabla \zetaâ€™_{V}[Q âˆ’ V(x[i]; \zetaâ€™_{V}, \xi)]^2$<br>$\qquad$<strong>end for</strong><br>$\qquad$æ‰§è¡Œ$\zeta_{\pi}$çš„asynchronous update: $\zeta_{\pi}\leftarrow \zeta_{\pi} + \alpha_{\pi}d\zeta_{\pi}$<br>$\qquad$æ‰§è¡Œ$\zeta_{V}$çš„asynchronous update: $\zeta_{V}\leftarrow \zeta_{V} âˆ’ \alpha_VdV\zeta_{V}$<br><strong>until</strong> $T \gt T_{max}$</p>
<h2 id="Rainbow"><a href="#Rainbow" class="headerlink" title="Rainbow"></a>Rainbow</h2><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>1.<a href="https://blog.csdn.net/yangshaokangrushi/article/details/79774031" target="_blank" rel="noopener">https://blog.csdn.net/yangshaokangrushi/article/details/79774031</a><br>2.<a href="https://link.springer.com/article/10.1007%2FBF00992698" target="_blank" rel="noopener">https://link.springer.com/article/10.1007%2FBF00992698</a><br>3.<a href="https://www.jianshu.com/p/b92dac7a4225" target="_blank" rel="noopener">https://www.jianshu.com/p/b92dac7a4225</a><br>4.<a href="https://datascience.stackexchange.com/questions/20535/what-is-experience-replay-and-what-are-its-benefits/20542#20542" target="_blank" rel="noopener">https://datascience.stackexchange.com/questions/20535/what-is-experience-replay-and-what-are-its-benefits/20542#20542</a><br>5.<a href="https://stats.stackexchange.com/questions/897/online-vs-offline-learning" target="_blank" rel="noopener">https://stats.stackexchange.com/questions/897/online-vs-offline-learning</a><br>6.<a href="https://www.freecodecamp.org/news/improvements-in-deep-q-learning-dueling-double-dqn-prioritized-experience-replay-and-fixed-58b130cc5682/" target="_blank" rel="noopener">https://www.freecodecamp.org/news/improvements-in-deep-q-learning-dueling-double-dqn-prioritized-experience-replay-and-fixed-58b130cc5682/</a><br>7.<a href="https://jaromiru.com/2016/11/07/lets-make-a-dqn-double-learning-and-prioritized-experience-replay/" target="_blank" rel="noopener">https://jaromiru.com/2016/11/07/lets-make-a-dqn-double-learning-and-prioritized-experience-replay/</a><br>8.<a href="https://datascience.stackexchange.com/questions/32873/prioritized-replay-what-does-importance-sampling-really-do" target="_blank" rel="noopener">https://datascience.stackexchange.com/questions/32873/prioritized-replay-what-does-importance-sampling-really-do</a><br>9.<a href="https://papers.nips.cc/paper/5249-weighted-importance-sampling-for-off-policy-learning-with-linear-function-approximation.pdf" target="_blank" rel="noopener">https://papers.nips.cc/paper/5249-weighted-importance-sampling-for-off-policy-learning-with-linear-function-approximation.pdf</a></p>
</to>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/01/29/Modeling-Others-using-Oneself-in-Multi-Agent-Reinforcement-Learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/29/Modeling-Others-using-Oneself-in-Multi-Agent-Reinforcement-Learning/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/12/index.html">Modeling Others using Oneself in Multi-Agent Reinforcement Learning</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-01-29 13:19:33" itemprop="dateCreated datePublished" datetime="2019-01-29T13:19:33+08:00">2019-01-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-05-07 00:22:27" itemprop="dateModified" datetime="2019-05-07T00:22:27+08:00">2019-05-07</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/å¼ºåŒ–å­¦ä¹ /" itemprop="url" rel="index"><span itemprop="name">å¼ºåŒ–å­¦ä¹ </span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><p>æˆ‘ä»¬è€ƒè™‘ä½¿ç”¨ä¸å®Œå…¨ä¿¡æ¯çš„å¤šæ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ é—®é¢˜ï¼Œæ¯ä¸ªæ™ºèƒ½ä½“çš„ç›®æ ‡æ˜¯æœ€å¤§åŒ–è‡ªèº«çš„æ•ˆç”¨ã€‚å¥–åŠ±å‡½æ•°å–å†³äºä¸¤ä¸ªæ™ºèƒ½ä½“çš„éšè—çŠ¶æ€ï¼ˆæˆ–è€…ç›®æ ‡ï¼‰ï¼Œæ¯ä¸€ä¸ªæ™ºèƒ½ä½“å¿…é¡»ä»å®ƒè§‚å¯Ÿåˆ°çš„è¡Œä¸ºä¸­æ¨æ–­å‡ºå…¶ä»–ç©å®¶çš„éšè—ç›®æ ‡ä»è€Œå®Œæˆä»»åŠ¡ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„æ–¹æ³•åœ¨è¿™äº›é¢†åŸŸä¸­è¿›è¡Œå­¦ä¹ ï¼šè‡ªæˆ‘å…¶ä»–å»ºæ¨¡ï¼ˆSOMï¼‰ï¼Œæ™ºèƒ½ä½“ä½¿ç”¨è‡ªå·±çš„ç­–ç•¥æ¥é¢„æµ‹å…¶ä»–æ™ºèƒ½ä½“çš„åŠ¨ä½œå¹¶å®æ—¶æ›´æ–°å…¶ä»–æ™ºèƒ½ä½“éšè—çŠ¶æ€çš„ç½®ä¿¡åº¦ã€‚æˆ‘ä»¬åœ¨ä¸‰ä¸ªä¸åŒçš„ä»»åŠ¡ä¸Šå¯¹è¯¥æ–¹æ³•è¿›è¡Œäº†è¯„ä¼°ï¼Œç»“æœè¡¨æ˜æ™ºèƒ½ä½“æ— è®ºåœ¨åˆä½œè¿˜æ˜¯å¯¹æŠ—ç¯å¢ƒä¸­éƒ½èƒ½ä½¿ç”¨ä»–ä»¬å¯¹å…¶ä»–ç©å®¶éšè—çŠ¶æ€çš„ä¼°è®¡æ¥å­¦ä¹ åˆ°æ›´å¥½çš„ç­–ç•¥ã€‚</p>
<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­æ¨ç†å…¶ä»–æ™ºèƒ½ä½“çš„æ„å›¾å¹¶é¢„æµ‹å®ƒä»¬çš„è¡Œä¸ºæ˜¯å¾ˆé‡è¦çš„ï¼Œè¿™äº›æ™ºèƒ½ä½“å¯èƒ½æœ‰ä¸åŒçš„ç”šè‡³æ˜¯ç«äº‰çš„ç›®æ ‡é›†ã€‚ç”±äºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿçš„ä¸ç¨³å®šæ€§ï¼Œè¿™ä»ç„¶æ˜¯ä¸€ä¸ªéå¸¸å…·æœ‰æŒ‘æˆ˜æ€§çš„é—®é¢˜ã€‚<br>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€ç§ä»å…¶ä»–æ™ºèƒ½ä½“çš„è¡Œä¸ºä¸­ä¼°è®¡å¯¹åº”çš„æœªçŸ¥çš„ç›®æ ‡å’Œå¹¶åˆ©ç”¨è¿™äº›ä¼°è®¡çš„ç›®æ ‡é€‰æ‹©åŠ¨ä½œçš„æ–°æ–¹æ³•ã€‚æˆ‘ä»¬è¯æ˜äº†åœ¨æœ¬æ–‡æåˆ°çš„ä»»åŠ¡ä¸­ï¼Œåœ¨æ¸¸æˆä¸­æ˜¾å¼çš„å¯¹å…¶ä»–ç©å®¶è¿›è¡Œå»ºæ¨¡æ¯”å°†å…¶ä»–æ™ºèƒ½ä½“çœ‹åšç¯å¢ƒçš„ä¸€éƒ¨åˆ†ä¼šæœ‰æ›´å¥½çš„æ€§èƒ½ã€‚æˆ‘ä»¬å°†é—®é¢˜å®šä¹‰ä¸ºåŒäººéšæœºæ¸¸æˆï¼Œä¹Ÿå«åŒäººé©¬å°”å¯å¤«æ¸¸æˆï¼Œå…¶ä¸­ç¯å¢ƒå¯¹äºæ™ºèƒ½ä½“æ˜¯å®Œå…¨å¯è§çš„ï¼Œä½†æ˜¯æ²¡æœ‰å…³äºå…¶ä»–æ™ºèƒ½ä½“ç›®æ ‡çš„æ˜ç¡®çŸ¥è¯†è€Œä¸”æ²¡æœ‰æ²Ÿé€šä¿¡é“ã€‚æ¯ä¸ªæ™ºèƒ½ä½“åœ¨å›åˆç»“æŸæ—¶æ”¶åˆ°çš„å¥–åŠ±å–å†³äºä¸¤ä¸ªæ™ºèƒ½ä½“çš„ç›®æ ‡ï¼Œå› æ­¤æ˜¯æ¯ä¸ªæ™ºèƒ½ä½“æœ€ä¼˜çš„ç­–ç•¥éƒ½å¿…é¡»è€ƒè™‘åˆ°æ‰€æœ‰æ™ºèƒ½ä½“çš„ç›®æ ‡ã€‚<br>è®¤çŸ¥ç§‘å­¦ç ”ç©¶è¡¨æ˜ï¼Œäººç±»ç»´æŒä¸ä»–ä»¬è”ç³»çš„å…¶ä»–äººçš„æ¨¡å‹ï¼Œè¿™äº›æ¨¡å‹ç”¨æ¥æ•æ‰é‚£äº›äººçš„ç›®æ ‡ï¼Œä¿¡ä»°æˆ–åå¥½ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œäººç±»åˆ©ç”¨è‡ªå·±çš„å¿ƒç†è¿‡ç¨‹æ¥æ¨¡æ‹Ÿä»–äººçš„è¡Œä¸ºã€‚è¿™ä½¿ä»–ä»¬èƒ½å¤Ÿç†è§£å…¶ä»–äººçš„æ„å›¾æˆ–åŠ¨æœºï¼Œå¹¶èƒ½åœ¨ç¤¾äº¤åœºåˆé‡‡å–ç›¸åº”çš„è¡ŒåŠ¨ã€‚å—è¿™äº›ç ”ç©¶çš„å¯å‘ï¼Œå…³é”®æƒ³æ³•æ˜¯è¦ç†è§£æ¸¸æˆä¸­å…¶ä»–ç©å®¶æ­£åœ¨åšä»€ä¹ˆï¼Œæ™ºèƒ½ä½“åº”è¯¥é—®è‡ªå·±â€œå¦‚æœæˆ‘æ‰®æ¼”å¦ä¸€ä¸ªç©å®¶çš„è§’è‰²ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿâ€ã€‚æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ä¸€ä¸ªå¤šå±‚å¾ªç¯ç¥ç»ç½‘ç»œå‚æ•°åŒ–æ™ºèƒ½ä½“çš„åŠ¨ä½œå’Œå€¼å‡½æ•°æ¥å®ç°è¿™ä¸ªæƒ³æ³•ï¼Œè¯¥ç¥ç»ç½‘ç»œå°†çŠ¶æ€å’Œç›®æ ‡ä½œä¸ºè¾“å…¥ã€‚å½“æ™ºèƒ½ä½“ç©æ¸¸æˆæ—¶ï¼Œå®ƒé€šè¿‡ç›´æ¥ä½¿ç”¨è‡ªå·±çš„åŠ¨ä½œå‡½æ•°ä¼˜åŒ–ç›®æ ‡æ¥æœ€å¤§åŒ–å¯¹æ–¹è¡ŒåŠ¨çš„å¯èƒ½æ€§ï¼Œä»è€Œæ¨æ–­å‡ºå…¶ä»–æ™ºèƒ½ä½“çš„æœªçŸ¥ç›®æ ‡ã€‚</p>
<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p><strong>èƒŒæ™¯</strong> ä¸¤ä¸ªæ™ºèƒ½ä½“çš„é©¬å°”å¯å¤«æ¸¸æˆç”±æè¿°æ‰€æœ‰æ™ºèƒ½ä½“çš„å¯èƒ½é…ç½®çš„ä¸€ç»„çŠ¶æ€é›†åˆ$S$ï¼Œä¸¤ç»„åŠ¨ä½œé›†åˆ$A_1$ï¼Œ$A_2$å’Œä¸¤ä¸ªæ™ºèƒ½ä½“çš„è§‚å¯Ÿ$O_1$ï¼Œ$O_2$ä»¥åŠè½¬æ¢å‡½æ•°$\Tau$ï¼š$S\times A_1 \times A_2 \rightarrow S$ä½œä¸ºå½“å‰çŠ¶æ€å’ŒåŠ¨ä½œçš„å‡½æ•°ç»™å‡ºä¸‹ä¸€ä¸ªçŠ¶æ€çš„æ¦‚ç‡åˆ†å¸ƒã€‚æ¯ä¸ªæ™ºèƒ½ä½“$i$é€šè¿‡ä»éšæœºç­–ç•¥$\pi_{\theta_i}:S\times A_i\rightarrow [0,1]$ä¸­é‡‡æ ·é€‰æ‹©åŠ¨ä½œã€‚æ¯ä¸ªæ™ºèƒ½ä½“éƒ½æœ‰ä¸€ä¸ªå¥–åŠ±å‡½æ•°ï¼Œå®ƒå–å†³äºæ™ºèƒ½ä½“çš„çŠ¶æ€å’ŒåŠ¨ä½œï¼š$r_iï¼šS\times A_i\rightarrow R$ã€‚æ¯ä¸ªæ™ºèƒ½ä½“$i$è¯•å›¾æœ€å¤§åŒ–è‡ªå·±çš„æ€»é¢„æœŸæ”¶ç›Š$R_i = \sum_{t =0}^T\gamma^tr_i^t$ï¼Œå…¶ä¸­$\gamma$æ˜¯æŠ˜æ‰£å› å­ï¼Œ$T$æ˜¯æ—¶é—´èŒƒå›´ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘äº†åˆä½œä»¥åŠç«äº‰ç¯å¢ƒã€‚<br>æ¥ä¸‹æ¥ä»‹ç»è‡ªæˆ‘å…¶ä»–æ¨¡å‹ï¼ˆSOMï¼‰ï¼Œè¿™æ˜¯ä¸€ç§åœ¨ä¸€ä¸ªå›åˆå†…ä»¥å®æ—¶æ–¹å¼æ¨æ–­å…¶ä»–æ™ºèƒ½ä½“çš„ç›®æ ‡å¹¶ä½¿ç”¨è¿™äº›ä¼°è®¡æ¥é€‰æ‹©åŠ¨ä½œçš„æ–°æ–¹æ³•ã€‚ä¸ºäº†å†³å®šä¸€ä¸ªåŠ¨ä½œå¹¶ä¼°è®¡ä¸€ä¸ªçŠ¶æ€çš„å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç¥ç»ç½‘ç»œ$f$å°†å®ƒè‡ªå·±çš„ç›®æ ‡$z_{self}$ï¼Œå¦ä¸€ä¸ªç©å®¶çš„ä¼°è®¡ç›®æ ‡$\hat{z}_{self}$ï¼Œå¹¶ä¸”ä»–è‡ªå·±çš„è§’åº¦çš„è§‚å¯ŸçŠ¶æ€$s_{self}$ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡ºåŠ¨ä½œ$\pi$çš„ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒå’Œå€¼ä¼°è®¡$V$ï¼Œå³å¯¹äºæ¯ä¸ªç©æ¸¸æˆçš„æ™ºèƒ½ä½“ï¼Œæœ‰ï¼š </p>
<script type="math/tex; mode=display">\begin{bmatrix}\pi^i\\V^i\end{bmatrix}=f^i(s_{self}^i,z_{self}^i,\hat{z}_{other}^i;\theta^i)</script><p>å…¶ä¸­$\theta_i$æ˜¯æ™ºèƒ½ä½“$i$çš„ç¥ç»ç½‘ç»œ$f$çš„å‚æ•°ï¼ŒåŒ…æ‹¬ä¸€ä¸ªsoftmaxå±‚è¾“å‡ºç­–ç•¥ï¼Œä¸€ä¸ªçº¿æ€§å±‚è¾“å‡ºå€¼å‡½æ•°ï¼Œæ‰€æœ‰éè¾“å‡ºå±‚æ˜¯å…±äº«çš„ã€‚åŠ¨ä½œæ˜¯ä»ç­–ç•¥$\pi$ä¸­é‡‡æ ·å¾—åˆ°çš„ã€‚è§‚å¯ŸçŠ¶æ€$s_{self}^i$åŒ…å«$f^i$æ™ºèƒ½ä½“çš„ä½ç½®ï¼Œä»¥åŠå…¶ä»–æ™ºèƒ½ä½“çš„ä½ç½®ã€‚æ¯ä¸ªæ™ºèƒ½ä½“éƒ½æœ‰ä¸¤ä¸ªç½‘ç»œï¼ˆä¸ºäº†ç®€æ´ï¼Œçœç•¥äº†æ™ºèƒ½ä½“ä¸Šæ ‡$i$ï¼‰ï¼Œä¸€ä¸ªè®¡ç®—å®ƒè‡ªå·±çš„åŠ¨ä½œå’Œå€¼å‡½æ•°ï¼Œä¸€ä¸ªè®¡ç®—å…¶ä»–æ™ºèƒ½ä½“çš„ä¼°è®¡å€¼ï¼Œå¦‚ä¸‹ï¼š<br>\begin{equation}<br>f_{self}(s_{self},z_{self},\hat{z}_{other};\theta_{self})<br>\end{equation}<br>\begin{equation}<br>f_{other}(s_{other},\hat{z}_{other},z_{self};\theta_{self})<br>\end{equation}<br>è¿™ä¸¤ä¸ªç½‘ç»œä½¿ç”¨çš„æ–¹å¼ä¸åŒï¼š$f_{self}$ç”¨äºè®¡ç®—æ™ºèƒ½ä½“è‡ªå·±çš„è¡Œä¸ºå’Œä»·å€¼ï¼Œå¹¶ä»¥å‰é¦ˆæ–¹å¼è¿è¡Œã€‚ç»™å‡ºå…¶ä»–æ™ºèƒ½ä½“è§‚å¯Ÿåˆ°çš„åŠ¨ä½œï¼Œæ™ºèƒ½ä½“ä½¿ç”¨$f_{other}$é€šè¿‡ä¼˜åŒ–$\hat{z}_{other}$æ¨æ–­å…¶ä»–æ™ºèƒ½ä½“çš„ç›®æ ‡ã€‚<br>æˆ‘ä»¬å»ºè®®æ¯ä¸ªæ™ºèƒ½ä½“ä½¿ç”¨è‡ªå·±çš„ç­–ç•¥æ¨¡æ‹Ÿå…¶ä»–ç©å®¶çš„è¡Œä¸ºï¼Œè¿™æ ·$f_{other}$çš„å‚æ•°ä¸$f_{self}$çš„å‚æ•°æ˜¯ç›¸åŒçš„ã€‚ä½†è¯·æ³¨æ„ï¼Œä¸¤ä¸ªç½‘ç»œçš„è¾“å…¥$z_{self}$å’Œ$\hat{z}_{other}$çš„ç›¸å¯¹ä½ç½®ä¸åŒã€‚å¦å¤–ï¼Œç”±äºç¯å¢ƒæ˜¯å®Œå…¨å¯è§‚æµ‹çš„ï¼Œä¸¤ä¸ªæ™ºèƒ½ä½“çš„è§‚å¯ŸçŠ¶æ€çš„ä¸åŒä»…é€šè¿‡åœ°å›¾ä¸Šæ™ºèƒ½ä½“çš„èº«ä»½ä½“ç°å‡ºæ¥ï¼ˆå³ï¼Œæ¯ä¸ªæ™ºèƒ½ä½“å°†èƒ½å¤ŸåŒºåˆ†å…¶è‡ªå·±çš„ä½ç½®å’Œå¦ä¸€ä¸ªæ™ºèƒ½ä½“çš„ä½ç½®ï¼‰ã€‚å› æ­¤ï¼Œåœ¨actingæ¨¡å¼ä¸‹ï¼Œ$f_{self}$ç½‘ç»œå°†$s_{self}$ä½œä¸ºè¾“å…¥ï¼›åœ¨æ¨ç†æ¨¡å¼ä¸‹ï¼Œ$f_{other}$ç½‘ç»œå°†$s_{other}$ä½œä¸ºè¾“å…¥ã€‚åœ¨æ¸¸æˆçš„æ¯ä¸€æ­¥ï¼Œæ™ºèƒ½ä½“éœ€è¦æ¨ç†$\hat{z}_{other}$å°†å…¶ä½œä¸º(1)çš„è¾“å…¥å¹¶é€‰æ‹©å…¶åŠ¨ä½œã€‚ä¸ºäº†å®ç°è¿™ä¸ªç›®çš„ï¼Œåœ¨æ¯ä¸€æ­¥ä¸­ï¼Œæ™ºèƒ½ä½“è§‚å¯Ÿå¦ä¸€ä¸ªæ™ºèƒ½ä½“é‡‡å–çš„è¡ŒåŠ¨ï¼Œå¹¶ä¸”åœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæ™ºèƒ½ä½“ä½¿ç”¨å…ˆå‰è§‚å¯Ÿåˆ°çš„å¦ä¸€ä¸ªæ™ºèƒ½ä½“çš„åŠ¨ä½œä½œä¸ºç›‘ç£ä¿¡å·ï¼Œä½¿ç”¨å¼å­(2)åå‘ä¼ æ’­å¹¶ä¼˜åŒ–å…¶$\hat{z}_{other}$ï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚<br>æ¨ç†è¿‡ç¨‹ä¼˜åŒ–å™¨ä¸­é‡‡å–çš„æ­¥æ•°æ˜¯ä¸€ä¸ªå¯æ ¹æ®æ¸¸æˆçš„ä¸åŒè€Œå˜åŒ–çš„è¶…å‚æ•°ã€‚å› æ­¤ï¼Œåœ¨æ¸¸æˆçš„æ¯ä¸€æ­¥ä¸­å…¶ä»–æ™ºèƒ½ä½“çš„ç›®æ ‡ä¼°è®¡$\hat{z}_{other}$ä¼šè¢«æ›´æ–°å¤šæ¬¡ã€‚å‚æ•°$\theta_{self}$åœ¨æ¯ä¸ªå›åˆç»“æŸæ—¶ä½¿ç”¨å’Œå¸¦æœ‰æ™ºèƒ½ä½“è·å¾—çš„å¥–åŠ±ä¿¡å·çš„Asynchronous Advantage Actor-Criticï¼ˆA3Cï¼‰è¿›è¡Œæ›´æ–°ã€‚<br>ç®—æ³•1ç»™å‡ºäº†ä¸€ä¸ªå›åˆå†…è®­ç»ƒSOMæ™ºèƒ½ä½“çš„ä¼ªä»£ç ã€‚è¿™é‡Œè€ƒè™‘çš„æ‰€æœ‰ä»»åŠ¡çš„ç›®æ ‡éƒ½æ˜¯ç¦»æ•£çš„ï¼Œæ™ºèƒ½ä½“çš„ç›®æ ‡$\hat{z}_{self}$è¢«<br>è¡¨ç¤ºç‹¬çƒ­å‘é‡ï¼Œç»´åº¦æ˜¯æ™ºèƒ½ä½“ç›®æ ‡æ‰€æœ‰å¯èƒ½çš„æƒ…å†µæ•°ã€‚å¦ä¸€ä¸ªç©å®¶çš„ç›®æ ‡åµŒå…¥$\hat{z}_{other}$æœ‰ç›¸åŒçš„ç»´åº¦ã€‚ä¸ºäº†ä¼°è®¡ç»è¿‡ç¦»æ•£è€Œä¸å¯å¾®çš„å˜é‡$\hat{z}_{other}$çš„æ¢¯åº¦ï¼Œæˆ‘ä»¬ç”¨Gumbel-Softmaxåˆ†å¸ƒä¸Šçš„ä¸€ä¸ªå¯å¾®æ ·æœ¬$\hat{z}_{other}^G$ä»£æ›¿å®ƒã€‚è¿™ç§é‡æ–°å‚æ•°åŒ–æŠ€å·§è¢«è¯æ˜å¯ä»¥æœ‰æ•ˆåœ°äº§ç”Ÿä½æ–¹å·®åç½®çš„æ¢¯åº¦ã€‚ä½¿ç”¨è¯¥æ–¹æ³•åœ¨æ¯ä¸€æ­¥ä¼˜åŒ–è¿‡$\hat{z}_{other}$ä¹‹åï¼Œ$\hat{z}_{other}$é€šå¸¸åç¦»ç‹¬çƒ­å‘é‡ã€‚åœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œ$f_{self}$å°†å¯¹åº”äºå…ˆå‰æ›´æ–°çš„$z_{other}$ argmaxçš„ä¸€ä¸ªç‹¬çƒ­å‘é‡é‡$\hat{z}_{other}^OH$ä½œä¸ºè¾“å…¥ã€‚<br>æ™ºèƒ½ä½“çš„ç­–ç•¥ç”±é•¿çŸ­æœŸè®°å¿†ï¼ˆLSTMï¼‰å•å…ƒå‚æ•°åŒ–ï¼Œä»¥åŠä¸¤ä¸ªå…¨è¿æ¥çš„çº¿æ€§å±‚å’ŒæŒ‡æ•°çº¿æ€§å•å…ƒï¼ˆELUï¼‰æ¿€æ´»å‡½æ•°ã€‚ç¥ç»ç½‘ç»œçš„æƒé‡ç”¨åŠæ­£äº¤çŸ©é˜µåˆå§‹åŒ–ã€‚<br>ç”±äº$f_{other}$çš„å¾ªç¯æ€§ï¼Œå½“æ¨ç†æ­¥æ•°$\gt 1$æ—¶å¿…é¡»ç‰¹åˆ«å°å¿ƒã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨æ¸¸æˆçš„æ¯ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬åœ¨æ¨ç†æ¨¡å¼ä¸­çš„ç¬¬ä¸€æ¬¡å‰å‘ä¼ æ’­ä¹‹å‰ä¿å­˜$f_{other}$çš„å¾ªç¯çŠ¶æ€ï¼Œå¹¶ä¸”åœ¨æ¯ä¸ªæ¨ç†æ­¥éª¤å°†å¾ªç¯çŠ¶æ€åˆå§‹åŒ–ä¸ºæ­¤å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥ç¡®ä¿åœ¨åŠ¨ä½œå’Œæ¨ç†æ¨¡å¼ä¸‹$f_{other}$å¯ä»¥å±•å¼€ç›¸åŒæ•°é‡çš„æ­¥éª¤ã€‚</p>
<h2 id="ç›¸å…³å·¥ä½œ"><a href="#ç›¸å…³å·¥ä½œ" class="headerlink" title="ç›¸å…³å·¥ä½œ"></a>ç›¸å…³å·¥ä½œ</h2><p>ä¸å®Œå…¨ä¿¡æ¯çš„æ¸¸æˆä¸­å¯¹æ‰‹å»ºæ¨¡ä¸€ç›´åœ¨è¢«å¹¿æ³›ç ”ç©¶ã€‚ä½†æ˜¯ï¼Œå¤§å¤šæ•°ä»¥å‰çš„æ–¹æ³•éƒ½ä¾§é‡äºç ”ç©¶ç‰¹å®šé¢†åŸŸå†…çš„æ¦‚ç‡å…ˆéªŒæˆ–å‚æ•°åŒ–ç­–ç•¥çš„æ¨¡å‹ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæœ¬æ–‡çš„å·¥ä½œä¸ºå¯¹æ‰‹å»ºæ¨¡æå‡ºäº†ä¸€ä¸ªæ›´é€šç”¨çš„æ¡†æ¶ã€‚ç»™å®šæ¯”èµ›å†å²ï¼ŒDavidsonä½¿ç”¨MLPé¢„æµ‹å¯¹æ‰‹çš„åŠ¨ä½œï¼Œä½†æ˜¯æ™ºèƒ½ä½“æ— æ³•å®æ—¶é€‚åº”å¯¹æ‰‹çš„è¡Œä¸ºã€‚Lockettç­‰äººè®¾è®¡äº†ä¸€ç§ç¥ç»ç½‘ç»œç»“æ„ï¼Œé€šè¿‡åœ¨ç»™å®šçš„ä¸€ç»„ä¸»è¦å¯¹æ‰‹ä¸Šå­¦ä¹ æƒé‡çš„å€¼æ¥è¯†åˆ«å¯¹æ‰‹ç±»å‹ã€‚ç„¶è€Œï¼Œæ¸¸æˆå¹¶æ²¡æœ‰åœ¨å¼ºåŒ–å­¦ä¹ æ¡†æ¶å†…å±•å¼€ã€‚<br>å¤§é‡å¤šæ™ºèƒ½ä½“æ·±åº¦å¼ºåŒ–å­¦ä¹ çš„ç ”ç©¶ä¸­ä¾§é‡äºéƒ¨åˆ†å¯è§çš„ï¼Œå®Œå…¨åˆä½œå’Œç´§æ€¥é€šä¿¡ç­‰ç¯å¢ƒã€‚æœ¬æ–‡ä¸å…è®¸æ™ºèƒ½ä½“ä¹‹é—´è¿›è¡Œä»»ä½•æ²Ÿé€šï¼Œå› æ­¤ç©å®¶å¿…é¡»åˆ©ç”¨ä»–ä»¬è§‚å¯Ÿåˆ°çš„è¡Œä¸ºé—´æ¥æ¨ç†ä»–ä»¬å¯¹æ‰‹çš„æ„å›¾ã€‚ä½œä¸ºå¯¹æ¯”ï¼ŒLeiboç­‰è€ƒè™‘åŠåˆä½œå¤šæ™ºèƒ½ä½“ç¯å¢ƒï¼Œæ™ºèƒ½ä½“æ ¹æ®ä»»åŠ¡ç±»å‹å’Œå¥–åŠ±ç»“æ„åˆ¶å®šåˆä½œå’Œç«äº‰ç­–ç•¥ã€‚ç±»ä¼¼åœ°ï¼ŒLoweç­‰äººæå‡ºäº†ä¸€ç§é›†ä¸­ACæ¡†æ¶ï¼Œç”¨äºåœ¨å…·æœ‰æ··åˆç­–ç•¥çš„ç¯å¢ƒä¸­è¿›è¡Œé«˜æ•ˆçš„è®­ç»ƒã€‚ Lererå’ŒPeysakhoviché€šè¿‡å°†é’ˆé”‹ç›¸å¯¹çš„è‘—åæ¸¸æˆç†è®ºç­–ç•¥æ¨å¹¿åˆ°å¤šæ™ºèƒ½ä½“é©¬å°”å¯å¤«æ¸¸æˆï¼Œè®¾è®¡äº†èƒ½å¤Ÿåœ¨å¤æ‚ç¤¾ä¼šå›°å¢ƒä¸­ä¿æŒåˆä½œçš„å¼ºåŒ–å­¦ä¹ æ™ºèƒ½ä½“ã€‚æœ€è¿‘è®¤çŸ¥ç§‘å­¦æ–¹é¢çš„å·¥ä½œè¯•å›¾é€šè¿‡ä½¿ç”¨åˆ†å±‚çš„ç¤¾ä¼šæ™ºèƒ½ä½“æ¨¡å‹æ¥ç†è§£äººç±»çš„å†³ç­–ï¼Œå®ƒèƒ½æ¨æ–­å‡ºå…¶ä»–äººç±»æ™ºèƒ½ä½“çš„æ„å›¾ï¼Œä»è€Œå†³å®šæ˜¯å¦é‡‡å–åˆä½œæˆ–ç«äº‰ç­–ç•¥ã€‚ç„¶è€Œï¼Œè¿™äº›è®ºæ–‡éƒ½æ²¡æœ‰è®¾è®¡å‡ºèƒ½å¤Ÿæ˜¾å¼æ¨¡æ‹Ÿç¯å¢ƒä¸­å…¶ä»–äººå·¥æ™ºèƒ½ä½“æˆ–è€…ä¼°è®¡ä»–ä»¬æ„å›¾çš„ç®—æ³•æ¥æ”¹å–„æ™ºèƒ½ä½“çš„å†³ç­–ã€‚<br>é€†å¼ºåŒ–å­¦ä¹ é¢†åŸŸä¹Ÿä¸æœ¬æ–‡è€ƒè™‘çš„é—®é¢˜æœ‰å…³ã€‚é€†å¼ºåŒ–å­¦ä¹ çš„ç›®çš„æ˜¯é€šè¿‡è§‚å¯Ÿæ™ºèƒ½ä½“çš„è¡Œä¸ºæ¥æ¨æ–­æ™ºèƒ½ä½“çš„å¥–åŠ±å‡½æ•°ã€‚ç›¸åï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä½¿ç”¨è§‚å¯Ÿåˆ°å…¶ä»–ç©å®¶çš„è¡Œä¸ºä»¥åœ¨çº¿æ–¹å¼ç›´æ¥æ¨æ–­ä»–ä»¬çš„ç›®æ ‡ï¼Œç„¶ååœ¨ç¯å¢ƒçš„actingæ¨¡å¼ä¸­ç”±æ™ºèƒ½ä½“ä½¿ç”¨ã€‚è¿™é¿å…ä¸ºäº†ä¼°è®¡å¥–åŠ±å‡½æ•°æ”¶é›†å…¶ä»–æ™ºèƒ½ä½“çŠ¶æ€-åŠ¨ä½œå¯¹ç¦»çº¿æ ·æœ¬çš„éœ€è¦ï¼Œç„¶åä½¿ç”¨å®ƒæ¥å­¦ä¹ æœ€å¤§åŒ–è¯¥æ•ˆç”¨çš„å•ç‹¬ç­–ç•¥ã€‚æœ€è¿‘Hadfield-Menellç­‰çš„è®ºæ–‡ä¹Ÿå…³æ³¨æ¨ç†ä»–äººæ„å›¾çš„é—®é¢˜ï¼Œä½†ä»–ä»¬å…³æ³¨çš„æ˜¯äººæœºäº¤äº’å’Œä»·å€¼è°ƒæ•´ã€‚åœ¨ç±»ä¼¼ç›®æ ‡çš„æ¨åŠ¨ä¸‹ï¼ŒChandrasekaranç­‰äººè€ƒè™‘å»ºç«‹äººå·¥æ™ºèƒ½ç†è®ºçš„é—®é¢˜ï¼Œä»¥æ”¹å–„äººå·¥æ™ºèƒ½äº¤äº’å’Œäººå·¥æ™ºèƒ½ç³»ç»Ÿçš„å¯è§£é‡Šæ€§ã€‚ä¸ºäº†è¿™ä¸ªç›®æ ‡ï¼Œä»–ä»¬å±•ç¤ºäº†å¯ä»¥ä½¿ç”¨å°‘é‡ç¤ºä¾‹è®­ç»ƒäººä»¬é¢„æµ‹è§†è§‰é—®ç­”æ¨¡å‹çš„å“åº”ã€‚<br>Foersterç­‰äººå’ŒHeç­‰äººçš„å·¥ä½œä¸æˆ‘ä»¬çš„å·¥ä½œæœ€æ¥è¿‘ã€‚Foersterç­‰äººè®¾è®¡å¼ºåŒ–å­¦ä¹ æ™ºèƒ½ä½“åœ¨æ›´æ–°è‡ªå·±çš„ç­–ç•¥æ—¶åŒæ—¶è€ƒè™‘åˆ°ç¯å¢ƒä¸­å…¶ä»–æ™ºèƒ½ä½“çš„å­¦ä¹ ã€‚è¿™ä½¿å¾—æ™ºèƒ½ä½“èƒ½å¤Ÿå‘ç°è‡ªç§è€Œåˆåä½œçš„ç­–ç•¥ï¼Œä¾‹å¦‚åœ¨è¿­ä»£å›šå¾’å›°å¢ƒä¸­çš„é’ˆé”‹ç›¸å¯¹ç­–ç•¥ã€‚è™½ç„¶æˆ‘ä»¬çš„å·¥ä½œæ²¡æœ‰æ˜ç¡®åœ°è¯•å›¾å¡‘é€ å…¶ä»–æ™ºèƒ½ä½“çš„å­¦ä¹ ï¼Œä½†å®ƒçš„ä¼˜ç‚¹æ˜¯æ™ºèƒ½ä½“å¯ä»¥åœ¨ä¸€ä¸ªå›åˆä¸­æ›´æ–°ä»–ä»¬çš„ä¿¡å¿µå¹¶ä»¥åœ¨çº¿æ–¹å¼æ›´æ–°ç­–ç•¥ä»¥è·å¾—æ›´å¤šå¥–åŠ±ã€‚æˆ‘ä»¬çš„è®¾ç½®ä¹Ÿæœ‰æ‰€ä¸åŒï¼Œå®ƒè®¤ä¸ºæ¯ä¸ªæ™ºèƒ½ä½“éƒ½æœ‰ä¸€äº›å…¶ä»–ç©å®¶æ‰€éœ€çš„éšè—ä¿¡æ¯ï¼Œä»¥ä¾¿æœ€å¤§åŒ–å…¶å›æŠ¥ã€‚<br>æˆ‘ä»¬çš„å·¥ä½œéå¸¸ç¬¦åˆHeç­‰äººçš„å·¥ä½œï¼Œä½œè€…æ„å»ºäº†ä¸€ä¸ªç”¨äºåœ¨å¼ºåŒ–å­¦ä¹ ç¯å¢ƒä¸­æ„å»ºå…¶ä»–æ™ºèƒ½ä½“çš„ä¸€èˆ¬æ¡†æ¶ã€‚Heç­‰äººæå‡ºäº†ä¸€ä¸ªæ¨¡å‹ï¼Œé€šè¿‡å°†å¯¹æ‰‹çš„è§‚å¯Ÿä½¿ç”¨DQNè¿›è¡Œç¼–ç ï¼Œå…±åŒå­¦ä¹ ä¸€ä¸ªç­–ç•¥å’Œå¯¹æ‰‹çš„è¡Œä¸ºå¯¹æ‰‹ã€‚ä»–ä»¬çš„æ··åˆä¸“å®¶æ¶æ„èƒ½å¤Ÿåœ¨ä¸¤ä¸ªçº¯å¯¹æŠ—æ€§ä»»åŠ¡ä¸­å‘ç°ä¸åŒå¯¹æ‰‹çš„ç­–ç•¥æ¨¡å¼ã€‚æˆ‘ä»¬çš„å·¥ä½œä¸Heç­‰äººçš„å·¥ä½œä¹‹é—´çš„ä¸€ä¸ªåŒºåˆ«åœ¨äºï¼Œæˆ‘ä»¬çš„ç›®æ ‡ä¸æ˜¯æ¨æ–­å…¶ä»–æ™ºèƒ½ä½“çš„ç­–ç•¥ï¼Œè€Œæ˜¯ä¸“æ³¨äºæ˜¾å¼ä¼°è®¡ä»–ä»¬åœ¨ç¯å¢ƒä¸­çš„ç›®æ ‡ã€‚æ­¤å¤–ï¼Œåœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæ™ºèƒ½ä½“ä¸æ˜¯ä½¿ç”¨å…¶ä»–æ™ºèƒ½ä½“åŠ¨ä½œçš„äººå·¥è®¾è®¡ç‰¹å¾ï¼Œè€Œæ˜¯æ ¹æ®è‡ªå·±çš„æ¨¡å‹ç«¯åˆ°ç«¯çš„å­¦ä¹ å…¶ä»–æ™ºèƒ½ä½“æ¨¡å‹ã€‚å¦ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œåœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæ™ºèƒ½ä½“ä½¿ç”¨ä¼˜åŒ–æ¨æ–­å…¶ä»–æ™ºèƒ½ä½“çš„éšè—çŠ¶æ€ï¼Œè€Œä¸æ˜¯é€šè¿‡å‰é¦ˆç½‘ç»œæ¨æ–­å…¶ä»–æ™ºèƒ½ä½“çš„éšè—çŠ¶æ€ã€‚åœ¨ä¸‹é¢çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬è¡¨æ˜SOMä¼˜äºHeç­‰äººçš„æ–¹æ³•ã€‚</p>
<h2 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h2><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬åœ¨ä¸‰ä¸ªä»»åŠ¡ä¸Šè¯„ä¼°SOMæ¨¡å‹ï¼š</p>
<ul>
<li>ç¡¬å¸æ¸¸æˆï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œå…¨åˆä½œçš„ä»»åŠ¡ï¼Œæ™ºèƒ½ä½“çš„è§’è‰²æ˜¯å¯¹ç§°çš„ã€‚</li>
<li>é…æ–¹æ¸¸æˆï¼Œå®ƒæ˜¯å¯¹æŠ—çš„ï¼Œä½†å…·æœ‰å¯¹ç§°è§’è‰²ã€‚</li>
<li>é—¨ç¦æ¸¸æˆï¼Œå®ƒæ˜¯å®Œå…¨åˆä½œçš„ï¼Œä½†æ˜¯ä¸¤ä¸ªç©å®¶æ‹¥æœ‰ä¸å¯¹ç§°çš„è§’è‰²ã€‚</li>
</ul>
<p>æˆ‘ä»¬å°†SOMä¸å…¶ä»–ä¸‰ä¸ªbaselinesä»¥åŠä¸€ä¸ªå¯ä»¥è®¿é—®å…¶ä»–æ™ºèƒ½ä½“ç›®æ ‡çš„ground truthçš„æ¨¡å‹è¿›è¡Œæ¯”è¾ƒã€‚æ‰€æœ‰ä»»åŠ¡éƒ½æ˜¯åœ¨Mazebase gridworldç¯å¢ƒä¸­åˆ›å»ºçš„ã€‚</p>
<h3 id="Baselines"><a href="#Baselines" class="headerlink" title="Baselines"></a>Baselines</h3><p>TRUE-OTHER-GOALï¼ˆTOGï¼‰ï¼šæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç»™å‡ºçš„æ¨¡å‹æ€§èƒ½ä¸Šé™çš„ç­–ç•¥ç½‘ç»œï¼Œè¯¥ç½‘ç»œå°†å…¶ä»–æ™ºèƒ½ä½“çš„çœŸæ­£ç›®æ ‡$z_{other}$ï¼Œä»¥åŠçŠ¶æ€ç‰¹å¾$s_{self}$å’Œè‡ªå·±çš„ç›®æ ‡$z_{self}$ä½œä¸ºè¾“å…¥ã€‚å› ä¸ºè¿™ä¸ªæ¨¡å‹å¯ä»¥ç›´æ¥è®¿é—®å…¶ä»–æ™ºèƒ½ä½“çœŸæ­£çš„ç›®æ ‡ï¼Œå› æ­¤ä¸éœ€è¦å•ç‹¬çš„ç½‘ç»œæ¥æ¨¡æ‹Ÿå…¶ä»–æ™ºèƒ½ä½“çš„è¡Œä¸ºã€‚ TOGçš„ç»“æ„ä¸SOMçš„ä¸€ä¸ªç­–ç•¥ç½‘ç»œ$f_{self}$ç›¸åŒã€‚ NO-OTHER-MODELï¼ˆNOMï¼‰ï¼šæˆ‘ä»¬ä½¿ç”¨çš„ç¬¬ä¸€ä¸ªbaselineä»…ä½¿ç”¨è§‚å¯ŸçŠ¶æ€$s_{self}$å’Œè‡ªèº«ç›®æ ‡$z_{self}$ä½œä¸ºè¾“å…¥ã€‚NOMä¸SOMçš„ä¸€ä¸ªç­–ç•¥ç½‘ç»œ$f_{self}$æœ‰ç›¸åŒçš„æ¶æ„ã€‚è¯¥baselineæ²¡æœ‰å¯¹å…¶ä»–æ™ºèƒ½ä½“çš„æ˜¾å¼å»ºæ¨¡æˆ–ä¼°è®¡å®ƒä»¬çš„ç›®æ ‡ã€‚<br>é›†æˆ-ç­–ç•¥-é¢„æµ‹å™¨ï¼ˆIPPï¼‰ï¼šä»NOMçš„ä½“ç³»ç»“æ„å’Œè¾“å…¥å¼€å§‹ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªæ›´å¼ºçš„baseline IPPï¼Œå®ƒæœ‰ä¸€ä¸ªé¢å¤–çš„æœ€ç»ˆçº¿æ€§å±‚è¾“å‡ºå¦ä¸€ä¸ªæ™ºèƒ½ä½“ä¸‹ä¸€ä¸ªåŠ¨ä½œçš„æ¦‚ç‡åˆ†å¸ƒã€‚é™¤äº†ç”¨äºè®­ç»ƒè¯¥ç½‘ç»œç­–ç•¥çš„A3CæŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬è¿˜æ·»åŠ äº¤å‰ç†µæŸå¤±é¡¹è®­ç»ƒå…¶ä»–æ™ºèƒ½ä½“çš„è¡Œä¸ºçš„é¢„æµ‹ã€‚<br>åˆ†ç¦»-ç­–ç•¥-é¢„æµ‹å™¨ï¼ˆSPPï¼‰ï¼šHeç­‰äººæå‡ºäº†ä¸€ä¸ªåŸºäºDQNçš„å¯¹æ‰‹å»ºæ¨¡æ¡†æ¶ã€‚åœ¨ä»–ä»¬çš„æ–¹æ³•ä¸­ï¼Œç»™å®šå¯¹æ‰‹ç‰¹æœ‰çš„äººå·¥æå–çš„çŠ¶æ€ä¿¡æ¯ï¼Œè®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œé¢„æµ‹å¯¹æ‰‹çš„åŠ¨ä½œã€‚è¯¥ç½‘ç»œçš„ä¸­é—´éšè—è¡¨ç¤ºç”¨ä½œQç½‘ç»œçš„è¾“å…¥ã€‚<br>æˆ‘ä»¬ä¿®æ”¹äº†Heç­‰äººçš„æ¨¡å‹åº”ç”¨åˆ°æœ¬æ–‡çš„åœºæ™¯ä¸­ã€‚ç‰¹åˆ«çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨A3Cè€Œä¸æ˜¯DQNï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨ç‰¹å®šé¢†åŸŸçš„ç‰¹å¾è¡¨ç¤ºå¯¹æ‰‹çš„éšè—çŠ¶æ€ã€‚<br>æœ€åäº§ç”Ÿçš„SPPæ¨¡å‹ç”±ä¸¤ä¸ªç‹¬ç«‹çš„ç½‘ç»œç»„æˆï¼Œä¸€ä¸ªç­–ç•¥ç½‘ç»œç”¨äºå†³å®šæ™ºèƒ½ä½“çš„åŠ¨ä½œï¼Œä¸€ä¸ªå¯¹æ‰‹ç½‘ç»œç”¨äºé¢„æµ‹å…¶ä»–æ™ºèƒ½ä½“çš„åŠ¨ä½œã€‚å¯¹æ‰‹ç½‘ç»œå°†ä¸–ç•ŒçŠ¶æ€$s$å’Œè‡ªå·±çš„ç›®æ ‡$z_{self}$ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¾“å‡ºå…¶ä»–æ™ºèƒ½ä½“åœ¨ä¸‹ä¸€æ­¥é‡‡å–åŠ¨ä½œçš„æ¦‚ç‡åˆ†å¸ƒï¼Œä»¥åŠå…¶éšè—çŠ¶æ€ï¼ˆç”±ç½‘ç»œçš„å¾ªç¯ç»™å‡ºï¼‰ã€‚ä¸IPPä¸€æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨å…¶ä»–æ™ºèƒ½ä½“çš„çœŸå®åŠ¨ä½œè®­ç»ƒå¯¹æ‰‹ç­–ç•¥é¢„æµ‹å™¨çš„äº¤å‰ç†µæŸå¤±ã€‚åœ¨æ¯ä¸€æ­¥ä¸­ï¼Œè¯¥ç½‘ç»œè¾“å‡ºçš„éšè—çŠ¶æ€ä»¥åŠæ™ºèƒ½ä½“è§‚å¯ŸçŠ¶æ€å’Œæ™ºèƒ½ä½“è‡ªèº«çš„ç›®æ ‡è¢«ä½œä¸ºæ™ºèƒ½ä½“çš„ç­–ç•¥ç½‘ç»œçš„è¾“å…¥ã€‚ç­–ç•¥ç½‘ç»œå’Œå¯¹æ‰‹ç­–ç•¥é¢„æµ‹å™¨éƒ½æ˜¯ä¸SOMç»“æ„ç›¸åŒçš„LSTMç½‘ç»œã€‚<br>ä¸SOMä½œå¯¹æ¯”ï¼ŒSPPæ²¡æœ‰æ˜¾å¼æ¨æ–­å‡ºå…¶ä»–æ™ºèƒ½ä½“çš„ç›®æ ‡ã€‚ç›¸åï¼Œå®ƒé€šè¿‡é¢„æµ‹æ™ºèƒ½ä½“åœ¨æ¯ä¸ªæ—¶é—´æ­¥çš„åŠ¨ä½œæ¥éšå¼çš„æ„å»ºå¯¹æ‰‹æ¨¡å‹ã€‚åœ¨SOMä¸­ï¼Œä¸€ä¸ªå‚è€ƒçš„ç›®æ ‡ä½œä¸ºç­–ç•¥ç½‘ç»œçš„é™„åŠ è¾“å…¥ã€‚è€Œåœ¨SPPï¼Œç±»ä¼¼çš„å‚è€ƒç›®æ ‡æ˜¯ä»å¯¹æ‰‹ç­–ç•¥é¢„æµ‹å™¨å¾—åˆ°çš„éšè—è¡¨ç¤ºï¼ŒæŠŠå®ƒä½œä¸ºç­–ç•¥ç½‘ç»œçš„é™„åŠ è¾“å…¥ã€‚<br><strong>è®­ç»ƒç»†èŠ‚</strong>ã€‚åœ¨æˆ‘ä»¬çš„æ‰€æœ‰å®éªŒä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç³»æ•°ä¸º$0.01$çš„ç†µï¼Œä»·å€¼æŸå¤±ç³»æ•°ä¸º$0.5$ï¼ŒæŠ˜æ‰£ç³»æ•°ä¸º$0.99$çš„A3Cè®­ç»ƒæ™ºèƒ½ä½“çš„ç­–ç•¥ã€‚ä½¿ç”¨Adamä¼˜åŒ–æ™ºèƒ½ä½“å•†ç­–ç•¥çš„å‚æ•°ï¼Œå…¶ä¸­$\beta_1= 0.9,\beta_2= 0.999,\epsilonn =1\times 10^{-8}$ï¼Œæƒé‡è¡°å‡ä¸º$0$ã€‚å­¦ä¹ ç‡ä¸º$0.1$çš„SGDç”¨äºæ¨æ–­å¦ä¸€ä¸ªæ™ºèƒ½ä½“çš„ç›®æ ‡ï¼Œ$\hat{z}_{other}$ã€‚<br>ç¡¬å¸å’Œé£Ÿè°±æ¸¸æˆä¸­ç­–ç•¥ç½‘ç»œçš„éšè—å±‚ç»´åº¦ä¸º$64$ï¼Œé—¨æ¸¸æˆä¸­ä¸º$128$ã€‚æ‰€æœ‰æ¸¸æˆå’Œæ¨¡å‹çš„å­¦ä¹ ç‡éƒ½æ˜¯$1\times 10^{-4}$ã€‚<br>è§‚æµ‹çŠ¶æ€$s$ç”¨ä¸€äº›ç‹¬çƒ­å‘é‡è¡¨ç¤ºï¼ŒåŒ…æ‹¬ç¯å¢ƒä¸­æ‰€æœ‰ç‰©ä½“çš„ä½ç½®ï¼Œä»¥åŠæ™ºèƒ½ä½“å’Œå¦ä¸€ä¸ªæ™ºèƒ½ä½“çš„ä½ç½®ã€‚è¿™ä¸ªè¾“å…¥çŠ¶æ€çš„ç»´åº¦æ˜¯$1\times n$ç‰¹å¾ï¼Œå…¶ä¸­Coinï¼ŒRecipeå’ŒDooræ¸¸æˆçš„ç‰¹å¾æ•°åˆ†åˆ«ä¸º$384$,$192$å’Œ$900$ã€‚å¯¹äºæ¯ä¸ªå®éªŒï¼Œæˆ‘ä»¬ä½¿ç”¨5ä¸ªä¸åŒçš„éšæœºç§å­è®­ç»ƒæ¨¡å‹ã€‚é™¤éç‰¹æ®Šè¯´æ˜ï¼Œå¦åˆ™è®ºæ–‡ä¸­å±•ç¤ºçš„æ‰€æœ‰æ¸¸æˆç»“æœéƒ½æ˜¯æ¯æ­¥è¿›è¡Œçš„10æ¬¡ä¼˜åŒ–æ›´æ–°çš„ç»“æœã€‚</p>
<!--
### ç¡¬å¸æ¸¸æˆã€‚
é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªå®Œå…¨åˆä½œçš„ä»»åŠ¡ä¸Šè¯„ä¼°æ¨¡å‹ï¼Œåœ¨è¿™ä¸ªä»»åŠ¡ä¸­ï¼Œå½“æ™ºèƒ½ä½“ä½¿ç”¨ä»–ä»¬ä¸¤ä¸ªçš„ç›®æ ‡è€Œä¸ä»…ä»…æ˜¯ä»–ä»¬è‡ªå·±çš„ç›®æ ‡æ—¶ï¼Œä»–ä»¬å¯ä»¥è·å¾—æ›´å¤šçš„å¥–åŠ±ã€‚å› æ­¤ï¼Œä¼°è®¡å…¶ä»–ç©å®¶çš„ç›®æ ‡å¹¶åœ¨é‡‡å–è¡ŒåŠ¨æ—¶ä½¿ç”¨è¯¥ä¿¡æ¯ç¬¦åˆæ¯ä¸ªæ™ºèƒ½ä½“äººçš„æœ€ä½³åˆ©ç›Šã€‚å¦‚å›¾4çš„å·¦å›¾æ‰€ç¤ºï¼Œæ¸¸æˆåœ¨8Ã—8ç½‘æ ¼ä¸Šè¿›è¡Œï¼Œè¯¥ç½‘æ ¼åŒ…å«12ä¸ª3ç§ä¸åŒé¢œè‰²çš„ç¡¬å¸ï¼ˆæ¯ç§é¢œè‰²4ä¸ªç¡¬å¸ï¼‰ã€‚åœ¨æ¯é›†å¼€å§‹æ—¶ï¼Œæ™ºèƒ½ä½“è¢«éšæœºåˆ†é…ä¸‰ç§é¢œè‰²ä¸­çš„ä¸€ç§ã€‚åŠ¨ä½œç©ºé—´åŒ…æ‹¬ï¼šä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³æˆ–é€šè¿‡ã€‚ä¸€æ—¦æ™ºèƒ½ä½“äººè¸©åˆ°ç¡¬å¸ï¼Œé‚£ä¸ªç¡¬å¸å°±ä¼šä»ç½‘æ ¼ä¸­æ¶ˆå¤±ã€‚æ¸¸æˆåœ¨20ä¸ªæ­¥éª¤åç»“æŸï¼ˆå³æ¯ä¸ªæ™ºèƒ½ä½“éœ€è¦10ä¸ªæ­¥éª¤ï¼‰ã€‚ä¸¤åç‰¹å·¥åœ¨æ¯”èµ›ç»“æŸæ—¶æ”¶åˆ°çš„å¥–åŠ±ç”±ä¸‹é¢çš„å…¬å¼ç»™å‡ºï¼š
2ï¼‰ï¼Œå…¶ä»–nå…¶ä»–Cselfæ˜¯è‡ªæˆ‘ç›®æ ‡é¢œè‰²çš„ç¡¬å¸æ•°é‡ï¼Œç”±å…¶ä»–æ™ºèƒ½ä½“äººæ”¶é›†ï¼Œè€Œn self Cneitheræ˜¯ä¸è‡ªå·±æ”¶é›†çš„æ™ºèƒ½ä½“äººç›®æ ‡ç›¸å¯¹åº”çš„ç¡¬å¸æ•°é‡ã€‚å¯¹äºå›¾4ä¸­çš„ç¤ºä¾‹ï¼Œæ™ºèƒ½ä½“1å…·æœ‰Cself =æ©™è‰²å’ŒCother =é’è‰²ï¼Œè€Œæ™ºèƒ½ä½“2çš„Cselfæ˜¯é’è‰²è€ŒCotheræ˜¯æ©™è‰²ã€‚å¯¹äºä¸¤ç§è¯å‰‚ï¼Œä¸¤è€…éƒ½æ˜¯çº¢è‰²çš„ã€‚
æ”¶é›†ä¸ç¬¦åˆä»»ä½•æ™ºèƒ½ä½“äººç›®æ ‡çš„ç¡¬å¸çš„æƒ©ç½šçš„ä½œç”¨æ˜¯é¿å…æ”¶æ•›åˆ°æš´åŠ›æ”¿ç­–ï¼Œåœ¨è¿™ç§æ”¿ç­–ä¸­ï¼Œæ™ºèƒ½ä½“äººå¯ä»¥é€šè¿‡æ”¶é›†å…¶é™„è¿‘çš„æ‰€æœ‰ç¡¬å¸è€Œè·å¾—ä¸å¯å¿½è§†çš„å¥–åŠ±é‡‘é¢ï¼Œè€Œä¸æ˜¯å…³äºä»–ä»¬çš„é¢œè‰²ã€‚ä¸ºäº†æœ€å¤§åŒ–å…¶å›æŠ¥ï¼Œæ¯ä¸ªæ™ºèƒ½ä½“äººéœ€è¦æ”¶é›†è‡ªå·±çš„ç¡¬å¸æˆ–å…¶åˆä½œè€…çš„é¢œè‰²ï¼Œè€Œä¸æ˜¯å‰©ä½™é¢œè‰²çš„ç¡¬å¸ã€‚å› æ­¤ï¼Œå½“ä¸¤ä¸ªæ™ºèƒ½ä½“äººèƒ½å¤Ÿåœ¨æ¸¸æˆä¸­å°½å¯èƒ½æ—©åœ°é«˜ç²¾åº¦åœ°æ¨æ–­å…¶åˆä½œè€…çš„ç›®æ ‡æ—¶.
-->
<h2 id="è®¨è®º"><a href="#è®¨è®º" class="headerlink" title="è®¨è®º"></a>è®¨è®º</h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€ç§æ–°æ–¹æ³•ï¼Œç”¨äºä»å…¶ä»–æ™ºèƒ½ä½“çš„è¡Œä¸ºä¸­æ¨æ–­ä»–ä»¬çš„éšè—çŠ¶æ€ï¼Œå¹¶ä½¿ç”¨è¿™äº›ä¼°è®¡æ¥é€‰æ‹©åŠ¨ä½œã€‚æˆ‘ä»¬è¯æ˜äº†æ™ºèƒ½ä½“èƒ½å¤Ÿåœ¨åˆä½œå’Œç«äº‰ç¯å¢ƒä¸­ä¼°è®¡å…¶ä»–å‚ä¸è€…çš„éšè—ç›®æ ‡ï¼Œè¿™ä½¿ä»–ä»¬èƒ½å¤Ÿæ”¶æ•›åˆ°æ›´å¥½çš„æ”¿ç­–å¹¶è·å¾—æ›´é«˜çš„å›æŠ¥ã€‚åœ¨æœ¬æ–‡æå‡ºçš„ä»»åŠ¡ä¸­ï¼Œå¯¹å…¶ä»–æ™ºèƒ½ä½“çš„æ˜¾å¼å»ºæ¨¡æ¯”ä»…ä»…è€ƒè™‘å…¶ä»–ä»£ç†æˆä¸ºç¯å¢ƒçš„ä¸€éƒ¨åˆ†æ›´å¥½çš„æ€§èƒ½ã€‚     SOMçš„ä¸€ä¸ªé™åˆ¶æ˜¯å®ƒæ¯”å…¶ä»–baselineéœ€è¦æ›´é•¿çš„è®­ç»ƒæ—¶é—´ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ¯ä¸€æ­¥éƒ½è¿›è¡Œäº†åå‘ä¼ æ’­ã€‚ä½†æ˜¯ï¼Œå®ƒçš„onlineæ›´æ–°æ–¹å¼å¯¹äºé€‚åº”ç¯å¢ƒä¸­å…¶ä»–æ™ºèƒ½ä½“çš„åŠ¨ä½œå˜åŒ–è‡³å…³é‡è¦ã€‚SOMçš„ä¸€äº›ä¸»è¦ä¼˜ç‚¹æ˜¯ç®€å•æ€§å’Œçµæ´»æ€§ï¼Œå®ƒä¸éœ€è¦ä»»ä½•é¢å¤–å‚æ•°æ¥æ¨¡æ‹Ÿç¯å¢ƒä¸­çš„å…¶ä»–ä»£ç†ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•å¼ºåŒ–å­¦ä¹ ç®—æ³•è¿›è¡Œè®­ç»ƒï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾åœ°ä¸ä»»ä½•ç­–ç•¥å‚æ•°åŒ–æˆ–ç½‘ç»œç»“æ„é›†æˆã€‚SOMå¯ä»¥é€‚åº”å…·æœ‰ä¸¤ä¸ªä»¥ä¸Šæ™ºèƒ½ä½“çš„ç¯å¢ƒï¼Œå› ä¸ºæ™ºèƒ½ä½“å¯ä»¥ä½¿ç”¨è‡ªå·±çš„ç­–ç•¥æ¥æ¨¡æ‹Ÿä»»æ„æ•°é‡çš„æ™ºèƒ½ä½“çš„åŠ¨ä½œå¹¶æ¨æ–­å…¶ç›®æ ‡ã€‚è€Œä¸”ï¼Œå®ƒå¯ä»¥å¾ˆå®¹æ˜“åœ°æ¨å¹¿åˆ°è®¸å¤šä¸åŒçš„ç¯å¢ƒå’Œä»»åŠ¡ã€‚<br>æˆ‘ä»¬è®¡åˆ’é€šè¿‡è¯„ä¼°æ›´å¤æ‚ç¯å¢ƒä¸­çš„æ¨¡å‹æ¥æ‰©å±•è¿™é¡¹å·¥ä½œï¼ŒåŒ…æ‹¬ä¸¤ä¸ªä»¥ä¸Šçš„å‚ä¸è€…ï¼Œæ··åˆç­–ç•¥ï¼Œæ›´å¤šæ ·åŒ–çš„æ™ºèƒ½ä½“ç±»å‹ï¼ˆä¾‹å¦‚å…·æœ‰ä¸åŒåŠ¨ä½œç©ºé—´çš„æ™ºèƒ½ä½“ï¼Œå¥–åŠ±å‡½æ•°ï¼Œè§’è‰²æˆ–ç­–ç•¥ï¼‰ï¼Œä»¥åŠå‡è®¾å…¶ä»–ç©å®¶å’Œè‡ªå·±ä¸€æ ·çš„æ¨¡å‹åå·®ã€‚<br>æœªæ¥ç ”ç©¶çš„å…¶ä»–é‡è¦é€”å¾„æ˜¯è®¾è®¡èƒ½å¤Ÿé€‚åº”ç¯å¢ƒä¸­å…¶ä»–æ™ºèƒ½ä½“éå¹³ç¨³ç­–ç•¥çš„æ¨¡å‹ï¼Œå¤„ç†å…·æœ‰åˆ†å±‚ç›®æ ‡çš„ä»»åŠ¡ï¼Œå¹¶åœ¨æµ‹è¯•æ—¶é‡åˆ°æ–°æ™ºèƒ½ä½“æ—¶è¡¨ç°è‰¯å¥½ã€‚<br>æœ€åï¼Œè®¸å¤šç ”ç©¶é¢†åŸŸå¯ä»¥ä»æ‹¥æœ‰å…¶ä»–æ™ºèƒ½ä½“çš„æ¨¡å‹ä¸­å—ç›Šï¼Œè¿™äº›æ™ºèƒ½ä½“èƒ½å¤Ÿæ¨ç†å…¶ä»–æ™ºèƒ½ä½“çš„æ„å›¾å¹¶é¢„æµ‹ä»–ä»¬çš„åŠ¨ä½œã€‚è¿™äº›æ¨¡å‹å¯èƒ½å¯¹äººæœºæˆ–å¸ˆç”Ÿäº’åŠ¨ï¼Œä»¥åŠä»·å€¼å¯¹é½é—®é¢˜æœ‰æ’å¤§å¸®åŠ©ã€‚æ­¤å¤–ï¼Œè¿™äº›æ–¹æ³•å¯ç”¨äºå¤šæ™ºèƒ½ä½“ä»»åŠ¡ä¸­åŸºäºæ¨¡å‹çš„å¼ºåŒ–å­¦ä¹ ï¼Œå› ä¸ºå‰å‘æ¨¡å‹çš„å‡†ç¡®æ€§å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºé¢„æµ‹å…¶ä»–æ™ºèƒ½ä½“åŠ¨ä½œçš„èƒ½åŠ›ã€‚</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/favicon.jpg" alt="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
            
              <p class="site-author-name" itemprop="name">é©¬æ™“é‘«çˆ±é©¬èŸèŸ</p>
              <p class="site-description motion-element" itemprop="description">è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">137</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">118</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/mxxhcm" title="GitHub &rarr; https://github.com/mxxhcm" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:mxxhcm@gmail.com" title="E-Mail &rarr; mailto:mxxhcm@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">é©¬æ™“é‘«çˆ±é©¬èŸèŸ</span>

  

  
</div>


  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.6.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script src="/js/src/utils.js?v=6.6.0"></script>

  <script src="/js/src/motion.js?v=6.6.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.6.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.6.0"></script>



  

  


  <script src="/js/src/bootstrap.js?v=6.6.0"></script>



  



  






<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    

    







  





  

  

  

  

  
  

  
  
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<style>
.MathJax_Display {
    overflow: auto hidden;
}
</style>

    
  


  
  

  

  

  

  

  

  

</body>
</html>
