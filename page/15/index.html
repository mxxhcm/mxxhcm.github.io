<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
































<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.6.0" rel="stylesheet" type="text/css">



  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.jpg?v=6.6.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.jpg?v=6.6.0">










<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.6.0',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
<meta property="og:type" content="website">
<meta property="og:title" content="mxxhcm&#39;s blog">
<meta property="og:url" content="http://mxxhcm.github.io/page/15/index.html">
<meta property="og:site_name" content="mxxhcm&#39;s blog">
<meta property="og:description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mxxhcm&#39;s blog">
<meta name="twitter:description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">



  <link rel="alternate" href="/atom.xml" title="mxxhcm's blog" type="application/atom+xml">




  <link rel="canonical" href="http://mxxhcm.github.io/page/15/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>mxxhcm's blog</title>
  












  <noscript>
  <style>
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion .logo-line-before i { left: initial; }
    .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">mxxhcm's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/13/python-å¸¸è§é—®é¢˜/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/13/python-å¸¸è§é—®é¢˜/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/15/index.html">python å¸¸è§é—®é¢˜ï¼ˆä¸å®šæœŸæ›´æ–°ï¼‰</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-13 10:40:03" itemprop="dateCreated datePublished" datetime="2019-03-13T10:40:03+08:00">2019-03-13</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-10-11 13:30:51" itemprop="dateModified" datetime="2019-10-11T13:30:51+08:00">2019-10-11</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="é—®é¢˜1-â€˜dict-valuesâ€™-object-does-not-support-indexingâ€™"><a href="#é—®é¢˜1-â€˜dict-valuesâ€™-object-does-not-support-indexingâ€™" class="headerlink" title="é—®é¢˜1-â€˜dict_valuesâ€™ object does not support indexingâ€™"></a>é—®é¢˜1-â€˜dict_valuesâ€™ object does not support indexingâ€™</h2><p>å‚è€ƒæ–‡çŒ®[1,2,3]</p>
<h3 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;dict_values&apos; object does not support indexing&apos;</span><br></pre></td></tr></table></figure>
<h3 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h3><p>The objects returned by dict.keys(), dict.values() and dict.items() are view objects. They provide a dynamic view on the dictionaryâ€™s entries, which means that when the dictionary changes, the view reflects these changes.<br>python3 ä¸­è°ƒç”¨å­—å…¸å¯¹è±¡çš„ä¸€äº›å‡½æ•°ï¼Œè¿”å›å€¼æ˜¯view objectsã€‚å¦‚æœè¦è½¬æ¢ä¸ºlistçš„è¯ï¼Œéœ€è¦ä½¿ç”¨list()å¼ºåˆ¶è½¬æ¢ã€‚<br>è€Œpython2çš„è¿”å›å€¼ç›´æ¥å°±æ˜¯listã€‚</p>
<h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">m_dict = &#123;<span class="string">'a'</span>: <span class="number">10</span>, <span class="string">'b'</span>: <span class="number">20</span>&#125;</span><br><span class="line">values = m_dict.values()</span><br><span class="line">print(type(values))</span><br><span class="line">print(values)</span><br><span class="line">print(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">items = m_dict.items()</span><br><span class="line">print(type(items))</span><br><span class="line">print(items)</span><br><span class="line">print(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">keys = m_dict.keys()</span><br><span class="line">print(type(keys))</span><br><span class="line">print(keys)</span><br><span class="line">print(<span class="string">"\n"</span>)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½¿ç”¨python3æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<blockquote>
<p>class â€˜dict_valuesâ€™<br>dict_values([10, 20])<br>class â€˜dict_itemsâ€™<br>dict_items([(â€˜aâ€™, 10), (â€˜bâ€™, 20)])<br>class â€˜dict_keysâ€™<br>dict_keys([â€˜aâ€™, â€˜bâ€™])</p>
</blockquote>
<p>å¦‚æœä½¿ç”¨python2æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<blockquote>
<p>type â€˜listâ€™<br>[10, 20]<br>type â€˜listâ€™<br>[(â€˜aâ€™, 10), (â€˜bâ€™, 20)]<br>type â€˜listâ€™<br>[â€˜aâ€™, â€˜bâ€™]</p>
</blockquote>
<h2 id="é—®é¢˜2-â€˜TimeLimitâ€™-object-has-no-attribute-â€˜aleâ€™"><a href="#é—®é¢˜2-â€˜TimeLimitâ€™-object-has-no-attribute-â€˜aleâ€™" class="headerlink" title="é—®é¢˜2-â€˜TimeLimitâ€™ object has no attribute â€˜aleâ€™"></a>é—®é¢˜2-â€˜TimeLimitâ€™ object has no attribute â€˜aleâ€™</h2><p>å‚è€ƒæ–‡çŒ®[4,5,6]</p>
<h3 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><p>è¿è¡Œgithub clone ä¸‹æ¥çš„<a href="https://github.com/devsisters/DQN-tensorflow" target="_blank" rel="noopener">DQN-tensorflow</a>ï¼ŒæŠ¥é”™:</p>
<blockquote>
<p>AttributeError: â€˜TimeLimitâ€™ object has no attribute â€˜aleâ€™.</p>
</blockquote>
<h3 id="åŸå› -1"><a href="#åŸå› -1" class="headerlink" title="åŸå› "></a>åŸå› </h3><p>æ˜¯å› ä¸ºgymç‰ˆæœ¬åŸå› ï¼Œåœ¨gym 0.7ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ä½¿ç”¨env.ale.lives()è®¿é—®aleå±æ€§ï¼Œä½†æ˜¯0.8ç‰ˆæœ¬ä»¥åŠä»¥ä¸Šï¼Œå°±æ²¡æœ‰äº†è¯¥å±æ€§ï¼Œå¯ä»¥åœ¨ç³»åˆ—å‡½æ•°ä¸­æ·»åŠ å¦‚ä¸‹ä¿®æ”¹ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, config)</span>:</span></span><br><span class="line">    self.step_info = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_step</span><span class="params">(self, action)</span>:</span></span><br><span class="line">    self._screen, self.reward, self.terminal, self.step_info = self.env.step(action)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lives</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> self.step_info <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> self.step_info[<span class="string">'ale.lives'</span>]</span><br></pre></td></tr></table></figure></p>
<h3 id="aleå±æ€§æ˜¯ä»€ä¹ˆ"><a href="#aleå±æ€§æ˜¯ä»€ä¹ˆ" class="headerlink" title="aleå±æ€§æ˜¯ä»€ä¹ˆ"></a>aleå±æ€§æ˜¯ä»€ä¹ˆ</h3><p>æˆ‘çœ‹å®˜æ–¹æ–‡æ¡£ä¹Ÿæ²¡æœ‰çœ‹æ¸…æ¥šï¼Œä½†æ˜¯æˆ‘è§‰å¾—å°±æ˜¯ç”Ÿå‘½å€¼æ˜¯å¦æ²¡æœ‰äº†</p>
<blockquote>
<p>info (dict): diagnostic information useful for debugging. It can sometimes be useful for learning (for example, it might contain the raw probabilities behind the environmentâ€™s last state change). However, official evaluations of your agent are not allowed to use this for learning.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gym</span><br><span class="line">env = gym.make(<span class="string">'CartPole-v0'</span>)</span><br><span class="line"><span class="keyword">for</span> i_episode <span class="keyword">in</span> range(<span class="number">20</span>):</span><br><span class="line">    observation = env.reset()</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">        env.render()</span><br><span class="line">        print(observation)</span><br><span class="line">        action = env.action_space.sample()</span><br><span class="line">        observation, reward, done, info = env.step(action)</span><br><span class="line">        <span class="keyword">if</span> done:</span><br><span class="line">            print(<span class="string">"Episode finished after &#123;&#125; timesteps"</span>.format(t+<span class="number">1</span>))</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">env.close()</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜3-cannot-import-name"><a href="#é—®é¢˜3-cannot-import-name" class="headerlink" title="é—®é¢˜3-cannot import name ***"></a>é—®é¢˜3-cannot import name ***</h2><p>å‚è€ƒæ–‡çŒ®[7]</p>
<h3 id="æŠ¥é”™-1"><a href="#æŠ¥é”™-1" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cannot import name tqdm</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› "><a href="#é—®é¢˜åŸå› " class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h3><p>è°·æ­Œäº†åŠå¤©ï¼Œæ²¡æœ‰å‘ç°åŸå› ï¼Œç„¶åç™¾åº¦äº†ä¸€ä¸‹ï¼Œå‘ç°äº†åŸå› ï¼Œçœ‹æ¥è¿˜æ˜¯è‡ªå·±å¤ªèœäº†ã€‚ã€‚<br>å› ä¸ºè‡ªå·±èµ·çš„æ–‡ä»¶åå°±å«tqdmï¼Œç„¶åå°±å’Œåº“ä¸­çš„tqdmå†²çªäº†ï¼Œè¿™ä¹Ÿå¤ªè ¢äº†å§ã€‚ã€‚ã€‚</p>
<h2 id="é—®é¢˜4-linuxä¸‹pythonæ‰§è¡Œshellè„šæœ¬è¾“å‡ºé‡å®šå‘"><a href="#é—®é¢˜4-linuxä¸‹pythonæ‰§è¡Œshellè„šæœ¬è¾“å‡ºé‡å®šå‘" class="headerlink" title="é—®é¢˜4-linuxä¸‹pythonæ‰§è¡Œshellè„šæœ¬è¾“å‡ºé‡å®šå‘"></a>é—®é¢˜4-linuxä¸‹pythonæ‰§è¡Œshellè„šæœ¬è¾“å‡ºé‡å®šå‘</h2><p><a href="https://mxxhcm.github.io/2019/06/03/linux-pythonè°ƒç”¨shellè„šæœ¬å¹¶å°†è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶/">è¯¦ç»†ä»‹ç»</a></p>
<h2 id="é—®é¢˜4-ImportError-No-module-named-conda-cliâ€™"><a href="#é—®é¢˜4-ImportError-No-module-named-conda-cliâ€™" class="headerlink" title="é—®é¢˜4-ImportError: No module named conda.cliâ€™"></a>é—®é¢˜4-ImportError: No module named conda.cliâ€™</h2><h3 id="é—®é¢˜æè¿°-1"><a href="#é—®é¢˜æè¿°-1" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><p>anacondaçš„pythonç‰ˆæœ¬æ˜¯3.7ï¼Œæ‰§è¡Œäº†conda install python=3.6ä¹‹åï¼Œè¿è¡Œcondaå‘½ä»¤å‡ºé”™ã€‚æŠ¥é”™å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from conda.cli import main </span><br><span class="line">ModuleNotFoundError: No module named &apos;conda&apos;</span><br></pre></td></tr></table></figure></p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>æ‰¾åˆ°anacondaå®‰è£…åŒ…ï¼ŒåŠ ä¸€ä¸ª-uå‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚é‡æ–°å®‰è£…anacondaè‡ªå¸¦çš„packageï¼Œè‡ªå·±å®‰è£…çš„åŒ…ä¸ä¼šä¸¢å¤±ã€‚<br>~$:sh xxx.sh -u</p>
<h2 id="é—®é¢˜5-python-pipä½¿ç”¨å›½å†…æº"><a href="#é—®é¢˜5-python-pipä½¿ç”¨å›½å†…æº" class="headerlink" title="é—®é¢˜5-python-pipä½¿ç”¨å›½å†…æº"></a>é—®é¢˜5-python-pipä½¿ç”¨å›½å†…æº</h2><h3 id="æš‚æ—¶ä½¿ç”¨å›½å†…pipæº"><a href="#æš‚æ—¶ä½¿ç”¨å›½å†…pipæº" class="headerlink" title="æš‚æ—¶ä½¿ç”¨å›½å†…pipæº"></a>æš‚æ—¶ä½¿ç”¨å›½å†…pipæº</h3><p>ä½¿ç”¨æ¸…åæº<br>~\$:pip install -i <a href="https://pypi.tuna.tsinghua.edu.cn/simple" target="_blank" rel="noopener">https://pypi.tuna.tsinghua.edu.cn/simple</a> package-name<br>ä½¿ç”¨é˜¿é‡Œæº<br>~\$:pip install -i <a href="https://mirrors.aliyun.com/pypi/simple" target="_blank" rel="noopener">https://mirrors.aliyun.com/pypi/simple</a> package-name</p>
<h3 id="å°†å›½å†…pipæºè®¾ä¸ºé»˜è®¤"><a href="#å°†å›½å†…pipæºè®¾ä¸ºé»˜è®¤" class="headerlink" title="å°†å›½å†…pipæºè®¾ä¸ºé»˜è®¤"></a>å°†å›½å†…pipæºè®¾ä¸ºé»˜è®¤</h3><p>~\$:pip install pip -U<br>~\$:pip config set global.index-url <a href="https://pypi.tuna.tsinghua.edu.cn/simple" target="_blank" rel="noopener">https://pypi.tuna.tsinghua.edu.cn/simple</a><br>~\$:pip config set global.timeout 60</p>
<blockquote>
<p>Writing to /home/username/.config/pip/pip.conf</p>
</blockquote>
<h4 id="æŸ¥çœ‹pipé…ç½®æ–‡ä»¶"><a href="#æŸ¥çœ‹pipé…ç½®æ–‡ä»¶" class="headerlink" title="æŸ¥çœ‹pipé…ç½®æ–‡ä»¶"></a>æŸ¥çœ‹pipé…ç½®æ–‡ä»¶</h4><p>~\$:find / -name pip.conf<br>æˆ‘çš„æ˜¯åœ¨/home/username/.config/pip/pip.conf</p>
<h2 id="é—®é¢˜6-ImportError-lib-x86-64-linux-gnu-libc-so-6-version-GLIBC-2-28-not-found"><a href="#é—®é¢˜6-ImportError-lib-x86-64-linux-gnu-libc-so-6-version-GLIBC-2-28-not-found" class="headerlink" title="é—®é¢˜6-ImportError: /lib/x86_64-linux-gnu/libc.so.6: version GLIBC_2.28 not found"></a>é—®é¢˜6-ImportError: /lib/x86_64-linux-gnu/libc.so.6: version GLIBC_2.28 not found</h2><h3 id="é—®é¢˜æè¿°-2"><a href="#é—®é¢˜æè¿°-2" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h3><p>å®‰è£…roboschoolä¹‹åï¼Œå‡ºç°ImportErrorã€‚æŠ¥é”™å¦‚ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.28&apos; not found (required by /usr/local/lib/python3.6/dist-packages/roboschool/.libs/libQt5Core.so.5)</span><br></pre></td></tr></table></figure></p>
<h3 id="è§£å†³æ–¹æ¡ˆ-1"><a href="#è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>åœ¨roboschoolä¸Šæ‰¾åˆ°ä¸€ä¸ªissueï¼Œè¯´ä»1.0.49ç‰ˆæœ¬é€€å›åˆ°1.0.48å³å¯ã€‚æˆ‘é€€å›ä¹‹åï¼Œåˆå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError: libpcre16.so.3: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure></p>
<p>å®‰è£…ç›¸åº”çš„åº“å³å¯ã€‚å®Œæ•´çš„å‘½ä»¤å¦‚ä¸‹<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~$:pip install roboschool==1.0.48</span><br><span class="line">~$:sudo apt install libpcre3-dev</span><br></pre></td></tr></table></figure></p>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>1.<a href="https://www.cnblogs.com/timxgb/p/8905290.html" target="_blank" rel="noopener">https://www.cnblogs.com/timxgb/p/8905290.html</a><br>2.<a href="https://docs.python.org/3/library/stdtypes.html#dictionary-view-objects" target="_blank" rel="noopener">https://docs.python.org/3/library/stdtypes.html#dictionary-view-objects</a><br>3.<a href="https://stackoverflow.com/questions/43663206/typeerror-unsupported-operand-types-for-dict-values-and-int" target="_blank" rel="noopener">https://stackoverflow.com/questions/43663206/typeerror-unsupported-operand-types-for-dict-values-and-int</a><br>4.<a href="https://github.com/devsisters/DQN-tensorflow/issues/29" target="_blank" rel="noopener">https://github.com/devsisters/DQN-tensorflow/issues/29</a><br>5.<a href="https://gym.openai.com/docs" target="_blank" rel="noopener">https://gym.openai.com/docs</a><br>6.<a href="https://github.com/openai/baselines/issues/42" target="_blank" rel="noopener">https://github.com/openai/baselines/issues/42</a><br>7.<a href="https://blog.csdn.net/m0_37561765/article/details/78714603" target="_blank" rel="noopener">https://blog.csdn.net/m0_37561765/article/details/78714603</a><br>8.<a href="https://blog.csdn.net/u014432608/article/details/79066813" target="_blank" rel="noopener">https://blog.csdn.net/u014432608/article/details/79066813</a><br>9.<a href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/help/pypi/</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/07/tensorflow-problems/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/07/tensorflow-problems/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/15/index.html">tensorflow å¸¸è§é—®é¢˜ï¼ˆä¸å®šæœŸæ›´æ–°ï¼‰</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-07 14:51:01" itemprop="dateCreated datePublished" datetime="2019-03-07T14:51:01+08:00">2019-03-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-07-18 20:27:16" itemprop="dateModified" datetime="2019-07-18T20:27:16+08:00">2019-07-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tensorflow/" itemprop="url" rel="index"><span itemprop="name">tensorflow</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="é—®é¢˜1-the-value-of-a-feed-cannot-be-a-tf-tensor-object">é—®é¢˜1-The value of a feed cannot be a tf.Tensor object</h2>
<h3 id="æŠ¥é”™">æŠ¥é”™</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: The value of a feed cannot be a tf.Tensor object</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› ">é—®é¢˜åŸå› </h3>
<p>sess.run(op, feed_dict={})ä¸­çš„feed valueä¸èƒ½æ˜¯tf.Tensorç±»å‹ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h3>
<p>sess.run(train, feed_dict={x:images, y:labels}çš„è¾“å…¥ä¸èƒ½æ˜¯tensorï¼Œå¯ä»¥ä½¿ç”¨sess.run(tensor)å¾—åˆ°numpy.arrayå½¢å¼çš„æ•°æ®å†å–‚ç»™feed_dictã€‚</p>
<blockquote>
<p>Once you have launched a sess, you can use your_tensor.eval(session=sess) or sess.run(your_tensor) to get you feed tensor into the format of numpy.array and then feed it to your placeholder.</p>
</blockquote>
<h2 id="é—®é¢˜2-could-not-create-cudnn-handle-cudnn-status-internal-error">é—®é¢˜2-Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR</h2>
<h3 id="é…ç½®">é…ç½®</h3>
<p>ç¯å¢ƒé…ç½®å¦‚ä¸‹ï¼š</p>
<ul>
<li>Ubuntu 18.04</li>
<li>CUDA 10.0</li>
<li>CuDNN 7.4.2</li>
<li>Python3.7.3</li>
<li>Tensorflow 1.13.1</li>
<li>Nvidia Drivers 430.09</li>
<li>RTX2070</li>
</ul>
<h3 id="æŠ¥é”™-v2">æŠ¥é”™</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">2019-05-12 14:45:59.355405: E tensorflow/stream_executor/cuda/cuda_dnn.cc:334] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR</span><br><span class="line">2019-05-12 14:45:59.357698: E tensorflow/stream_executor/cuda/cuda_dnn.cc:334] Could not create cudnn handle: CUDNN_STATUS_INTERNAL_ERROR</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -v2">é—®é¢˜åŸå› </h3>
<p>GPUä¸å¤Ÿç”¨äº†ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•-v2">è§£å†³æ–¹æ³•</h3>
<p>åœ¨ä»£ç ä¸­æ·»åŠ ä¸‹é¢å‡ å¥ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">config = tf.ConfigProto()</span><br><span class="line">config.gpu_options.allow_growth = <span class="literal">True</span></span><br><span class="line">session = InteractiveSession(config=config)</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜3-libcublas-so-10-0-cannot-open-shared-object-file-no-such-file-or-directory">é—®é¢˜3-libcublas.so.10.0: cannot open shared object file: No such file or directory</h2>
<p>åœ¨å‘½ä»¤è¡Œæˆ–è€…pycharmä¸­import tensorflowæŠ¥é”™</p>
<h3 id="æŠ¥é”™-v3">æŠ¥é”™</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ImportError: libcublas.so.10.0: cannot open shared object file: No such file or directory</span><br><span class="line">Failed to load the native TensorFlow runtime.</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -v3">é—®é¢˜åŸå› </h3>
<p>æ²¡æœ‰é…ç½®CUDAç¯å¢ƒå˜é‡</p>
<h3 id="è§£å†³æ–¹æ³•-v3">è§£å†³æ–¹æ³•</h3>
<h4 id="å‘½ä»¤è¡Œä¸­">å‘½ä»¤è¡Œä¸­</h4>
<p>åœ¨.bashrcæ–‡ä»¶ä¸­åŠ å…¥ä¸‹åˆ—è¯­å¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/usr/local/cuda/bin$&#123;PATH:+:$&#123;PATH&#125;&#125;</span><br><span class="line">export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$&#123;LD_LIBRARY_PATH:+:$&#123;LD_LIBRARY_PATH&#125;&#125;</span><br><span class="line">export CUDA_HOME=/usr/local/cuda</span><br></pre></td></tr></table></figure>
<h4 id="pycharmä¸­">pycharmä¸­</h4>
<h5 id="æ–¹æ³•1-è¿™ç§æ–¹æ³•æˆ‘æ²¡æœ‰å®éªŒæˆåŠŸ-ä¸çŸ¥é“ä¸ºä»€ä¹ˆ">æ–¹æ³•1ï¼ˆè¿™ç§æ–¹æ³•æˆ‘æ²¡æœ‰å®éªŒæˆåŠŸï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼‰</h5>
<p>åœ¨å·¦ä¸Šè§’é€‰ä¸­<br>
File&gt;&gt;Settings&gt;&gt;Build.Execution,Deployment&gt;&gt;Console&gt;&gt;Python Console<br>
åœ¨Environmentä¸‹çš„Environment variablesä¸­æ·»åŠ <br>
LD_LIBRARY_PATH=/usr/local/cuda/lib64:${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}å³å¯ã€‚</p>
<h5 id="æ–¹æ³•2">æ–¹æ³•2</h5>
<p>ä¿®æ”¹å®Œ.bashrcæ–‡ä»¶åä»ç»ˆç«¯ä¸­è¿è¡Œpycharmã€‚</p>
<h2 id="é—®é¢˜4-dlerror-libcupti-so-10-0-cannot-open-shared-object-file-no-such-file-or-directory">é—®é¢˜4-dlerror: libcupti.so.10.0: cannot open shared object file: No such file or directory</h2>
<p>æ‰§è¡Œmnist_with_summaryä»£ç æ—¶æŠ¥é”™</p>
<h3 id="æŠ¥é”™-v4">æŠ¥é”™</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">I tensorflow/stream_executor/dso_loader.cc:142] Couldn&apos;t open CUDA library libcupti.so.10.0. LD_LIBRARY_PATH: /usr/local/cuda/lib64:</span><br><span class="line">2019-05-13 23:04:10.620149: F tensorflow/stream_executor/lib/statusor.cc:34] Attempting to fetch value instead of handling error Failed precondition: could not dlopen DSO: libcupti.so.10.0; dlerror: libcupti.so.10.0: cannot open shared object file: No such file or directory</span><br><span class="line">Aborted (core dumped)</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜åŸå› ">é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜é—®é¢˜åŸå› </h3>
<p>libcupti.so.10.0åŒ…æ²¡æ‰¾åˆ°</p>
<h3 id="è§£å†³æ–¹æ³•-v4">è§£å†³æ–¹æ³•</h3>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ‰¾åˆ°ç›¸å…³çš„ä¾èµ–åŒ…ï¼š<br>
~$:find /usr/local/cuda/ -name libcupti.so.10.0<br>
è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>/usr/local/cuda/extras/CUPTI/lib64/libcupti.so.10.0</p>
</blockquote>
<p>ç„¶åä¿®æ”¹~/.bashrcæ–‡ä»¶ä¸­ç›¸åº”çš„ç¯å¢ƒå˜é‡:<br>
export LD_LIBRARY_PATH=/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64/ğŸ˜’{LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}<br>
é‡æ–°è¿è¡Œå³å¯ã€‚</p>
<h2 id="é—®é¢˜5-unhashable-type-list">é—®é¢˜5-unhashable type: â€˜listâ€™</h2>
<p>sess.run(op, feed_dict={})ä¸­feedçš„æ•°æ®ä¸­åŒ…å«æœ‰listçš„æ—¶å€™ä¼šæŠ¥é”™ã€‚</p>
<h3 id="æŠ¥é”™-v5">æŠ¥é”™</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: unhashable type: &apos;list&apos;</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -v4">é—®é¢˜åŸå› </h3>
<p>feed_dictä¸­ä¸èƒ½çš„valueä¸èƒ½æ˜¯listã€‚</p>
<h3 id="è§£å†³æ–¹æ³•-v5">è§£å†³æ–¹æ³•</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">feed_dict = &#123;</span><br><span class="line">               placeholder : value </span><br><span class="line">                  <span class="keyword">for</span> placeholder, value <span class="keyword">in</span> zip(placeholder_list, inputs_list))</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç ç¤ºä¾‹">ä»£ç ç¤ºä¾‹</h3>
<p><a href="https://github.com/mxxhcm/code/blob/master/tf/ops/tf_placeholder_list.py" target="_blank" rel="noopener">ä»£ç åœ°å€</a></p>
<h2 id="é—®é¢˜6-attempting-to-use-uninitialized-value">é—®é¢˜6-Attempting to use uninitialized value</h2>
<p>tf.Session()å’Œtf.InteractiveSession()æ··ç”¨é—®é¢˜ã€‚</p>
<h3 id="æŠ¥é”™-v6">æŠ¥é”™</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value prediction/l1/w</span><br><span class="line">	 [[&#123;&#123;node prediction/l1/w/read&#125;&#125;]]</span><br><span class="line">	 [[&#123;&#123;node prediction/LogSoftmax&#125;&#125;]]</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -v5">é—®é¢˜åŸå› </h3>
<p>å£°æ˜äº†å¦‚ä¸‹session:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sess = tf.Session()</span><br><span class="line">sess.run(tf.global_variables_initializer())</span><br></pre></td></tr></table></figure>
<p>åœ¨æ¥ä¸‹æ¥çš„ä»£ç ä¸­ï¼Œå› ä¸ºæˆ‘å£°æ˜çš„æ˜¯tf.Session()ï¼Œä½¿ç”¨äº†op.eval()å‡½æ•°ï¼Œè¿™ç§ç”¨æ³•æ˜¯tf.InteractiveSessionçš„ç”¨æ³•ï¼Œæ‰€ä»¥å°±ç›¸å½“äºæ²¡æœ‰åˆå§‹åŒ–ã€‚<br>
result = op.eval(feed_dict={})<br>
ç„¶åå°±æŠ¥äº†æœªåˆå§‹åŒ–çš„é”™è¯¯ã€‚<br>
æŠŠä»£ç æ”¹æˆï¼š<br>
result = sess.run([op], feeed_dct={})<br>
å³å¯ï¼Œå³ä¸Šä¸‹æ–‡ä½¿ç”¨çš„sessionåº”è¯¥ä¸€è‡´ã€‚</p>
<h3 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h3>
<p>ä½¿ç”¨ç»Ÿä¸€çš„sessionç±»å‹</p>
<h2 id="é—®é¢˜7-setting-an-array-element-with-a-sequence">é—®é¢˜7-setting an array element with a sequence</h2>
<p>feed_dicté”®å€¼å¯¹ä¸­ä¸­å€¼å¿…é¡»æ˜¯numpy.ndarrayï¼Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹ã€‚</p>
<h3 id="æŠ¥é”™-v7">æŠ¥é”™</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value error setting an array element with a sequence,</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -v6">é—®é¢˜åŸå› </h3>
<p>feed_dictä¸­key-valueçš„valueå¿…é¡»æ˜¯numpy.ndarrayï¼Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹ï¼Œå°¤å…¶ä¸èƒ½æ˜¯tf.Variableã€‚</p>
<h3 id="è§£å†³æ–¹æ³•-v6">è§£å†³æ–¹æ³•</h3>
<p>æ£€æŸ¥sess.run(op, feed_dict={})ä¸­çš„feed_dictï¼Œç¡®ä¿ä»–ä»¬çš„ç±»å‹ï¼Œä¸èƒ½æ˜¯tf.Variable()ç±»å‹çš„å¯¹è±¡ï¼Œéœ€è¦æ˜¯numpy.ndarrayã€‚</p>
<h2 id="é—®é¢˜8-è®¿é—®tf-variable-çš„å€¼">é—®é¢˜8-è®¿é—®tf.Variable()çš„å€¼</h2>
<p>å¦‚ä½•è·å¾—tf.Variable()å¯¹è±¡çš„å€¼</p>
<h3 id="è§£å†³æ–¹æ³•-v7">è§£å†³æ–¹æ³•</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line">x = tf.Varialbe([<span class="number">1.0</span>, <span class="number">2.0</span>])</span><br><span class="line">sess = tf.Session()</span><br><span class="line">sess.run(tf.global_variables_initializer())</span><br><span class="line">value = sess.run(x)</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import tensorflow as tf</span><br><span class="line">x = tf.Varialbe([1.0, 2.0])</span><br><span class="line">sess = tf.InteractiveSession()</span><br><span class="line">sess.run(tf.global_variables_initializer())</span><br><span class="line">x.eval()</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜9-can-not-convert-a-ndarray-into-a-tensor-or-operation">é—®é¢˜9-Can not convert a ndarray into a Tensor or Operation</h2>
<h3 id="æŠ¥é”™-v8">æŠ¥é”™</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Can not convert a ndarray into a Tensor or Operation.</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -v7">é—®é¢˜åŸå› </h3>
<p>åŸå› æ˜¯sess.run()å‰åå‚æ•°åé‡äº†ï¼Œæ¯”å¦‚outputs = sess.run(outputs)ï¼Œoutputsæœ¬æ¥æ˜¯è‡ªå·±å®šä¹‰çš„ä¸€ä¸ªopï¼Œä½†æ˜¯sess.run(outputs)ä¹‹åoutputså°±æˆäº†ä¸€ä¸ªå˜é‡ï¼Œå°±æŠŠå®šä¹‰çš„outputs opè¦†ç›–äº†ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•-v8">è§£å†³æ–¹æ³•</h3>
<p>æ¢ä¸ªå˜é‡åå­—å°±è¡Œ</p>
<h2 id="é—®é¢˜10-æœ¬åœ°ä½¿ç”¨gpu-serverçš„tensorboard">é—®é¢˜10-æœ¬åœ°ä½¿ç”¨gpu serverçš„tensorboard</h2>
<h3 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h3>
<p>åœ¨gpu serverè·‘çš„å®éªŒç»“æœï¼Œç„¶åsummaryçš„è®°å½•ä¹Ÿåœ¨serverä¸Šï¼Œä½†æ˜¯åˆæ²¡åŠæ³•å¯è§†åŒ–ï¼Œåªå¥½åœ¨æœ¬åœ°å¯è§†åŒ–ã€‚</p>
<h3 id="è§£å†³æ–¹æ³•-v9">è§£å†³æ–¹æ³•</h3>
<p>ä½¿ç”¨sshè¿›è¡Œæ˜ å°„å¥½äº†ã€‚</p>
<h4 id="æœ¬æœºè®¾ç½®">æœ¬æœºè®¾ç½®</h4>
<p>~$:ssh -L 12345:10.1.114.50:6006 <a href="mailto:mxxmhh@127.0.0.1" target="_blank" rel="noopener">mxxmhh@127.0.0.1</a><br>
å°†æœ¬æœºçš„12345ç«¯å£æ˜ å°„åˆ°10.1.114.50çš„6006ç«¯å£ï¼Œä¸­é—´æœåŠ¡å™¨ä½¿ç”¨çš„æ˜¯æœ¬æœºã€‚<br>
æˆ–è€…å¯ä»¥ä½¿ç”¨10.1.114.50ä½œä¸ºä¸­é—´æœåŠ¡å™¨ã€‚<br>
~$:ssh -L 12345:10.1.114.50:6006 <a href="mailto:liuchi@10.1.114.50" target="_blank" rel="noopener">liuchi@10.1.114.50</a><br>
æˆ–è€…å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š<br>
~$:ssh -L 12345:127.0.0.1:6006 <a href="mailto:liuchi@10.1.114.50" target="_blank" rel="noopener">liuchi@10.1.114.50</a><br>
ä»è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œå¯ä»¥çœ‹å‡º127.0.0.1è¿™ä¸ªipæ˜¯ä¸­é—´æœåŠ¡å™¨å¯ä»¥è®¿é—®çš„ipã€‚<br>
ä»¥ä¸Šä¸‰ç§æ–¹æ³•ä¸­ï¼Œ-Låçš„ç«¯å£å·12345å¯ä»¥éšæ„è®¾ç½®ï¼Œåªè¦ä¸å†²çªå³å¯ã€‚</p>
<h4 id="æœåŠ¡ç«¯è®¾ç½®">æœåŠ¡ç«¯è®¾ç½®</h4>
<p>ç„¶ååœ¨æœåŠ¡ç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br>
~$:tensorboard --logdir logdir -port 6006<br>
è¿™ä¸ªç«¯å£å·ä¹Ÿæ˜¯å¯ä»¥ä»»æ„è®¾ç½®çš„ï¼Œä¸å†²çªå³å¯ã€‚</p>
<h4 id="è¿è¡Œ">è¿è¡Œ</h4>
<p>ç„¶ååœ¨æœ¬æœºè®¿é—®<br>
<a href="https://127.0.0.1:12345" target="_blank" rel="noopener">https://127.0.0.1:12345</a>å³å¯ã€‚</p>
<h2 id="é—®é¢˜11-æ¯ä¸€æ­¥summaryä¸€ä¸ªlistçš„æ¯ä¸€ä¸ªå…ƒç´ ">é—®é¢˜11-æ¯ä¸€æ­¥summaryä¸€ä¸ªlistçš„æ¯ä¸€ä¸ªå…ƒç´ </h2>
<h3 id="é—®é¢˜åŸå› -v8">é—®é¢˜åŸå› </h3>
<p>æœ‰ä¸€ä¸ªtf listçš„placeholderï¼Œä½†æ˜¯æ¯ä¸€æ­¥åªèƒ½ç”Ÿæˆå…¶ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥æ€ä¹ˆæ ·summaryä¸­å…¶ä¸­çš„æŸä¸€ä¸ªï¼Ÿ</p>
<h3 id="è§£å†³æ–¹æ³•-v10">è§£å†³æ–¹æ³•</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import tensorflow as tf</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">number = 3</span><br><span class="line">x_ph_list = []</span><br><span class="line">for i in range(number):</span><br><span class="line">    x_ph_list.append(tf.placeholder(tf.float32, shape=None))</span><br><span class="line"></span><br><span class="line">x_summary_list = []</span><br><span class="line">for i in range(number):</span><br><span class="line">    x_summary_list.append(tf.summary.scalar("x%s" % i, x_ph_list[i]))</span><br><span class="line"></span><br><span class="line">writer = tf.summary.FileWriter("./tf_summary/scalar_list_summary/sep")</span><br><span class="line">with tf.Session() as sess:</span><br><span class="line">    scope = 10</span><br><span class="line">    inputs = np.arange(scope*number)</span><br><span class="line">    inputs = inputs.reshape(scope, number)</span><br><span class="line">    # inputs = np.random.randn(scope, number)</span><br><span class="line">    for i in range(scope):</span><br><span class="line">        for j in range(number):</span><br><span class="line">            out, xj_s = sess.run([x_ph_list[j], x_summary_list[j]], feed_dict=&#123;x_ph_list[j]: inputs[i][j]&#125;)</span><br><span class="line">            writer.add_summary(xj_s, global_step=i)</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜12-for-value-in-summary-value-attributeerror-list-object-has-no-attribute-value">é—®é¢˜12- for value in summary.value: AttributeError: â€˜listâ€™ object has no attribute â€˜valueâ€™</h2>
<h3 id="é—®é¢˜æè¿°-v2">é—®é¢˜æè¿°</h3>
<p>writer.add_summaryæ—¶æŠ¥é”™</p>
<h3 id="æŠ¥é”™-v9">æŠ¥é”™</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File &quot;/home/mxxmhh/anaconda3/lib/python3.7/site-packages/tensorflow/python/summary/writer/writer.py&quot;, line 127, in add_summary</span><br><span class="line">    for value in summary.value:</span><br><span class="line">AttributeError: &apos;list&apos; object has no attribute &apos;value&apos;</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -v9">é—®é¢˜åŸå› </h3>
<p>æ‰§è¡Œä»¥ä¸‹ä»£ç </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s_ = sess.run([loss_summary], feed_dict=&#123;p_losses_ph: inputs1, q_losses_ph: inputs2&#125;)</span><br><span class="line">writer.add_summary(s_, global_step=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>å› ä¸º[loss_summary]åŠ äº†æ–¹æ‹¬å·ï¼Œå°±æŠŠå®ƒå½“æˆäº†ä¸€ä¸ªlistã€‚ã€‚è¿”å›å€¼ä¹Ÿæ˜¯listï¼Œå°±æŠ¥é”™äº†</p>
<h3 id="è§£å†³æ–¹æ³•-v11">è§£å†³æ–¹æ³•</h3>
<ul>
<li>æ–¹æ³•1ï¼Œåœ¨ç­‰å·å·¦è¾¹åŠ ä¸€ä¸ªé€—å·ï¼Œå–å‡ºlistä¸­çš„å€¼</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s_, = sess.run([loss_summary], feed_dict=&#123;p_losses_ph: inputs1, q_losses_ph: inputs2&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>æ–¹æ³•2ï¼Œå»æ‰loss_summaryå¤–é¢çš„ä¸­æ‹¬å·ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s_ = sess.run(loss_summary, feed_dict=&#123;p_losses_ph: inputs1, q_losses_ph: inputs2&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="é—®é¢˜13-tf-get-default-session-always-returns-none-type">é—®é¢˜13- tf.get_default_session() always returns None type:</h2>
<h3 id="é—®é¢˜æè¿°-v3">é—®é¢˜æè¿°</h3>
<p>è°ƒç”¨tf.get_default_session()æ—¶ï¼Œè¿”å›çš„æ˜¯None</p>
<h3 id="æŠ¥é”™-v10">æŠ¥é”™</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    tf.get_default_session().run(y)</span><br><span class="line">AttributeError: &apos;NoneType&apos; object has no attribute &apos;run&apos;</span><br></pre></td></tr></table></figure>
<h3 id="é—®é¢˜åŸå› -v10">é—®é¢˜åŸå› </h3>
<p>åªæœ‰åœ¨è®¾å®šdefault sessionä¹‹åï¼Œæ‰èƒ½ä½¿ç”¨tf.get_default_session()è·å¾—å½“å‰çš„é»˜è®¤sessionï¼Œåœ¨æˆ‘ä»¬å†™ä»£ç çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šæŒ‰ç…§ä¸‹é¢çš„æ–¹å¼å†™ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    some operations</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>è¿™ç§æƒ…å†µä¸‹å·²ç»æŠŠtf.Session()ç”Ÿæˆçš„sessionå½“åšäº†é»˜è®¤sessionï¼Œä½†æ˜¯å¦‚æœä»…ä»…ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line">sess =  tf.Session()</span><br><span class="line">sess.run(some operations)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>æ˜¯æ²¡æœ‰æŠŠtf.Session()å½“æˆé»˜è®¤sessionçš„ï¼Œå³åªæœ‰åœ¨with blockå†…ï¼Œæ‰ä¼šå°†è¿™ä¸ªsessionå½“åšé»˜è®¤sessionã€‚</p>
<h3 id="è§£å†³æ–¹æ¡ˆ-v2">è§£å†³æ–¹æ¡ˆ</h3>
<h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h2>
<p>1.<a href="https://github.com/tensorflow/tensorflow/issues/4842" target="_blank" rel="noopener">https://github.com/tensorflow/tensorflow/issues/4842</a><br>
2.<a href="https://github.com/tensorflow/tensorflow/issues/24496" target="_blank" rel="noopener">https://github.com/tensorflow/tensorflow/issues/24496</a><br>
3.<a href="https://github.com/tensorflow/tensorflow/issues/9530" target="_blank" rel="noopener">https://github.com/tensorflow/tensorflow/issues/9530</a><br>
4.<a href="https://stackoverflow.com/questions/51128427/how-to-feed-list-of-values-to-a-placeholder-list-in-tensorflow" target="_blank" rel="noopener">https://stackoverflow.com/questions/51128427/how-to-feed-list-of-values-to-a-placeholder-list-in-tensorflow</a><br>
5.<a href="https://github.com/tensorflow/tensorflow/issues/11897" target="_blank" rel="noopener">https://github.com/tensorflow/tensorflow/issues/11897</a><br>
6.<a href="https://stackoverflow.com/questions/34156639/tensorflow-python-valueerror-setting-an-array-element-with-a-sequence-in-t" target="_blank" rel="noopener">https://stackoverflow.com/questions/34156639/tensorflow-python-valueerror-setting-an-array-element-with-a-sequence-in-t</a><br>
7.<a href="https://stackoverflow.com/questions/33679382/how-do-i-get-the-current-value-of-a-variable" target="_blank" rel="noopener">https://stackoverflow.com/questions/33679382/how-do-i-get-the-current-value-of-a-variable</a><br>
8.<a href="https://blog.csdn.net/michael__corleone/article/details/79007425" target="_blank" rel="noopener">https://blog.csdn.net/michael__corleone/article/details/79007425</a><br>
9.<a href="https://stackoverflow.com/questions/47721792/tensorflow-tf-get-default-session-after-sess-tf-session-is-none" target="_blank" rel="noopener">https://stackoverflow.com/questions/47721792/tensorflow-tf-get-default-session-after-sess-tf-session-is-none</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/04/linux-æŸ¥çœ‹python-packageçš„å®‰è£…ä½ç½®/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/04/linux-æŸ¥çœ‹python-packageçš„å®‰è£…ä½ç½®/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/15/index.html">linux-æŸ¥çœ‹python packageçš„å®‰è£…ä½ç½®</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-04 14:52:16" itemprop="dateCreated datePublished" datetime="2019-03-04T14:52:16+08:00">2019-03-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-05-12 12:03:26" itemprop="dateModified" datetime="2019-05-12T12:03:26+08:00">2019-05-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä½¿ç”¨pip install package-nameä¹‹åï¼Œä¸çŸ¥é“è¯¥åŒ…å­˜åœ¨äº†å“ªä¸ªè·¯å¾„ä¸‹ã€‚<br>
å¯ä»¥å†æ¬¡ä½¿ç”¨pip install package-nameï¼Œè¿™æ—¶å€™å°±ä¼šç»™å‡ºè¯¥åŒ…å­˜æ”¾åœ¨å“ªä¸ªè·¯å¾„ä¸‹ã€‚</p>
<h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h2>
<ol>
<li><a href="https://blog.csdn.net/weixin_41712059/article/details/82940516" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41712059/article/details/82940516</a></li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/04/linux-shadowsocksæœåŠ¡ç«¯ä»¥åŠå®¢æˆ·ç«¯é…ç½®/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/04/linux-shadowsocksæœåŠ¡ç«¯ä»¥åŠå®¢æˆ·ç«¯é…ç½®/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/15/index.html">shadowsocksæœåŠ¡ç«¯ä»¥åŠå®¢æˆ·ç«¯é…ç½®</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-04 13:03:57" itemprop="dateCreated datePublished" datetime="2019-03-04T13:03:57+08:00">2019-03-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-06-19 11:39:56" itemprop="dateModified" datetime="2019-06-19T11:39:56+08:00">2019-06-19</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æœåŠ¡å™¨ç«¯é…ç½®">æœåŠ¡å™¨ç«¯é…ç½®</h2>
<p>é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªVPSè´¦å·ï¼Œvultr,digitalocean,æ¬ç“¦å·¥ç­‰ç­‰éƒ½è¡Œã€‚<br>
é¦–å…ˆåˆ°ä¸‹é¢ä¸¤ä¸ªç½‘ç«™æ£€æµ‹22ç«¯å£æ˜¯å¦å¼€å¯ï¼Œå¦‚æœå…³é—­çš„è¯ï¼Œvpsæ¢ä¸ªipæŠŠã€‚ã€‚<br>
<a href="http://tool.chinaz.com/port" target="_blank" rel="noopener">http://tool.chinaz.com/port</a><br>
<a href="https://www.yougetsignal.com/tools/open-ports/" target="_blank" rel="noopener">https://www.yougetsignal.com/tools/open-ports/</a></p>
<h3 id="å¯ç”¨bbråŠ é€Ÿ">å¯ç”¨BBRåŠ é€Ÿ</h3>
<p>~#:apt update<br>
~#:apt upgrade<br>
~#:echo â€œnet.core.default_qdisc=fqâ€ &gt;&gt; /etc/sysctl.conf<br>
~#:echo â€œnet.ipv4.tcp_congestion_control=bbrâ€ &gt;&gt; /etc/sysctl.conf<br>
~#:sysctl -p<br>
ä¸Šè¿°å‘½ä»¤å°±å®Œæˆäº†BBRåŠ é€Ÿï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š<br>
~#:lsmod |grep bbr<br>
çœ‹åˆ°è¾“å‡ºåŒ…å«tcp_bbrå°±è¯´æ˜å·²ç»æˆåŠŸäº†ã€‚</p>
<h3 id="æ­å»ºshadowsocks-server">æ­å»ºshadowsocks server</h3>
<h4 id="å®‰è£…shadowsocks-server">å®‰è£…shadowsocks server</h4>
<p>~#:apt install python-pip<br>
~#:pip install shadowsocks<br>
éœ€è¦è¯´ä¸€ä¸‹çš„æ˜¯ï¼Œshadowsocksç›®å‰è¿˜ä¸æ”¯æŒpython3.5åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œä¸Šæ¬¡æˆ‘æŠŠ/usr/bin/pythonæŒ‡å‘äº†python3.6ï¼Œå°±æ˜¯ç³»ç»Ÿé»˜è®¤çš„pythonæŒ‡å‘äº†python3.6ï¼Œç„¶åå°±ggäº†ã€‚ä¸€å®šè¦ä½¿ç”¨Python 2.6,2.7,3.3,3.4ä¸­çš„ä¸€ä¸ªç‰ˆæœ¬æ‰èƒ½ä½¿ç”¨ã€‚ã€‚</p>
<h4 id="åˆ›å»ºshadowsocksé…ç½®æ–‡ä»¶">åˆ›å»ºshadowsocksé…ç½®æ–‡ä»¶</h4>
<p>å¦‚æœä½ çš„VPSæ”¯æŒipv6çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥å¼€å¤šè¿›ç¨‹åˆ†åˆ«è¿è¡Œipv4å’Œipv6çš„shadowsocks serverã€‚æœ¬åœ°åªæœ‰ipv4çš„è¯ï¼Œå¯ä»¥ç”¨æœ¬åœ°ipv4è®¿é—®ipv6ï¼Œä»è€Œè®¿é—®byrç­‰ç½‘ç«™ï¼Œä½†æ˜¯å…­ç»´ç©ºé—´å¯¹æ­¤åšäº†å±è”½ã€‚å¦‚æœæœ¬åœ°æœ‰ipv6çš„è¯ï¼Œè¿˜å¯ä»¥ç”¨æœ¬åœ°çš„ipv6è®¿é—®ipv6å®ç°æ ¡å›­ç½‘ä¸èµ°ipv4æµé‡ã€‚</p>
<h5 id="ipv4é…ç½®">ipv4é…ç½®</h5>
<p>~#:vim /etc/shadowsocks_v4.json<br>
é…ç½®æ–‡ä»¶å¦‚ä¸‹</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"server"</span>:<span class="string">"0.0.0.0"</span>,</span><br><span class="line"><span class="attr">"server_port"</span>:<span class="string">"ä½ çš„ç«¯å£å·"</span>,</span><br><span class="line"><span class="attr">"local_address"</span>:<span class="string">"127.0.0.1"</span>,</span><br><span class="line"><span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line"><span class="attr">"password"</span>:<span class="string">"ä½ çš„å¯†ç "</span>,</span><br><span class="line"><span class="attr">"timeout"</span>:<span class="number">600</span>,</span><br><span class="line"><span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ipv6é…ç½®">ipv6é…ç½®</h5>
<p>~#:vim /etc/shadowsocks_v6.json<br>
é…ç½®æ–‡ä»¶å¦‚ä¸‹</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"server"</span>:<span class="string">"::"</span>,</span><br><span class="line"><span class="attr">"server_port"</span>:<span class="string">"ä½ çš„ç«¯å£å·"</span>,</span><br><span class="line"><span class="attr">"local_address"</span>:<span class="string">"127.0.0.1"</span>,</span><br><span class="line"><span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line"><span class="attr">"password"</span>:<span class="string">"ä½ çš„å¯†ç "</span>,</span><br><span class="line"><span class="attr">"timeout"</span>:<span class="number">600</span>,</span><br><span class="line"><span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span></span><br><span class="line">&#125;</span><br><span class="line">``` </span><br><span class="line">æ³¨æ„è¿™ä¸¤ä¸ªæ–‡ä»¶çš„server_portä¸€å®šè¦ä¸åŒï¼Œä»¥åŠåŒå¼•å·å¿…é¡»æ˜¯è‹±æ–‡å¼•å·ã€‚</span><br><span class="line">##### 1.2.2.3.æ‰‹åŠ¨è¿è¡Œshadowsocks server</span><br><span class="line">~#:ssserver -c /etc/shadowsock_v4.json -d start --pid-file ss1.pid</span><br><span class="line">~#:ssserver -c /etc/shadowsock_v6.json -d start --pid-file ss2.pid</span><br><span class="line">æ³¨æ„è¿™é‡Œè¦ç»™ä¸¤æ¡å‘½ä»¤åˆ†é…ä¸åŒçš„è¿›ç¨‹å·ã€‚</span><br><span class="line"></span><br><span class="line">### è®¾ç½®shadowsocks serverå¼€æœºè‡ªå¯</span><br><span class="line">å¦‚æœé‡å¯æœåŠ¡å™¨çš„è¯ï¼Œå°±éœ€è¦é‡æ–°æ‰‹åŠ¨æ‰§è¡Œä¸Šè¿°å‘½ä»¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå†™æˆå¼€æœºè‡ªå¯è„šæœ¬ã€‚</span><br><span class="line">~#:vim /etc/init.d/shadowsocks_v4</span><br><span class="line">å†…å®¹å¦‚ä¸‹ï¼š</span><br><span class="line">``` shell</span><br><span class="line">#!/bin/sh</span><br><span class="line">### BEGIN INIT INFO</span><br><span class="line"># Provides:          apache2</span><br><span class="line"># Required-Start:    $local_fs $remote_fs $network $syslog</span><br><span class="line"># Required-Stop:     $local_fs $remote_fs $network $syslog</span><br><span class="line"># Default-Start:     2 3 4 5</span><br><span class="line"># Default-Stop:      0 1 6</span><br><span class="line"># Short-Description: apache2 service</span><br><span class="line"># Description:       apache2 service daemon</span><br><span class="line">### END INIT INFO</span><br><span class="line">start()&#123;</span><br><span class="line">  ssserver -c /etc/shadowsocks_v4.json -d start --pid-file ss2.pid</span><br><span class="line">&#125;</span><br><span class="line">stop()&#123;</span><br><span class="line">  ssserver -c /etc/shadowsocks_v4.json -d stop --pid-file ss2.pid</span><br><span class="line">&#125;</span><br><span class="line">case "$1" in</span><br><span class="line">start)</span><br><span class="line">  start</span><br><span class="line">  ;;</span><br><span class="line">stop)</span><br><span class="line">  stop</span><br><span class="line">  ;;</span><br><span class="line">restart)</span><br><span class="line">  stop</span><br><span class="line">  start</span><br><span class="line">  ;;</span><br><span class="line">*)</span><br><span class="line">  echo "Uasage: $0 &#123;start|reload|stop&#125;$"</span><br><span class="line">  exit 1</span><br><span class="line">  ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<p>~#:vim /etc/init.d/shadowsocks_v6<br>
å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/sh</span><br><span class="line"><span class="meta">#</span>## BEGIN INIT INFO</span><br><span class="line"><span class="meta">#</span> Provides:          apache2</span><br><span class="line"><span class="meta">#</span> Required-Start:    $local_fs $remote_fs $network $syslog</span><br><span class="line"><span class="meta">#</span> Required-Stop:     $local_fs $remote_fs $network $syslog</span><br><span class="line"><span class="meta">#</span> Default-Start:     2 3 4 5</span><br><span class="line"><span class="meta">#</span> Default-Stop:      0 1 6</span><br><span class="line"><span class="meta">#</span> Short-Description: apache2 service</span><br><span class="line"><span class="meta">#</span> Description:       apache2 service daemon</span><br><span class="line"><span class="meta">#</span>## END INIT INFO</span><br><span class="line">start()&#123;</span><br><span class="line">  ssserver -c /etc/shadowsocks_v6.json -d start --pid-file ss1.pid</span><br><span class="line">&#125;</span><br><span class="line">stop()&#123;</span><br><span class="line">  ssserver -c /etc/shadowsocks_v6.json -d stop --pid-file ss1.pid</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">case "$1" in</span><br><span class="line">start)</span><br><span class="line">  start</span><br><span class="line">  ;;</span><br><span class="line">stop)</span><br><span class="line">  stop</span><br><span class="line">  ;;</span><br><span class="line">restart)</span><br><span class="line">  stop</span><br><span class="line">  start</span><br><span class="line">  ;;</span><br><span class="line">*)</span><br><span class="line">  echo "Uasage: $0 &#123;start|reload|stop&#125;$"</span><br><span class="line">  exit 1</span><br><span class="line">  ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ‰§è¡Œä¸‹åˆ—å‘½ä»¤å³å¯ï¼š<br>
~#:chmod a+x /etc/init.d/shadowsocks_v4<br>
~#:chmod a+x /etc/init.d/shadowsocks_v6<br>
~#:update-rc.d shadowsocks_v4 defaults<br>
~#:update-rc.d shadowsocks_v6 defaults</p>
<p>è‡³æ­¤ï¼ŒæœåŠ¡å™¨ç«¯é…ç½®å®Œæˆã€‚</p>
<h2 id="æœåŠ¡ç«¯è‡ªåŠ¨é…ç½®è„šæœ¬">æœåŠ¡ç«¯è‡ªåŠ¨é…ç½®è„šæœ¬</h2>
<p><a href="https://github.com/mxxhcm/code/tree/master/shell/ss" target="_blank" rel="noopener">åœ°å€</a><br>
é¦–å…ˆå°†è¯¥æ–‡ä»¶ä¸­æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°vpsä¸Šï¼Œç„¶åæ‰§è¡Œ<br>
~#:sh install_ss_server.sh<br>
å³å¯</p>
<h3 id="è¡¥å……è¯´æ˜">è¡¥å……è¯´æ˜</h3>
<p>è¯¥æ–‡ä»¶å¤¹å…±åŒ…å«äº”ä¸ªæ–‡ä»¶<br>
shadowsocks_v4.jsonä¸ºipv4 ssé…ç½®æ–‡ä»¶ï¼Œå¯æ ¹æ®è‡ªå·±çš„éœ€è¦ä¿®æ”¹ç«¯å£å·å’Œå¯†ç <br>
shadowsocks_v6.jsonä¸ºipv6 ssé…ç½®æ–‡ä»¶ï¼Œå¯æ ¹æ®è‡ªå·±çš„éœ€è¦ä¿®æ”¹ç«¯å£å·å’Œå¯†ç <br>
shadowsocks_v4ä¸ºipv4 ssè‡ªå¯åŠ¨æ–‡ä»¶ï¼Œæ— éœ€ä¿®æ”¹<br>
shadowsocks_v6ä¸ºipv6 ssè‡ªå¯åŠ¨æ–‡ä»¶ï¼Œæ— éœ€ä¿®æ”¹<br>
install_ss_server.shä¸ºå®‰è£…è„šæœ¬ï¼Œè¯¥è„šæœ¬åŒæ—¶é…ç½®ipv4å’Œipv6 ss serverã€‚å¯æ ¹æ®è‡ªå·±éœ€è¦è‡ªè¡Œé€‰æ‹©ã€‚</p>
<h2 id="å®¢æˆ·ç«¯é…ç½®">å®¢æˆ·ç«¯é…ç½®</h2>
<h3 id="windowså®¢æˆ·ç«¯é…ç½®">Windowså®¢æˆ·ç«¯é…ç½®</h3>
<h4 id="å®‰è£…shadowsockå®¢æˆ·ç«¯">å®‰è£…shadowsockå®¢æˆ·ç«¯</h4>
<p>åˆ°è¯¥ç½‘å€ <a href="https://github.com/shadowsocks/shadowsocks-windows/releases" target="_blank" rel="noopener">https://github.com/shadowsocks/shadowsocks-windows/releases</a> ä¸‹è½½ç›¸åº”çš„windowså®¢æˆ·ç«¯ç¨‹åºã€‚<br>
ç„¶åé…ç½®æœåŠ¡å™¨å³å¯ï½</p>
<h3 id="linuxå®¢æˆ·ç«¯é…ç½®">Linuxå®¢æˆ·ç«¯é…ç½®</h3>
<h4 id="å®‰è£…shadowsocksç¨‹åº">å®‰è£…shadowsocksç¨‹åº</h4>
<p>~$:sudo pip install shadowsocks</p>
<h4 id="è¿è¡Œshadowsockså®¢æˆ·ç«¯ç¨‹åº">è¿è¡Œshadowsockså®¢æˆ·ç«¯ç¨‹åº</h4>
<p>~$:sudo vim /etc/shadowsocks.json<br>
å¡«å…¥ä»¥ä¸‹é…ç½®æ–‡ä»¶<br>
{<br>
â€œserverâ€:â€œå¡«ä¸Šè‡ªå·±çš„shadowsocks server ipåœ°å€â€,<br>
â€œserver_portâ€:â€œ8888â€,//å¡«ä¸Šè‡ªå·±çš„shadowsocks server ç«¯å£&quot;<br>
â€œlocal_portâ€:1080,<br>
â€œpasswordâ€:â€œmxxhcm150929â€,<br>
â€œtimeoutâ€:600,<br>
â€œmethodâ€:â€œaes-256-cfbâ€<br>
}</p>
<p>æ¥ä¸‹æ¥å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿è¡Œshadowsockså®¢æˆ·ç«¯ï¼š<br>
~$:sudo sslocal -c /etc/shadowsocks.json<br>
ç„¶åæŠ¥é”™ï¼š</p>
<blockquote>
<p>INFO: loading config from /etc/shadowsocks.json<br>
2019-03-04 14:37:49 INFO     loading libcrypto from libcrypto.so.1.1<br>
Traceback (most recent call last):<br>
File â€œ/usr/local/bin/sslocalâ€, line 11, in <module><br>
load_entry_point(â€˜shadowsocks==2.8.2â€™, â€˜console_scriptsâ€™, â€˜sslocalâ€™)()<br>
File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/local.pyâ€, line 39, in main<br>
config = shell.get_config(True)<br>
File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/shell.pyâ€, line 262, in get_config<br>
check_config(config, is_local)<br>
File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/shell.pyâ€, line 124, in check_config<br>
encrypt.try_cipher(config[â€˜passwordâ€™], config[â€˜methodâ€™])<br>
File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/encrypt.pyâ€, line 44, in try_cipher<br>
Encryptor(key, method)<br>
File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/encrypt.pyâ€, line 83, in <strong>init</strong><br>
random_string(self._method_info[1]))<br>
File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/encrypt.pyâ€, line 109, in get_cipher<br>
return m[2](method, key, iv, op)<br>
File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.pyâ€, line 76, in <strong>init</strong><br>
load_openssl()<br>
File â€œ/usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.pyâ€, line 52, in load_openssl<br>
libcrypto.EVP_CIPHER_CTX_cleanup.argtypes = (c_void_p,)<br>
File â€œ/usr/lib/python2.7/ctypes/<strong>init</strong>.pyâ€, line 379, in <strong>getattr</strong><br>
func = self.<strong>getitem</strong>(name)<br>
File â€œ/usr/lib/python2.7/ctypes/<strong>init</strong>.pyâ€, line 384, in <strong>getitem</strong><br>
func = self._FuncPtr((name_or_ordinal, self))<br>
AttributeError: /usr/lib/x86_64-linux-gnu/libcrypto.so.1.1: undefined symbol: EVP_CIPHER_CTX_cleanup</module></p>
</blockquote>
<p>æŒ‰ç…§å‚è€ƒæ–‡çŒ®4çš„åšæ³•ï¼Œæ˜¯åœ¨openssl 1.1.0ç‰ˆæœ¬ä¸­æ”¾å¼ƒäº†EVP_CIPHER_CTX_cleanupå‡½æ•°</p>
<blockquote>
<p>EVP_CIPHER_CTX was made opaque in OpenSSL 1.1.0. As a result, EVP_CIPHER_CTX_reset() appeared and EVP_CIPHER_CTX_cleanup() disappeared.<br>
EVP_CIPHER_CTX_init() remains as an alias for EVP_CIPHER_CTX_reset().</p>
</blockquote>
<p>å°†opensslåº“ä¸­çš„EVP_CIPHER_CTX_cleanupæ”¹ä¸ºEVP_CIPHER_CTX_resetå³å¯ã€‚<br>
å†æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹shadowsockså®‰è£…ä½ç½®<br>
~#:pip install shadowsocks<br>
Requirement already satisfied: shadowsocks in /usr/local/lib/python2.7/dist-packages<br>
~#:cd /usr/local/lib/python2.7/dist-packages/shadowsocks<br>
~#:vim crypto/openssl.py<br>
æœç´¢cleanupï¼Œå°†å…¶æ›¿æ¢ä¸ºreset<br>
å…·ä½“ä½ç½®åœ¨ç¬¬52è¡Œlibcrypto.EVP_CIPHER_CTX_cleanup.argtypes = (c_void_p,)å’Œç¬¬111è¡Œlibcrypto.EVP_CIPHER_CTX_cleanup(self._ctx)</p>
<h4 id="æ‰‹åŠ¨è¿è¡Œåå°æŒ‚èµ·">æ‰‹åŠ¨è¿è¡Œåå°æŒ‚èµ·</h4>
<p>å°†æ‰€æœ‰çš„logé‡å®šå‘åˆ°~/.log/sslocal.logæ–‡ä»¶ä¸­<br>
~$:mkdir ~/.log<br>
~$:touch ~/.log/ss-local.log<br>
~$:nohup sslocal -c /etc/shadowsocks_v6.json &lt;/dev/null &amp;&gt;&gt;~/.log/ss-local.log &amp;</p>
<h4 id="å¼€æœºè‡ªå¯shadowsocks-client">å¼€æœºè‡ªå¯shadowsocks client</h4>
<p>ä½†æ˜¯è¿™æ ·å­çš„è¯ï¼Œæ¯æ¬¡å¼€æœºéƒ½è¦é‡æ–°è¿è¡Œä¸Šè¿°å‘½ä»¤ï¼Œå¤ªéº»çƒ¦äº†ã€‚å¯ä»¥å†™ä¸ªå¼€æœºè‡ªå¯è„šæœ¬ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br>
~$:sudo vim /etc/init.d/shadowsocks<br>
å†…å®¹ä¸ºä»¥ä¸‹shellè„šæœ¬</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>## BEGIN INIT INFO</span><br><span class="line"><span class="meta">#</span> Provides:          shadowsocks local</span><br><span class="line"><span class="meta">#</span> Required-Start:    $local_fs $remote_fs $network $syslog</span><br><span class="line"><span class="meta">#</span> Required-Stop:     $local_fs $remote_fs $network $syslog</span><br><span class="line"><span class="meta">#</span> Default-Start:     2 3 4 5</span><br><span class="line"><span class="meta">#</span> Default-Stop:      0 1 6</span><br><span class="line"><span class="meta">#</span> Short-Description: shadowsocks service</span><br><span class="line"><span class="meta">#</span> Description:       shadowsocks service daemon</span><br><span class="line"><span class="meta">#</span>## END INIT INFO</span><br><span class="line">start()&#123;</span><br><span class="line">ã€€ã€€  sslocal -c /etc/shadowsocks.json -d start</span><br><span class="line">&#125;</span><br><span class="line">stop()&#123;</span><br><span class="line">ã€€ã€€  sslocal -c /etc/shadowsocks.json -d stop</span><br><span class="line">&#125;</span><br><span class="line">case â€œ$1â€ in</span><br><span class="line">start)</span><br><span class="line">ã€€ã€€ã€€start</span><br><span class="line">ã€€ã€€ã€€;;</span><br><span class="line">stop)</span><br><span class="line">ã€€ã€€ã€€stop</span><br><span class="line">ã€€ã€€ã€€;;</span><br><span class="line">reload)</span><br><span class="line">ã€€ã€€ã€€stop</span><br><span class="line">ã€€ã€€ã€€start</span><br><span class="line">ã€€ã€€ã€€;;</span><br><span class="line">\*)</span><br><span class="line">ã€€ã€€ã€€echo â€œUsage: $0 &#123;start|reload|stop&#125;â€</span><br><span class="line">ã€€ã€€ã€€exit 1</span><br><span class="line">ã€€ã€€ã€€;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š<br>
~$:sudo chomod a+x /etc/init.d/shadowsocks<br>
~$:sudo update_rc.d shadowsocks defaults<br>
ä¸Šè¿°å‘½ä»¤æ‰§è¡Œå®Œæˆä»¥åï¼Œè¿›è¡Œæµ‹è¯•<br>
~$:sudo service shadosowcks start</p>
<h4 id="é…ç½®ä»£ç†">é…ç½®ä»£ç†</h4>
<p>ä¸Šä¸€æ­¥çš„ç›®çš„æ˜¯å»ºç«‹äº†shadowsocksæœåŠ¡çš„æœ¬åœ°å®¢æˆ·ç«¯ï¼Œsocks5æµé‡ä¼šèµ°è¯¥é€šé“ï¼Œä½†æ˜¯æµè§ˆå™¨çš„ç½‘é¡µçš„æµé‡æ˜¯httpsçš„ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®ç›¸åº”çš„ä»£ç†ï¼Œå°†httpsæµé‡è½¬æ¢ä¸ºsocks5æµé‡ï¼Œèµ°sså®¢æˆ·ç«¯åˆ°è¾¾ssæœåŠ¡ç«¯ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æŠŠå…¶ä»–å„ç§æµé‡ï¼Œå¦‚tcp,udpç­‰å„ç§æµé‡éƒ½è½¬æ¢ä¸ºsocks5æµé‡ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡å…¨å±€ä»£ç†å®ç°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ ç‰¹å®šçš„ä»£ç†è§„åˆ™å®ç°ã€‚</p>
<h5 id="é…ç½®å…¨å±€ä»£ç†">é…ç½®å…¨å±€ä»£ç†</h5>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ·»åŠ ubuntu socks5ç³»ç»Ÿä»£ç†ï¼š</p>
<p>ç„¶åå°±å¯ä»¥æˆåŠŸä¸Šç½‘äº†ã€‚</p>
<h5 id="ä½¿ç”¨switchyomegaé…ç½®chromeä»£ç†">ä½¿ç”¨SwitchyOmegaé…ç½®chromeä»£ç†</h5>
<p>é¦–å…ˆåˆ° <a href="https://github.com/FelisCatus/SwitchyOmega/releases" target="_blank" rel="noopener">https://github.com/FelisCatus/SwitchyOmega/releases</a> ä¸‹è½½SyitchyOmega.crxã€‚ç„¶ååœ¨chromeçš„åœ°å€æ è¾“å…¥chrome://extensionsï¼Œå°†åˆšæ‰ä¸‹è½½çš„æ’ä»¶æ‹–è¿›å»ã€‚<br>
ç„¶ååœ¨æµè§ˆå™¨å³ä¸Šè§’å°±æœ‰äº†è¿™ä¸ªæ’ä»¶ï¼Œæ¥ä¸‹æ¥é…ç½®æ’ä»¶ã€‚å¦‚ä¸‹å›¾ï¼š<br>
<img src="https:" alt="mxx"><br>
ç›´æ¥é…ç½®proxyï¼Œæ·»åŠ å¦‚å›¾æ‰€ç¤ºçš„è§„åˆ™ï¼Œè¿™æ ·chromeæ‰“å¼€çš„æ‰€æœ‰ç½‘ç«™éƒ½æ˜¯èµ°ä»£ç†çš„ã€‚</p>
<h4 id="ä½¿ç”¨privoxyè®©terminalèµ°socks5">ä½¿ç”¨privoxyè®©terminalèµ°socks5</h4>
<p>~$:sudo apt install privoxy<br>
~$:sudo vim /etc/privoxy/config<br>
å–æ¶ˆä¸‹åˆ—è¡Œçš„æ³¨é‡Šï¼Œæˆ–è€…æ·»åŠ ç›¸åº”æ¡ç›®<br>
forward-socks5 / 127.0.0.1:1080 . # SOCKS5ä»£ç†åœ°å€<br>
listen-address 127.0.0.1:8118     # HTTPä»£ç†åœ°å€<br>
forward 10.*.*.*/ .               # å†…ç½‘åœ°å€ä¸èµ°ä»£ç†<br>
forward .abc.com/ .             # æŒ‡å®šåŸŸåä¸èµ°ä»£ç†<br>
é‡å¯privoxyæœåŠ¡<br>
~$:sudo service privoxy restart<br>
åœ¨bashrcä¸­æ·»åŠ å¦‚ä¸‹ç¯å¢ƒå˜é‡<br>
export http_proxy=&quot;<a href="http://127.0.0.1:8118" target="_blank" rel="noopener">http://127.0.0.1:8118</a>&quot;<br>
export https_proxy=â€œ<a href="http://127.0.0.1:8118" target="_blank" rel="noopener">http://127.0.0.1:8118</a>â€</p>
<p>~$:source ~/.bashrc<br>
~$:curl.gs</p>
<h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h2>
<ol>
<li><a href="http://godjose.com/2017/06/14/new-article/" target="_blank" rel="noopener">http://godjose.com/2017/06/14/new-article/</a></li>
<li><a href="https://www.polarxiong.com/archives/%E6%90%AD%E5%BB%BAipv6-VPN-%E8%AE%A9ipv4%E4%B8%8Aipv6-%E4%B8%8B%E8%BD%BD%E9%80%9F%E5%BA%A6%E6%8F%90%E5%8D%87%E5%88%B0100M.html" target="_blank" rel="noopener">https://www.polarxiong.com/archives/æ­å»ºipv6-VPN-è®©ipv4ä¸Šipv6-ä¸‹è½½é€Ÿåº¦æå‡åˆ°100M.html</a></li>
<li><a href="https://blog.csdn.net/li1914309758/article/details/86510127" target="_blank" rel="noopener">https://blog.csdn.net/li1914309758/article/details/86510127</a></li>
<li><a href="https://blog.csdn.net/blackfrog_unique/article/details/60320737" target="_blank" rel="noopener">https://blog.csdn.net/blackfrog_unique/article/details/60320737</a></li>
<li><a href="https://blog.csdn.net/qq_31851531/article/details/78410146" target="_blank" rel="noopener">https://blog.csdn.net/qq_31851531/article/details/78410146</a></li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/03/02/dqn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/03/02/dqn/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/15/index.html">DQN</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-03-02 19:29:35" itemprop="dateCreated datePublished" datetime="2019-03-02T19:29:35+08:00">2019-03-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-10-18 17:34:03" itemprop="dateModified" datetime="2019-10-18T17:34:03+08:00">2019-10-18</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/å¼ºåŒ–å­¦ä¹ /" itemprop="url" rel="index"><span itemprop="name">å¼ºåŒ–å­¦ä¹ </span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="èƒŒæ™¯">èƒŒæ™¯</h2>
<ol>
<li>Atari 2600æ˜¯ä¸€ä¸ªRL benchmarkï¼Œæœ‰2600ä¸ªæ¸¸æˆï¼Œæ¯ä¸ªagentä¼šå¾—åˆ°ä¸€ä¸ªå›¾åƒè¾“å…¥(60Hzçš„210 x 160 RGBè§†é¢‘)ã€‚æœ¬æ–‡çš„ç›®æ ‡æ˜¯è®¾è®¡ä¸€ä¸ªNNæ¶æ„å°½å¯èƒ½å­¦ä¼šæ›´å¤šæ¸¸æˆï¼Œç½‘ç»œçš„è¾“å…¥åªæœ‰è§†é¢‘ä¿¡æ¯ï¼Œrewardå’Œterminalä¿¡å·ä»¥åŠå¯èƒ½é‡‡å–çš„actionï¼Œå’Œäººç±»ç©æ¸¸æˆæ—¶å¾—åˆ°çš„ä¿¡æ¯æ˜¯ä¸€æ ·çš„ã€‚</li>
<li>Agentä¸Atariæ¨¡æ‹Ÿå™¨ä¸æ–­äº¤äº’ï¼Œagentä¸èƒ½è§‚æµ‹åˆ°æ¨¡æ‹Ÿå™¨çš„å†…éƒ¨çŠ¶æ€ï¼Œåªèƒ½å¾—åˆ°å½“å‰å±å¹•ä¿¡æ¯çš„ä¸€ä¸ªå›¾ç‰‡ã€‚è¿™ä¸ªtaskå¯ä»¥è®¤ä¸ºæ˜¯éƒ¨åˆ†å¯è§‚æµ‹çš„ï¼Œå› ä¸ºä»…ä»…ä»å½“å‰çš„å±å¹•å›¾åƒ$x_t$ä¸Šæ˜¯ä¸èƒ½å®Œå…¨ç†è§£æ•´ä¸ªæ¸¸æˆçŠ¶å†µçš„ã€‚æ‰€æœ‰çš„åºåˆ—éƒ½è®¤ä¸ºåœ¨æœ‰é™æ­¥éª¤å†…æ˜¯ä¼šç»“æŸçš„ã€‚</li>
<li>æ³¨æ„agentå½“å‰çš„å¾—åˆ†å–å†³äºæ•´ä¸ªsequenceçš„actionå’Œobservationã€‚ä¸€ä¸ªactionçš„feedbackå¯èƒ½ç­‰åˆ°å¥½å‡ åƒä¸ªtimestepsä¹‹åæ‰èƒ½å¾—åˆ°ã€‚</li>
<li>agentçš„ç›®æ ‡æœ€å¤§åŒ–ç´¯è®¡rewardã€‚å®šä¹‰$t$æ—¶åˆ»çš„å›æŠ¥returnä¸º$R_t = \sum^T_{tâ€™=t} \gamma^{tâ€™-t}r_{tâ€™}$ï¼Œå…¶ä¸­$\gamma$æ˜¯æŠ˜æ‰£å› å­ï¼Œ$T$æ˜¯æ¸¸æˆç»ˆæ­¢çš„æ—¶é—´æ­¥ã€‚</li>
<li>å®šä¹‰æœ€ä¼˜çš„åŠ¨ä½œå€¼å‡½æ•°$Q^{*}(s,a)$æ˜¯éµå¾ªæœ€ä¼˜ç­–ç•¥åœ¨çŠ¶æ€$s$å¤„é‡‡å–åŠ¨ä½œ$a$èƒ½è·å¾—çš„æœ€å¤§çš„æœŸæœ›å›æŠ¥ï¼Œ$Q^{*}(s,a) = \max_{\pi}E[R_t|s_t=s,a_t=a,\pi]$ã€‚</li>
<li>æœ€ä¼˜çš„åŠ¨ä½œå€¼å‡½æ•°éµå¾ªBellman optimal equationã€‚å¦‚æœåœ¨ä¸‹ä¸ªæ—¶é—´æ­¥çš„çŠ¶æ€$sâ€™$å¤„ï¼Œå¯¹äºæ‰€æœ‰å¯èƒ½çš„$aâ€™$ï¼Œ$Q^{*}(sâ€™,aâ€™)$çš„æœ€ä¼˜å€¼æ˜¯å·²çŸ¥çš„ï¼ˆè¿™é‡Œå°±æ˜¯å¯¹äºæ¯ä¸€ä¸ª$aâ€™$ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæœ€ä¼˜çš„$Q(sâ€™,aâ€™)$ï¼Œæœ€ä¼˜çš„ç­–ç•¥å°±æ˜¯é€‰æ‹©æœ€å¤§åŒ–$r+Q^{*}(sâ€™,aâ€™)$çš„åŠ¨ä½œ$aâ€™$ï¼š<br>
$$Q^{*}(s,a) = E_{s\sim E}[r+ \gamma \max_{aâ€™} Q^{*}(sâ€™,aâ€™)|s,a], \tag{1}$$<br>
å¼ºåŒ–å­¦ä¹ çš„ä¸€ä¸ªæ€è·¯å°±æ˜¯ä½¿ç”¨Bellman optimal equationæ›´æ–°åŠ¨ä½œå€¼å‡½æ•°ï¼Œ$Q_{i+1}(s,a) = E[r + \gamma Q_i(sâ€™,aâ€™)|s,a]$ï¼Œå½“$i\rightarrow \infty$æ—¶ï¼Œ$Q_i \rightarrow Q^{*}$ã€‚</li>
<li>ä¸Šè¿°ä¾‹å­æ˜¯state-action pairå¾ˆå°‘çš„æƒ…å†µï¼Œå½“æœ‰æ— ç©·å¤šä¸ªçš„æ—¶å€™ï¼Œæ˜¯æ— æ³•ç²¾ç¡®è®¡ç®—çš„ã€‚è¿™æ—¶å€™å¯ä»¥é‡‡ç”¨å‡½æ•°æ¥ä¼°è®¡åŠ¨ä½œå€¼å‡½æ•°ï¼Œ$Q(s,a;\theta) \approx Q^{*}(s,a)$ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé€šå¸¸é‡‡ç”¨çº¿æ€§å‡½æ•°è¿›è¡Œä¼°è®¡ï¼Œå½“ç„¶å¯ä»¥é‡‡ç”¨éçº¿æ€§çš„å‡½æ•°ï¼Œå¦‚ç¥ç»ç½‘ç»œç­‰ç­‰ã€‚è¿™é‡Œé‡‡ç”¨çš„æ˜¯ç¥ç»ç½‘ç»œï¼Œç”¨$\theta$è¡¨ç¤ºç½‘ç»œçš„å‚æ•°ï¼Œè¿™ä¸ªç½‘ç»œå«åšQç½‘ç»œï¼ŒQç½‘ç»œé€šè¿‡æœ€å°åŒ–ä¸‹åˆ—lossè¿›è¡Œè®­ç»ƒï¼š<br>
$$L_i(\theta_i) = E_{s,a\sim \rho(\cdot)}\left[(y_i - Q(s,a;\theta_i))^2\right]\tag{2}$$<br>
å…¶ä¸­$y_i = E_{sâ€™\sim E}[r+\gamma \max_{aâ€™}Q(sâ€™,aâ€™;\theta_{i-1})]$æ˜¯ç¬¬$i$æ¬¡è¿­ä»£çš„targetå€¼ï¼Œå…¶ä¸­$\rho(s,a)$æ˜¯$(s,a)$æœä»çš„æ¦‚ç‡åˆ†å¸ƒã€‚</li>
<li>æ³¨æ„åœ¨ä¼˜åŒ–$L_i(\theta_i)$æ—¶ï¼Œä¸Šä¸€æ¬¡è¿­ä»£çš„$\theta_{i-1}$æ˜¯ä¸å˜çš„ï¼Œtargetå–å†³äºç½‘ç»œå‚æ•°ï¼Œå’Œç›‘ç£å­¦ä¹ ä½œå¯¹æ¯”ï¼Œç›‘ç£å­¦ä¹ çš„targetå’Œç½‘ç»œå‚æ•°æ— å…³ã€‚</li>
<li>å¯¹Losså‡½æ•°è¿›è¡Œæ±‚å¯¼ï¼Œå¾—åˆ°ä¸‹åˆ—çš„gradientä¿¡æ¯ï¼š<br>
$$\nabla_{\theta_i}L_i(\theta_i) = E_{s,a\sim \rho(\cdot),sâ€™\sim E}\left[(r+\gamma \max_{aâ€™}Q(sâ€™,aâ€™;\theta_{i-1})-Q(s,a;\theta_i))\nabla_{\theta_i}Q(s,a;\theta_i)\right]\tag{3}$$<br>
é€šè¿‡SGDä¼˜åŒ–losså‡½æ•°ã€‚å¦‚æœæƒé‡æ˜¯æ¯éš”å‡ ä¸ªtimestepè¿›è¡Œæ›´æ–°ï¼Œå¹¶ä¸”ç”¨ä»åˆ†å¸ƒ$\rho$å’Œç¯å¢ƒ$E$ä¸­é‡‡æ ·å¾—åˆ°çš„æ ·æœ¬å–ä»£æœŸæœ›ï¼Œå°±å¯ä»¥å¾—åˆ°ç†Ÿæ‚‰çš„Q-learningç®—æ³•[2]ã€‚(è¿™ä¸ªå…·ä½“ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œå¯ä»¥çœ‹å‚è€ƒæ–‡çŒ®2)</li>
<li>ä»€ä¹ˆæ˜¯on-polciyç®—æ³•ï¼š</li>
</ol>
<blockquote>
<p>On-policy methods attempt to evaluate or improve the policy that is used to make decisions, whereasÂ  off-policy methods evaluate or improve a policy different from that used to generate the data.</p>
</blockquote>
<p>Sarsaå’ŒQ-learningçš„åŒºåˆ«åœ¨äºæ›´æ–°Qå€¼æ—¶çš„target policyå’Œbehaviour policyæ˜¯å¦ç›¸åŒã€‚æˆ‘è§‰çš„æ˜¯æ˜¯policy evaluationå’Œvalue iterationçš„åŒºåˆ«ï¼Œpolicy evaluationä½¿ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•æ›´æ–°$V(s)$ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ”¹å˜è¡Œä¸ºç­–ç•¥ï¼Œæ›´æ–°è¿­ä»£ç”¨çš„æ•°æ®éƒ½æ˜¯åˆ©ç”¨ä¹‹å‰çš„è¡Œä¸ºç­–ç•¥ç”Ÿæˆçš„ã€‚è€Œå€¼è¿­ä»£æ˜¯policy evaluation+policy improvementï¼Œæ¯ä¸€æ­¥éƒ½ç”¨è´ªå¿ƒç­–ç•¥é€‰æ‹©å‡ºæœ€å¤§çš„$a$æ›´æ–°$V(s)$ï¼Œtarget policyï¼ˆgreedyï¼‰å’Œbehaviour policyï¼ˆ$\varepsilon$-greedyï¼‰æ˜¯ä¸åŒçš„ã€‚</p>
<h2 id="å¼ºåŒ–å­¦ä¹ éœ€è¦è§£å†³çš„é—®é¢˜">å¼ºåŒ–å­¦ä¹ éœ€è¦è§£å†³çš„é—®é¢˜</h2>
<ol>
<li>å¤§é‡æœ‰æ ‡è®°çš„è®­ç»ƒæ•°æ®ã€‚</li>
<li>delayed-rewardã€‚è¿™ä¸ªdelayå­˜åœ¨äºactionå’Œrewardä¹‹é—´ï¼Œå¯ä»¥è¾¾åˆ°å‡ åƒä¸ªtimestepsé‚£ä¹ˆè¿œï¼Œå’Œsupervised learnignä¸­è¾“å…¥å’Œè¾“å…¥ä¹‹é—´ç›´æ¥çš„å…³ç³»ç›¸æ¯”è¦å¤æ‚çš„å¤šã€‚</li>
<li>å¤§å¤šæ•°æ·±åº¦å­¦ä¹ ç®—æ³•å‡è®¾æ ·æœ¬ä¹‹é—´éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œç„¶è€Œå¼ºåŒ–å­¦ä¹ çš„ä¸€ä¸ªsequence(åºåˆ—)é€šå¸¸æ˜¯é«˜åº¦ç›¸å…³çš„ã€‚</li>
<li>å¼ºåŒ–å­¦ä¹ ç®—æ³•å­¦ä¹ åˆ°çš„policyå˜åŒ–æ—¶ï¼Œæ•°æ®æœä»çš„åˆ†å¸ƒé€šå¸¸ä¼šæ”¹å˜ï¼Œç„¶è€Œæ·±åº¦å­¦ä¹ é€šå¸¸å‡è®¾æ•°æ®æœä»ä¸€ä¸ªå›ºå®šçš„åˆ†å¸ƒã€‚</li>
</ol>
<h2 id="dqn">DQN</h2>
<p>è®ºæ–‡åç§°<a href="https://arxiv.org/pdf/1312.5602.pdf" target="_blank" rel="noopener">Playing Atari with Deep Reinforcement Learning</a></p>
<h3 id="æ¦‚è¿°">æ¦‚è¿°</h3>
<p>DQNç®—æ³•ä½¿ç”¨å·ç§¯ç¥ç»ç½‘ç»œä»£æ›¿Q-learningä¸­tabularçš„å€¼å‡½æ•°ï¼Œå¹¶æå‡ºäº†å‡ ä¸ªtrickä¿ƒè¿›æ”¶æ•›ã€‚DQN agnetçš„è¾“å…¥æ˜¯åŸå§‹çš„å›¾ç‰‡ï¼Œè¾“å‡ºæ˜¯å›¾ç‰‡è¡¨ç¤ºçš„stateå¯èƒ½é‡‡å–çš„actionçš„$Q$å€¼ã€‚</p>
<ol>
<li>dqnæ˜¯Model-Freeçš„ï¼Œå®ƒç›´æ¥ä»ç¯å¢ƒ$E$ä¸­é‡‡æ ·ï¼Œå¹¶æ²¡æœ‰æ˜¾å¼çš„å¯¹ç¯å¢ƒè¿›è¡Œå»ºæ¨¡ã€‚</li>
<li>dqnæ˜¯ä¸€ä¸ªonlineçš„æ–¹æ³•ï¼Œå³è®­ç»ƒæ•°æ®ä¸æ–­å¢åŠ ï¼›offlineæ˜¯è®­ç»ƒæ•°æ®å›ºå®šã€‚</li>
<li>dqnæ˜¯ä¸€ä¸ªoff-policyç®—æ³•ï¼Œtarget policy æ˜¯greedy policyï¼Œbehaviour policyæ˜¯$\varepsilon$-greedy policyï¼Œtarget policyå’Œgreedy policyç­–ç•¥ä¸åŒã€‚</li>
<li>DQNæ˜¯ä¸æ”¶æ•›çš„ã€‚</li>
</ol>
<h3 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h3>
<h4 id="experience-replay">Experience replay</h4>
<ol>
<li>DQNä½¿ç”¨äº†experience replayï¼Œå°†å¤šä¸ªepisodesä¸­çš„ç»éªŒå­˜å‚¨åˆ°ä¸€ä¸ªå¤§å°ä¸º$N$çš„replay bufferä¸­ã€‚åœ¨æ›´æ–°$Q$å€¼çš„æ—¶å€™ï¼Œä»replay bufferä¸­è¿›è¡Œé‡‡æ ·æ›´æ–°ã€‚behaviour policyæ˜¯$\varepsilon$-greedyç­–ç•¥ï¼Œä¿æŒæ¢ç´¢ã€‚target policyæ˜¯$\varepsilon$ greedy ç®—æ³•ï¼Œå› ä¸ºreplay bufferä¸­å­˜æ”¾çš„éƒ½æ˜¯behaviour policyç”Ÿæˆçš„experienceï¼Œæ‰€ä»¥æ˜¯off-policyç®—æ³•ã€‚<br>
é‡‡ç”¨experience replayçš„DQNå’ŒQ-learningç®—æ³•ç›¸æ¯”æœ‰ä¸‰ä¸ªå¥½å¤„ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ¯ä¸€ä¸ªexperienceå¯ä»¥å¤šæ¬¡ç”¨æ¥æ›´æ–°å‚æ•°ï¼Œæé«˜äº†æ•°æ®è®­ç»ƒæ•ˆç‡ï¼›ç¬¬äºŒä¸ªæ˜¯ç›´æ¥ä»è¿ç»­çš„æ ·æœ¬ä¸­è¿›è¡Œå­¦ä¹ æ˜¯ä½æ•ˆçš„ï¼Œå› ä¸ºæ ·æœ¬ä¹‹é—´å­˜åœ¨å¼ºå…³è”æ€§ã€‚ç¬¬ä¸‰ä¸ªæ˜¯on-policyçš„å­¦ä¹ ä¸­ï¼Œå½“å‰çš„å‚æ•°å†³å®šä¸‹ä¸€æ¬¡é‡‡æ ·çš„æ ·æœ¬ï¼Œå°±å¯èƒ½ä½¿å­¦ä¹ å‡ºæ¥çš„ç»“æœå‘ç”Ÿåç§»ã€‚</li>
<li>replay bufferä¸­åªå­˜å‚¨æœ€è¿‘Nä¸ªexperienceã€‚</li>
</ol>
<h4 id="data-preprocess">Data preprocess</h4>
<ol>
<li>åŸå§‹å›¾åƒæ˜¯$210\times 160$çš„RGBå›¾åƒï¼Œé¢„å¤„ç†é¦–å…ˆå°†å®ƒå˜ä¸ºç°åº¦å›¾ï¼Œå¹¶è¿›è¡Œä¸‹é‡‡æ ·å¾—åˆ°ä¸€ä¸ª$110\times 84$çš„å›¾åƒï¼Œç„¶åä»è¿™ä¸ªå›¾åƒä¸­æˆªå–ä¸€ä¸ª$84\times 84$çš„å›¾åƒã€‚</li>
<li>ä½œè€…ä½¿ç”¨é¢„å¤„ç†å‡½æ•°$\phi$å¤„ç†è¿ç»­å››å¼ çš„å›¾åƒè€Œä¸æ˜¯ä¸€å¼ ï¼Œç„¶åå°†è¿™ä¸ªé¢„å¤„ç†åçš„ç»“æœè¾“å…¥$Q$å‡½æ•°ã€‚</li>
<li>é¢„å¤„ç†å‡½æ•°$\phi$æ˜¯ä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œï¼Œè¾“å…¥æ˜¯$84\times 84\times 4$çš„å›¾åƒçŸ©é˜µï¼Œç»è¿‡$16$ä¸ªstrideä¸º$4$çš„$8\times 8$filterï¼Œç»è¿‡reluæ¿€æ´»å‡½æ•°ï¼Œå†ç»è¿‡$32$ä¸ªstrideä¸º$2$çš„$4\times 4$filterï¼Œç»è¿‡reluæ¿€æ´»å‡½æ•°ï¼Œæœ€åæ¥ä¸€ä¸ª256ä¸ªå•å…ƒçš„å…¨è¿æ¥å±‚ã€‚è¾“å‡ºå±‚çš„å¤§å°æ ¹æ®ä¸åŒæ¸¸æˆçš„åŠ¨ä½œä¸ªæ•°å†³å®šã€‚</li>
<li>$Q$ç½‘ç»œçš„è¾“å…¥æ˜¯é¢„å¤„ç†åçš„å›¾åƒstateï¼Œè¾“å‡ºæ˜¯æ‰€æœ‰å½“å‰stateå¯èƒ½é‡‡å–çš„actionçš„$Q$å€¼ã€‚</li>
</ol>
<h3 id="ç½‘ç»œç»“æ„">ç½‘ç»œç»“æ„</h3>
<p>è¾“å…¥ï¼š[batch_size, 84, 84, 4]<br>
ç¬¬ä¸€ä¸ªéšè—å±‚ï¼š16ä¸ªæ­¥é•¿ä¸º$4$çš„$8\times 8$çš„filters<br>
ç¬¬äºŒä¸ªéšè—å±‚ï¼š32ä¸ªæ­¥é•¿ä¸º$2$çš„$4\times 4$çš„filters<br>
å…¨è¿æ¥å±‚ï¼š256ä¸ªunits<br>
è¾“å‡ºå±‚ï¼šsoftmax</p>
<h3 id="ç®—æ³•">ç®—æ³•</h3>
<p>ç®—æ³• 1 Deep Q-learning with Experience Replay<br>
Initialize replay memory D to capacity N<br>
Initialize action-value function Q with random weights<br>
for episode = $1, M$ do<br>
$\ \ \ \ \ \ \ \ $Initialize sequence $s_1 = {x_1}$ and preprocessed sequenced $\phi_1 = \phi(s_1)$<br>
$\ \ \ \ \ \ \ \ $for $t = 1,T$ do<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $With probability $\varepsilon$ select a random action $a_t$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $otherwise select $a_t = \max_a Q^{âˆ—}(\phi(s_t), a; Î¸)$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Execute action $a_t$ in emulator and observe reward $r_t$ and image $x_{t+1}$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Set $s_{t+1} = s_t, a_t, x_{t+1}$ and preprocess $\phi_{t+1} = \phi(s_{t+1})$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Store transition $(\phi_t, a_t, r_t, \phi_{t+1})$ in D<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Sample random minibatch of transitions $(\phi_j, a_j, r_j, \phi_{j+1})$ from D<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Set $y_j = \begin{cases}r_j&amp;\ \ \ \ for\ terminal\ \phi_{j+1}\\r_j+\gamma \max_{aâ€™}Q(\phi_{j+1},aâ€™|\theta)&amp;\ \ \ \ for\ non-terminal\ \phi_{j+1}\end{cases}$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Perform a gradient descent step on $(y_j âˆ’ Q(\phi_j, a_j|Î¸))^2$<br>
$\ \ \ \ \ \ \ \ $end for<br>
end for</p>
<h3 id="experiments">Experiments</h3>
<h4 id="datasets">Datasets</h4>
<p>ä¸ƒä¸ªAtari 2600 games: B.Rider, Breakout, Enduro, Pong, Q bert, Seaquest, S.Invadersã€‚<br>
åœ¨å…­ä¸ªæ¸¸æˆä¸ŠDQNæ˜¯SOTAï¼Œåœ¨ä¸‰ä¸ªæ¸¸æˆä¸ŠDQNçš„è¡¨ç°è¶…è¿‡äº†äººç±»ã€‚</p>
<h4 id="settings">Settings</h4>
<ol>
<li>ä¸åŒæ¸¸æˆçš„rewardå˜åŒ–å¾ˆå¤§ï¼Œè¿™é‡ŒæŠŠæ­£çš„rewardå…¨éƒ¨è®¾ç½®ä¸º$1$ï¼ŒæŠŠè´Ÿçš„rewardå…¨éƒ¨è®¾ç½®ä¸º$-1$ï¼Œrewardä¸º$0$çš„ä¿æŒä¸å˜ã€‚è¿™æ ·å­åœ¨ä¸åŒæ¸¸æˆä¸­ä¹Ÿå¯ä»¥ç»Ÿä¸€å­¦ä¹ ç‡ã€‚</li>
<li>é‡‡ç”¨RMSPropä¼˜åŒ–ç®—æ³•ï¼Œbatch sizeä¸º$32$ï¼Œbehaviour policyé‡‡ç”¨çš„æ˜¯$\varepsilon$-greedyï¼Œåœ¨å‰$100$ä¸‡æ­¥å†…ï¼Œ$\varepsilon$ä»$1$å˜åˆ°$0.1$ï¼Œæ¥ä¸‹æ¥ä¿æŒä¸å˜ã€‚</li>
<li>ä½¿ç”¨äº†fram-skipæŠ€æœ¯ï¼Œæ¯éš”$k$æ­¥ï¼Œagentæ‰é€‰æ‹©ä¸€ä¸ªactionï¼Œåœ¨ä¸­é—´çš„$k-1$æ­¥ä¸­ï¼Œä¿æŒåŸæ¥çš„actionä¸å˜ã€‚è¿™é‡Œé€‰æ‹©äº†$k=4$ï¼Œæœ‰çš„æ¸¸æˆè®¾ç½®çš„ä¸º$k=3$ã€‚</li>
<li>è¶…å‚æ•°è®¾ç½®æ²¡æœ‰è¯´</li>
</ol>
<h4 id="metrics">Metrics</h4>
<p>æ¯ä¸ªagentè®­ç»ƒ$10$ millionså¸§ï¼Œreplay buffer sizeæ˜¯$1$ millionã€‚æ¯ä¸ªepochè¿›è¡Œ$50000$ä¸ªminibatch weight updatesæˆ–è€…å¤§çº¦$30$åˆ†é’Ÿçš„è®­ç»ƒï¼ˆè¿™é‡Œæœ‰äº›ä¸ç†è§£ï¼‰ã€‚ç„¶åä½¿ç”¨$\epsilon$-greedy($\epsilon=0.05$) evaluation $10000$ä¸ªstepsã€‚</p>
<h5 id="average-total-reward">average total reward</h5>
<p>ç¬¬ä¸€ä¸ªmetricæ˜¯åœ¨ä¸€ä¸ªepisodeæˆ–è€…ä¸€æ¬¡æ¸¸æˆå†…total rewardçš„å¹³å‡å€¼ã€‚è¿™ä¸ªmetricå¸¦æœ‰å¾ˆå¤§å™ªéŸ³ï¼Œå› ä¸ºpolicyæƒå€¼ä¸€ä¸ªå¾ˆå°çš„æ”¹å˜å¯èƒ½å°±ä¼šå¯¹policyè®¿é—®statesçš„åˆ†å¸ƒé€ æˆå¾ˆå¤§çš„å½±å“ã€‚</p>
<h5 id="action-value-function">action value function</h5>
<p>ç¬¬äºŒä¸ªmetricæ˜¯ä¼°è®¡çš„action-value functionï¼Œè¿™é‡Œä½œè€…çš„åšæ³•æ˜¯åœ¨è®­ç»ƒå¼€å§‹å‰ä½¿ç”¨random policyæ”¶é›†ä¸€ä¸ªå›ºå®šçš„states setï¼Œç„¶åtrackè¿™ä¸ªsetä¸­statesæœ€å¤§é¢„æµ‹$Q$å€¼çš„å¹³å‡ã€‚å°½ç®¡ç¼ºä¹ç†è®ºæ”¶æ•›ä¿è¯ï¼ŒDQNçœ‹èµ·æ¥è¿˜ä¸é”™ã€‚</p>
<h4 id="baselines">Baselines</h4>
<ol>
<li>Sarsa</li>
<li>Contingency</li>
<li>DQN</li>
<li>Human</li>
</ol>
<h3 id="ä»£ç ">ä»£ç </h3>
<p><a href="https://github.com/devsisters/DQN-tensorflow" target="_blank" rel="noopener">https://github.com/devsisters/DQN-tensorflow</a></p>
<h2 id="nature-dqn">Nature DQN</h2>
<h3 id="éçº¿æ€§æ‹Ÿåˆå‡½æ•°ä¸æ”¶æ•›çš„åŸå› ">éçº¿æ€§æ‹Ÿåˆå‡½æ•°ä¸æ”¶æ•›çš„åŸå› </h3>
<ol>
<li>åºåˆ—ä¸­çŠ¶æ€çš„é«˜åº¦ç›¸å…³æ€§ã€‚</li>
<li>$Q$å€¼çš„ä¸€ç‚¹æ›´æ–°å°±ä¼šå¯¹policyæ”¹å˜é€ æˆå¾ˆå¤§çš„å½±å“ï¼Œä»è€Œæ”¹å˜æ•°æ®çš„åˆ†å¸ƒã€‚</li>
<li>å¾…ä¼˜åŒ–çš„$Q$å€¼å’Œtarget value(ç›®æ ‡Qå€¼)ä¹‹é—´çš„å…³ç³»ï¼Œæ¯æ¬¡ä¼˜åŒ–æ—¶çš„ç›®æ ‡Qå€¼éƒ½æ˜¯å›ºå®šä¸Šæ¬¡çš„å‚æ•°å¾—æ¥çš„ï¼Œä¼˜åŒ–ç›®æ ‡éšç€ä¼˜åŒ–è¿‡ç¨‹ä¸€ç›´åœ¨å˜ã€‚<br>
å‰ä¸¤ä¸ªé—®é¢˜æ˜¯é€šè¿‡DQNä¸­æå‡ºçš„replay bufferè§£å†³çš„ï¼Œç¬¬ä¸‰ä¸ªé—®é¢˜æ˜¯Natura DQNä¸­è§£å†³çš„ï¼Œåœ¨ä¸€å®šæ—¶é—´æ­¥å†…ï¼Œå›ºå®štarget networkå‚æ•°ï¼Œæ›´æ–°å¾…networkçš„å‚æ•°ï¼Œç„¶åæ¯éš”å›ºå®šæ­¥æ•°å°†networkçš„å‚æ•°æ‹·è´ç»™target networkã€‚</li>
</ol>
<blockquote>
<p>This instability has several causes: the correlations present in the sequence of observations, the fact that small updates to Q may significantly change the policy and therefore change the data distribution, and the correlations between the action-values (Q) and the target values $r+\gamma \max_{aâ€™}Q(sâ€™,aâ€™)$.<br>
We address these instabilities with a novel variant of Q-learning, which uses two key ideas. First, we used a biologically inspired mechanism termed experience replay that randomizes over the data, thereby removing correlations in the observation sequence and smoothing over changes in the data distribution. Second, we used an iterative update that adjusts the action-values (Q) towards target values that are only periodically updated, thereby reducing correlations with the target.</p>
</blockquote>
<h3 id="è§£å†³æ–¹æ¡ˆ-v2">è§£å†³æ–¹æ¡ˆ</h3>
<ol>
<li>é¢„å¤„ç†çš„ç»“æ„å˜äº†,CNNçš„å±‚æ•°å¢åŠ äº†ä¸€å±‚ï¼Œ</li>
<li>åŠ äº†target networkï¼Œ</li>
<li>å°†erroré™åˆ¶åœ¨$[-1,1]$ä¹‹é—´ã€‚</li>
</ol>
<blockquote>
<p>clip the error term from the update $r + \gamma \max_{aâ€™} Q(sâ€™,aâ€™;\theta_i^{-} - Q(s,a;\theta_i)$ to be between $-1$ and $1$. Because the absolute value loss function $|x|$ has a derivative of $-1$ for all negative values of $x$ and a derivative of $1$ for all positive values of $x$, clipping the squared error to be between $-1$ and $1$ corresponds to using an absolute value loss function for errors outside of the $(-1,1)$ interval.</p>
</blockquote>
<h3 id="æ¡†æ¶å’Œç½‘ç»œç»“æ„">æ¡†æ¶å’Œç½‘ç»œç»“æ„</h3>
<h4 id="æ¡†æ¶">æ¡†æ¶</h4>
<p>Nature-DNQçš„æ¡†æ¶å¦‚ä¸‹æ‰€ç¤º<br>
<img src="/2019/03/02/dqn/nature-dqn.png" alt="ndqn"></p>
<h4 id="ç½‘ç»œç»“æ„-v2">ç½‘ç»œç»“æ„</h4>
<p>è¾“å…¥:[batch_size, 84, 84, 4]<br>
ä¸‰ä¸ªå·ç§¯å±‚ï¼Œä¸¤ä¸ªå…¨è¿æ¥å±‚ï¼ˆåŒ…å«è¾“å‡ºå±‚ï¼‰<br>
ç¬¬ä¸€ä¸ªéšè—å±‚ï¼š$32$ä¸ªæ­¥é•¿ä¸º$4$çš„$8\times 8$filtersï¼Œä»¥åŠä¸€ä¸ªrelu<br>
ç¬¬äºŒä¸ªéšè—å±‚ï¼š$64$ä¸ªæ­¥é•¿ä¸º$2$çš„$8\times 8$filtersï¼Œä»¥åŠä¸€ä¸ªrelu<br>
ç¬¬ä¸‰ä¸ªéšè—å±‚ï¼š$64$ä¸ªæ­¥é•¿ä¸º$1$çš„$8\times 8$filtersï¼Œä»¥åŠä¸€ä¸ªrelu<br>
ç¬¬å››ä¸ªéšè—å±‚ï¼š$512$ä¸ªunits<br>
è¾“å‡ºå±‚ï¼šsoftmaxï¼Œè¾“å‡ºæ¯ä¸ªactionå¯¹åº”çš„$Q$å€¼</p>
<h3 id="ç®—æ³•-v2">ç®—æ³•</h3>
<p>ç®—æ³• 2 deep Q-learning with experience replay, target network<br>
Initialize replay memory D to capacity N<br>
Initialize action-value function Q with random weights $\theta$<br>
Initialize target action-value function $\hat{Q}$ with weights $\theta^{-}=\theta$<br>
for episode = $1, M$ do<br>
$\ \ \ \ \ \ \ \ $Initialize sequence $s_1 = {x_1}$ and preprocessed sequenced $\phi_1 = \phi(s_1)$<br>
$\ \ \ \ \ \ \ \ $for $t = 1,T$ do<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $With probability $\varepsilon$ select a random action $a_t$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $otherwise select $a_t = \max_a Q^{âˆ—}(\phi(s_t), a; Î¸)$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Execute action $a_t$ in emulator and observe reward $r_t$ and image $x_{t+1}$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Set $s_{t+1} = s_t, a_t, x_{t+1}$ and preprocess $\phi_{t+1} = \phi(s_{t+1})$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Store transition $(\phi_t, a_t, r_t, \phi_{t+1})$ in D<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Sample random minibatch of transitions $(\phi_j, a_j, r_j, \phi_{j+1})$ from D<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Set $y_j = \begin{cases}r_j&amp;\ \ \ \ for\ terminal\ \phi_{j+1}\\r_j+\gamma \max_{aâ€™}Q(\phi_{j+1},aâ€™|\theta^{-})&amp;\ \ \ \ for\ non-terminal\ \phi_{j+1}\end{cases}$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Perform a gradient descent step on $(y_j âˆ’ Q(\phi_j, a_j|Î¸))^2$ with respect to the network parameters $\theta$<br>
$\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ $Every $C$ steps reset $\hat{Q} = Q$<br>
$\ \ \ \ \ \ \ \ $end for<br>
end for</p>
<h3 id="experiments-v2">Experiments</h3>
<h4 id="settings-v2">Settings</h4>
<ul>
<li>batch-size: 32</li>
<li>replacy memory size: 1000000 frames</li>
<li>history length: 4</li>
<li>target network update frequency: 10000</li>
<li>discount factor: 0.99</li>
<li>action repeat: 4</li>
<li>paramteter update frequency: 4</li>
<li>learning rate: 0.00025</li>
<li>gradient momentum: 0.95</li>
<li>squared gradient momentum: 0.95</li>
<li>min squared gradient: 0.01</li>
<li>initial exploration: 0.1</li>
<li>final exploration 0.1</li>
<li>final exploration frame: 1000000</li>
<li>replay start size: 50000</li>
<li>no-op max: 30</li>
<li>reward: clipped to [-1, 1]</li>
<li>total train frames: 50 millons frameï¼ˆå®é™…ä¸Šæ˜¯200 millions emulated framesï¼Œå› ä¸ºæœ‰è®¾ç½®ä¸º$4$ frame skipï¼‰ã€‚</li>
<li>é€‰æ‹©randomä½œä¸ºä¸€ä¸ªbaselineï¼Œå› ä¸ºäººç±»çš„æé™æ˜¯$10$hzï¼Œä¸ºäº†å…¬å¹³èµ·è§ï¼Œrandom baselineä»¥$10$hzçš„é¢‘ç‡éšæœºé€‰æ‹©ä¸€ä¸ªactionï¼Œatariè§†é¢‘çš„é¢‘ç‡æ˜¯$60$hzï¼Œæ‰€ä»¥æ¯éš”$6$å¸§ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªactionï¼Œåœ¨é€‰æ‹©actionä¸­é—´çš„å¸§ä¸­ä¿æŒè¿™ä¸€ä¸ªactionã€‚</li>
</ul>
<h4 id="experiments-v3">Experiments</h4>
<ul>
<li>Average scoreå’Œaverage action value<br>
æ¯ä¸ªtraining epochä¹‹åè¿›è¡Œä¸€æ¬¡evaluationï¼Œè®°å½•evaluationè¿‡ç¨‹ä¸­average episode rewardã€‚æ€»å…±train $50$million framesï¼Œå¤§æ¦‚æœ‰$200$ä¸ªepochï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªepochæ˜¯$25$ä¸‡framesï¼Œåœ¨æ¯ä¸ªepochåä½¿ç”¨$\epsilon$-greedy($\epsilon =0.05$)ç­–ç•¥evaluate $520k$ä¸ªframesã€‚</li>
<li>Main-Evaluation: Compartion between DQN and other baselines<br>
Baselinesæœ‰Random play, best linear learnerï¼ŒSARSAï¼ŒHuamnç­‰ã€‚<br>
DQNæ€»å…±è®­ç»ƒäº†$50$ million framesï¼Œreplay bufferå­˜æ”¾æœ€è¿‘çš„$1$ million framemsã€‚åœ¨å®Œæˆè®­ç»ƒåï¼Œè‡³å¤šæ‰§è¡Œ$30$æ¬¡no-opï¼Œäº§ç”Ÿéšæœºåˆå§‹çŠ¶æ€ï¼Œä½¿ç”¨$\epsilon$-greedy($\epsilon=0.05$)ç©$5$åˆ†é’Ÿï¼Œå¯¹å¤šæ¬¡ç»“æœå–å¹³å‡ã€‚<br>
Humançš„æ•°æ®æ˜¯åœ¨ç©å®¶é¦–å…ˆè¿›è¡Œäº†$2$ä¸ªå°æ—¶è®­ç»ƒåï¼Œç„¶åç©å¤§çº¦20 episodesï¼Œæ¯ä¸ªepisodeæœ€é•¿5 minçš„ average rewardã€‚<br>
è¡¨æ ¼ä¸­æœ€åä¸€åˆ—è¿˜ç»™å‡ºäº†ä¸€ä¸ªç™¾åˆ†æ¯”ï¼Œ$100\times \frac{\text{DQN score} - \text{random play score}}{\text{human score} - \text{random play score}}$ã€‚</li>
<li>Replay bufferå’Œtarget networkçš„abalationå®éªŒ<br>
åœ¨ä¸‰ä¸ªä¸åŒçš„learning rateä¸‹ä½¿ç”¨standard hyperparametersè®­ç»ƒDQN $10$ million framesã€‚æ¯éš”$250,000$ training frameså¯¹æ¯ä¸ªagentè¿›è¡Œ$135,000$ framesçš„validationï¼Œè®°å½•æœ€é«˜çš„average episode scoreã€‚ è¿™äº›valuation episodeså¹¶æ²¡æœ‰åœ¨$5$ minçš„æ—¶å€™æˆªæ–­ï¼Œè¿™ä¸ªå®éªŒä¸­Enduroå¾—åˆ°çš„scoreè¦æ¯”main evaluationä¸­é«˜ã€‚è¿™ä¸ªå®éªŒä¸­trainingçš„å¸§æ•°($10$ million frames)è¦æ¯”baselineä¸­trainingçš„frames($50$ million frames)å°‘ã€‚</li>
<li>DQNå’Œlinear function approximatoræ¯”è¾ƒ<br>
é™¤äº†function approximatorç”±CNNå˜æˆlinearçš„ï¼Œå…¶ä»–éƒ½æ²¡æœ‰å˜ã€‚<br>
åœ¨$5$ä¸ªvalidation gamesä¸Šï¼Œæ¯ä¸ªagentåœ¨ä¸‰ä¸ªä¸åŒçš„learning ratesä½¿ç”¨æ ‡å‡†çš„å‚æ•°è®­ç»ƒäº†$10$ million framesã€‚æ¯éš”$250000$ä¸ªtraining frameså¯¹agentè¿›è¡Œ$135,000$ framesçš„validationï¼Œreported æœ€é«˜çš„average episode scoreã€‚ è¿™äº›valuation episodeså¹¶æ²¡æœ‰åœ¨$5$ minçš„æ—¶å€™æˆªæ–­ï¼Œè¿™ä¸ªå®éªŒä¸­Enduroå¾—åˆ°çš„scoreè¦æ¯”main evaluationä¸­é«˜ã€‚è¿™ä¸ªå®éªŒä¸­trainingçš„å¸§æ•°($10$ million frames)è¦æ¯”baselineä¸­trainingçš„frames($50$ million frames)å°‘ã€‚</li>
</ul>
<h2 id="gorila-dqn">Gorila DQN</h2>
<p>è®ºæ–‡åç§°ï¼š<br>
Massively Parallel Methods for Deep Reinforcement Learning<br>
ä¸‹è½½åœ°å€ï¼š<br>
<a href="https://arxiv.org/pdf/1507.04296.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/1507.04296.pdf</a></p>
<h3 id="experiments-v4">Experiments</h3>
<h4 id="settings-v3">Settings</h4>
<ul>
<li>ç½‘ç»œç»“æ„å’Œnature DQNä¸€æ ·ã€‚</li>
<li>ä½¿ç”¨äº†frame-skipï¼Œè®¾ç½®ä¸º$4$ã€‚</li>
<li>Replay memoryæ˜¯$1$M&gt;</li>
</ul>
<h4 id="evaluation">Evaluation</h4>
<p>Evaluationæœ‰ä¸¤ç§ï¼š</p>
<h5 id="null-op-starts">null op starts</h5>
<p>æ¯ä¸ªagentåœ¨å®ƒè®­ç»ƒçš„æ¸¸æˆä¸Ševaluated $30$ä¸ªepisodesï¼Œæ¯ä¸ªepisodeéšæœºçš„è‡³å¤šæ‰§è¡Œ$30$æ¬¡no-opä¹‹åï¼Œè¯„ä¼°$5$minçš„emulatoræ—¶é—´($18000$ frames)ã€‚ç„¶åå–è¿™$100$æ¬¡çš„å¹³å‡å€¼ã€‚</p>
<h5 id="human-starts">human starts</h5>
<p>Human startsæ˜¯ç”¨æ¥è¡¡é‡å®ƒå¯¹äºagentå¯èƒ½æ²¡æœ‰é‡åˆ°è¿‡çš„stateçš„æ³›åŒ–èƒ½åŠ›ã€‚å¯¹äºæ¯ä¸€ä¸ªæ¸¸æˆï¼Œä»ä¸€ä¸ªäººç±»ç©å®¶çš„gameplayä¸­éšæœºå–$100$ä¸ªå¼€å§‹ç‚¹ï¼Œä½¿ç”¨$\epsilon$-greedy policyç©ä¸‰ååˆ†é’Ÿemulatoræ—¶é—´ï¼ˆå³$108000$frames)ã€‚</p>
<h2 id="double-dqn">Double DQN</h2>
<h3 id="dqnä¸­çš„overestimateé—®é¢˜">DQNä¸­çš„overestimateé—®é¢˜</h3>
<p>è§£å†³overestimateé—®é¢˜ï¼ŒQ-learningä¸­åœ¨estimated valuesä¸Šè¿›è¡Œäº†maxæ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´æŸäº›æ›´åçˆ±overestimated valueè€Œä¸æ˜¯underestimated valuesã€‚<br>
æœ¬æ–‡å°†Double Q-learningçš„æƒ³æ³•æ¨å¹¿åˆ°äº†dqnä¸Šå½¢æˆäº†double-dqnã€‚å®éªŒç»“æœè¡¨æ˜äº†overestimated valueå¯¹äºpolicyæœ‰å½±å“ï¼Œdouble ä¼šäº§ç”Ÿå¥½çš„action valueï¼ŒåŒæ—¶åœ¨ä¸€äº›æ¸¸æˆä¸Šä¼šå¾—åˆ°æ›´é«˜çš„scoresã€‚</p>
<h3 id="contributions">Contributions</h3>
<ol>
<li>è§£é‡Šäº†åœ¨large scale é—®é¢˜ä¸Šï¼ŒQ-learningè¢«overoptimisticçš„åŸå› æ˜¯å­¦ä¹ å›ºæœ‰çš„estimation errorsã€‚</li>
<li>overestimationåœ¨å®è·µä¸­æ˜¯å¾ˆå¸¸è§ï¼Œä¹Ÿå¾ˆä¸¥é‡çš„ã€‚</li>
<li>Double Q-learningå¯ä»¥å‡å°‘overoptimism</li>
<li>æå‡ºäº†double-dqnã€‚</li>
<li>double-dqnåœ¨æŸäº›æ¸¸æˆä¸Šå¯ä»¥æ‰¾åˆ°æ›´å¥½çš„policyã€‚</li>
</ol>
<h3 id="double-q-learning">Double Q-learning</h3>
<p>Q-learningç®—æ³•è®¡ç®—target value $y$çš„å…¬å¼å¦‚ä¸‹ï¼š<br>
$$y = r + \gamma \max_aâ€™ Q(sâ€™, aâ€™|\theta_t)\tag{4}$$<br>
åœ¨è®¡ç®—target valueçš„æ—¶å€™ï¼Œä½¿ç”¨åŒä¸€ä¸ªç½‘ç»œé€‰æ‹©å’Œè¯„ä¼°action $aâ€™$ï¼Œè¿™å¯èƒ½ä¼šè®©ç½‘ç»œé€‰æ‹©ä¸€ä¸ªoverestimated valueï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªoveroptimistic value estimateã€‚æ‰€æœ‰å°±æœ‰äº†double Q-learningï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š<br>
$$y = r + \gamma Q(sâ€™, \arg\max_aâ€™ Q(sâ€™,a;\theta_t);\thetaâ€™_t)\tag{5}$$<br>
target policyè¿˜æ˜¯greedy policyï¼Œé€šè¿‡ä½¿ç”¨$\theta$å¯¹åº”çš„ç½‘ç»œé€‰æ‹©actionï¼Œç„¶ååœ¨è®¡ç®—target valueçš„æ—¶å€™ä½¿ç”¨$\thetaâ€™$å¯¹åº”çš„ç½‘ç»œã€‚<br>
åŸæœ‰çš„å…¬å¼å¯ä»¥å†™æˆä¸‹å¼ï¼Œ<br>
$$y = r + \gamma Q(sâ€™, \arg\max_aâ€™ Q(sâ€™,a;\theta_t);\theta_t)\tag{6}$$<br>
å³é€‰æ‹©actionå’Œè®¡ç®—target valueéƒ½æ˜¯ä½¿ç”¨çš„åŒä¸€ä¸ªç½‘ç»œã€‚</p>
<h3 id="double-dqn-v2">Double DQN</h3>
<p><img src="/2019/03/02/dqn/double-dqn.png" alt="double-dqn"><br>
Double Q-learnignçš„åšæ³•æ˜¯åˆ†è§£target actionä¸­çš„max opearationä¸ºé€‰æ‹©å’Œevaluationã€‚è€Œåœ¨Nature-dqnä¸­ï¼Œæå‡ºäº†target networkï¼Œæ‰€ä»¥åˆ†åˆ«ä½¿ç”¨networkå’Œtarget networkå»é€‰æ‹©å’Œevaluation actionæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ï¼Œè¿™æ ·å­å…¬å¼å°±å˜æˆäº†<br>
$$y = r + \gamma Q(sâ€™, \arg\max_aâ€™ Q(sâ€™,a;\theta_t);\theta^{-}_t)\tag{7}$$<br>
å’ŒQ-learnignç›¸æ¯”ï¼Œå°†$\thetaâ€™$æ¢æˆäº†$\theta^{-}$ evaluate actionï¼Œtarget networkçš„æ›´æ–°å’Œnature-dqnä¸€æ ·ï¼Œè¿‡ä¸€æ®µæ—¶é—´å¤åˆ¶networkçš„å‚æ•°ã€‚</p>
<h3 id="double-q-learning-vs-q-learning">Double Q learning vs Q-learning</h3>
<p>å¯ä»¥åœ¨æ•°å­¦ä¸Šè¯æ˜ï¼ŒQ-learningæ˜¯overestimationçš„ï¼Œä½†æ˜¯double q leraingæ˜¯æ— åçš„ã€‚ã€‚ã€‚è¯æ˜ç•™å¾…ä»¥åå†è¯´ã€‚<br>
<todo></todo></p>
<h3 id="ç½‘ç»œç»“æ„-v3">ç½‘ç»œç»“æ„</h3>
<p>ç½‘ç»œç»“æ„å’Œnature DQNä¸€æ ·ã€‚</p>
<h3 id="ç®—æ³•-v3">ç®—æ³•</h3>
<p>ç®—æ³• 3: Double DQN Algorithm.<br>
è¾“å…¥: replay buffer $D$, åˆå§‹networkå‚æ•°$\theta$,target networkå‚æ•°$\theta^{-}$<br>
è¾“å…¥ : replay bufferçš„å¤§å°$N_r$, batch size $N_b$, target networkæ›´æ–°é¢‘ç‡$N^{-}$<br>
<strong>for</strong> episode $e \in {1, 2,\cdots, M}$ do<br>
$\qquad$åˆå§‹åŒ–frame sequence $\mathbf{x} \leftarrow ()$<br>
$\qquad$<strong>for</strong> $t \in {0, 1, \cdots}$ do<br>
$\qquad\qquad$è®¾ç½®state $s \leftarrow \mathbf{x}$, é‡‡æ · action $a \sim\pi_B$<br>
$\qquad\qquad$ç»™å®š$(s, a)$ï¼Œä»ç¯å¢ƒ$E$ä¸­é‡‡æ ·æ¥ä¸‹æ¥çš„frame $x_t$,æ¥æ”¶reward $r$,åœ¨åºåˆ—$\mathbf{x}$ä¸Šæ‹¼æ¥$x$<br>
$\qquad\qquad$<strong>if</strong> $|\mathbf{x}| \gt N_f$<br>
$\qquad\qquad$<strong>then</strong><br>
$\qquad\qquad\qquad$ä»$\mathbf{x}$ä¸­åˆ é™¤æœ€è€çš„frame $x_{t_min}$<br>
$\qquad\qquad$è®¾ç½®$sâ€™ \leftarrow \mathbf{x}$,æ·»åŠ transition tuple (s, a, r, s 0 ) åˆ°buffer Dä¸­ï¼Œå¦‚æœ$|D| \ge N_r$æ›¿æ¢æœ€è€çš„tuple<br>
$\qquad\qquad$é‡‡æ ·$N_b$ä¸ªtuples $(s, a, r, sâ€™) \sim Unif(D)$<br>
$\qquad\qquad$è®¡ç®—target values, one for each of $N_b$ tuples:<br>
$\qquad\qquad$å®šä¹‰$a^{\max}(sâ€™; \theta) = \arg \max_{aâ€™} Q(sâ€™, aâ€™;\theta)$<br>
$\qquad\qquad y_j = \begin{cases}r&amp;\qquad if\ \ sâ€™\ \ is\ \ terminal\\ r+\gamma Q(sâ€™, a^{\max}(sâ€™;\theta);\theta^{-}, &amp;\qquad otherwise\end{cases}$<br>
$\qquad\qquad$åˆ©ç”¨loss $||y_j âˆ’ Q(s, a; \theta)||^2$çš„æ¢¯åº¦æ›´æ–°<br>
$\qquad\qquad$æ¯éš”$N^{-}$ä¸ªæ­¥éª¤æ›´æ–°ä¸€ä¸‹target network å‚æ•°$\theta^{-}$<br>
$\qquad$<strong>end</strong><br>
<strong>end</strong></p>
<h3 id="experiments-v5">Experiments</h3>
<h4 id="settings-v4">Settings</h4>
<p>Tunned Double DQNï¼Œupdate frequencyä»$10000$æ”¹æˆäº†$30000$ï¼Œè®­ç»ƒæ—¶$\epsilon$åœ¨$1$ millonå†…ä»$0.1$é€€ç«åˆ°$0.01$ã€‚Evaluationæ—¶æ˜¯$0.001$ã€‚</p>
<h4 id="evaluation-v2">Evaluation</h4>
<p>å’ŒGorila DQNä¸€æ ·ï¼Œç”¨äº†ä¸¤ç§ï¼šno-opå’Œhuman startsã€‚</p>
<h4 id="training">Training</h4>
<p>åœ¨æ¯ä¸ªæ¸¸æˆä¸Šï¼Œç½‘ç»œéƒ½è®­ç»ƒäº†$200$M framesï¼Œä¹Ÿå°±æ˜¯$50$M stepsã€‚æ¯éš”$1$M stepè¿›è¡Œä¸€æ¬¡evaluationï¼Œä»evaluationsä¸­é€‰å‡ºæœ€å¥½çš„policyä½œä¸ºè¾“å‡ºã€‚</p>
<h4 id="metric">Metric</h4>
<p>æå‡ºäº†ä¸€ä¸ªæŒ‡æ ‡ï¼Œnormalized scoreï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š<br>
$$score_{normalized} = \frac{score_{agent}- score_{random}}{score_{human}-score_{random}}\tag{8}$$<br>
åˆ†æ¯æ˜¯humanå’Œrandomä¹‹å·®ï¼Œå¯¹åº”$100%$ã€‚</p>
<h2 id="prioritized-dqn-per">Prioritized DQN(PER)</h2>
<h3 id="contributions-v2">contributions</h3>
<p>æœ¬æ–‡æå‡ºä¸€ç§äº†proritizing experienceçš„æ¡†æ¶ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¤šæ¬¡ä½¿ç”¨é‡è¦çš„transtions replayè¿›è¡Œæ›´æ–°ï¼Œè®©è®­ç»ƒå˜å¾—çš„æ›´æœ‰æ•ˆç‡ã€‚<br>
ä½¿ç”¨TD-errorsä½œä¸ºprioritization mechanismï¼Œç»™å‡ºäº†ä¸¤ç§protitizationè®¡ç®—æ–¹å¼ï¼Œæå‡ºäº†ä¸€ç§stochastic prioritizationä»¥åŠimportance samplingæ–¹æ³•ã€‚</p>
<h3 id="prioritized-replay">Prioritized replay</h3>
<p>å¯ä»¥ä»ä¸¤ä¸ªç»´åº¦ä¸Šè€ƒè™‘replay memeoryçš„æ”¹è¿›ï¼Œä¸€ä¸ªæ˜¯å­˜å“ªäº›experiencesï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨å“ªäº›experiencesè¿›è¡Œå›æ”¾ã€‚æœ¬æ–‡æ˜¯ä»ç¬¬äºŒä¸ªæ–¹å‘ä¸Šè¿›è¡Œçš„è€ƒè™‘ã€‚</p>
<p>ä»bufferä¸­éšæœºæŠ½æ ·çš„æ–¹æ³•ä¸­ï¼Œupdate stepså’Œmemory sizeæ˜¯çº¿æ€§å…³ç³»ï¼Œä½œè€…æƒ³æ‰¾ä¸€ä¸ªupdate stepså’Œmemory sizeæ˜¯logå…³ç³»çš„oracleï¼Œä½†æ˜¯å¾ˆé—æ†¾ï¼Œè¿™æ˜¯ä¸ç°å®çš„ï¼Œæ‰€ä»¥ä½œè€…æƒ³è¦æ‰¾ä¸€ç§æ¯”uniform random replayå¥½å°½é‡æ¥è¿‘oracleçš„æ–¹æ³•ã€‚</p>
<h4 id="prioritizion-with-td-error">Prioritizion with TD-error</h4>
<p>prioritized replayæœ€é‡è¦çš„éƒ¨åˆ†æ˜¯å¦‚ä½•è¯„ä»·æ¯ä¸€ä¸ªtransitionçš„é‡è¦ç¨‹åº¦ã€‚ä¸€ä¸ªç†æƒ³çš„criterionæ˜¯agentåœ¨å½“å‰çš„stateå¯ä»¥ä»æŸä¸ªtransitionä¸­å­¦åˆ°å¤šå°‘ã€‚è¿™ä¸ªmeasure metricæ˜¯ä¸ç¡®å®šçš„ï¼Œä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆæ˜¯ä½¿ç”¨TD error $\delta$ï¼Œè¡¨ç¤ºhow â€˜suprisingâ€™ æˆ–è€…upexpected the transitionï¼šå°±æ˜¯å½“å‰çš„valueç¦»next-step bootstrapå¾—åˆ°çš„valueç›¸å·®å¤šå°‘ï¼Œbooststrapå°±æ˜¯åŸºäºå…¶ä»–ä¼°è®¡å€¼è¿›è¡Œè®¡ç®—ã€‚ã€‚è¿™ä¸­æ–¹æ³•å¯¹äºincremental,online RLæ–¹æ³•ï¼Œä¾‹å¦‚SARSAä»¥åŠQ-learningæ¥è¯´éƒ½æ˜¯å¾ˆåˆé€‚çš„ï¼Œå› ä¸ºä»–ä»¬ä¼šè®¡ç®—TD-errorï¼Œç„¶åç»™TD-errorä¸€ä¸ªæ¯”ä¾‹ç³»æ•°ç”¨æ¥æ›´æ–°å‚æ•°ã€‚ç„¶åå½“rewardæ˜¯noisyçš„æ—¶å€™ï¼ŒTD-erroræ•ˆæœå¯èƒ½å¾ˆå·®ã€‚<br>
ä½œè€…åœ¨ä¸€ä¸ªäººå·¥è®¾è®¡çš„ç¯å¢ƒä¸­ä½¿ç”¨äº†greedy TD-error prioritizationç®—æ³•ï¼Œç®—æ³•åœ¨æ¯æ¬¡å­˜transitionåˆ°replay bufferçš„æ—¶å€™ï¼ŒåŒæ—¶è¿˜ä¼šå­˜ä¸€ä¸‹è¯¥transitionæœ€æ–°çš„TD-errorï¼Œç„¶ååœ¨æ›´æ–°çš„æ—¶å€™ä»memoryä¸­é€‰æ‹©TD-erroræœ€å¤§çš„transitionã€‚æœ€æ–°çš„transition TD-erroræ²¡æœ‰ç®—å‡ºæ¥ï¼Œå°±ç»™å®ƒä¸€ä¸ªæœ€å¤§çš„priorityï¼Œä¿è¯æ‰€æœ‰çš„experienceéƒ½è‡³å°‘è¢«çœ‹åˆ°è¿‡ä¸€æ¬¡ã€‚<br>
é‡‡ç”¨äºŒå‰å †ç”¨å®ç°ä¼˜å…ˆé˜Ÿåˆ—ï¼ŒæŸ¥æ‰¾å¤æ‚åº¦æ˜¯$O(1)$ï¼Œæ›´æ–°prioritiesçš„å¤æ‚åº¦æ˜¯$O(logN)$ã€‚</p>
<h4 id="stochastic-prioritization">Stochastic prioritization</h4>
<p>ä¸Šè¿°æ–¹æ³•æœ‰å¾ˆå¤šé—®é¢˜ã€‚ç¬¬ä¸€ï¼Œæ¯æ¬¡éƒ½sweepæ•´ä¸ªreplay memoryçš„è®¡ç®—é‡å¾ˆå¤§ï¼Œæ‰€ä»¥åªæœ‰è¢«replayedçš„experiencesçš„TD-errorsæ‰ä¼šè¢«æ›´æ–°ã€‚å¼€å§‹æ—¶ä¸€ä¸ªTD errorå¾ˆå°çš„transitionå¯èƒ½å¾ˆé•¿ä¸€æ®µäº‹ä»¶ä¸ä¼šè¢«replayedï¼Œè¿™å°±å¯¼è‡´äº†replay bufferçš„sliding windowä¸èµ·ä½œç”¨äº†ã€‚ç¬¬äºŒï¼ŒTD-errorå¯¹äºnoise spikeå¾ˆæ•æ„Ÿï¼Œè¿˜ä¼šè¢«bootstrapåŠ å‰§ï¼Œä¼°è®¡è¯¯å·®å¯èƒ½ä¼šæ˜¯å¦ä¸€ä¸ªnoiseã€‚ç¬¬ä¸‰ï¼Œgreedy prioritizationé›†ä¸­åœ¨experiencesçš„ä¸€ä¸ªsubsetï¼šerrorså‡å°çš„å¾ˆæ…¢ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨function appriximationæ—¶ï¼Œè¿™å°±æ„å‘³ç€åˆå§‹çš„é«˜errorçš„transitionsä¼šè¢«replayedçš„å¾ˆé¢‘ç¹ï¼Œç„¶åä¼šover-fittingå› ä¸ºç¼ºä¹diversityã€‚<br>
ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œå¼•å…¥äº†ä¸€ä¸ªä»‹äºpure greedy prioritizaitonä»¥åŠuniform random samplingä¹‹é—´çš„stochasticé‡‡æ ·æ–¹æ³•ï¼Œpriorityé«˜çš„transitionæœ‰æ›´å¤§çš„æ¦‚ç‡è¢«é‡‡æ ·ï¼Œè€Œlowest-priorityçš„transitionä¹Ÿæœ‰æ¦‚ç‡è¢«é€‰ä¸­ï¼Œå…·ä½“çš„å®šä¹‰transition $i$çš„æ¦‚ç‡å¦‚ä¸‹ï¼š<br>
$$P(i) = \frac{p_i^{\alpha}}{\sum_kp_k^{\alpha}}\tag{9}$$<br>
$\alpha$ç¡®å®šprioritizaitonçš„æ¯”é‡ï¼Œå¦‚æœ$\alpha=0$å°±æ˜¯unifromã€‚</p>
<p>æœ‰ä¸¤ç§$p_i$çš„è®¡ç®—æ–¹æ³•ï¼Œä¸€ç§æ˜¯ç›´æ¥çš„proportional prioritizationï¼Œ$p_i = |\delta_i| + \varepsilon$ï¼Œå…¶ä¸­$\varepsilon$æ˜¯ä¸€ä¸ªå°çš„æ­£æ•´æ•°ï¼Œç¡®å®šå½“$p_i=0$æ—¶ï¼Œè¯¥transitionä»èƒ½è¢«replayï¼›ç¬¬äºŒç§æ˜¯é—´æ¥çš„ï¼Œ$p_i = \frac{1}{rank(i)}$ï¼Œå…¶ä¸­$rank(i)$æ˜¯æ‰€æœ‰replay memoryä¸­çš„experiencesæ ¹æ®$|\delta_i|$æ’åºåçš„rankã€‚ç¬¬äºŒç§æ–¹æ³•çš„é²æ£’æ€§æ›´å¥½ã€‚<br>
åœ¨å®ç°ä¸Šï¼Œä¸¤ç§æ–¹æ³•éƒ½æœ‰ç›¸åº”çš„trickï¼Œè®©å¤æ‚åº¦ä¸ä¾èµ–äºmemory å¤§å°$N$ã€‚Proportional prioritizationé‡‡ç”¨äº†â€™sum-treeâ€™æ•°æ®ç»“æ„ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å®ƒçš„å­èŠ‚ç‚¹çš„childrenï¼Œprioritiesæ˜¯leaf nodesã€‚è€Œrank-basedæ–¹æ³•ï¼Œä½¿ç”¨çº¿æ€§å‡½æ•°ä¼°è®¡ç´¯è®¡å¯†åº¦å‡½æ•°ï¼Œå…·ä½“æ€ä¹ˆå®ç°æ²¡æœ‰ç»†çœ‹ã€‚</p>
<h4 id="annealing-the-bias">annealing the bias</h4>
<p>å› ä¸ºrandom sampleæ–¹æ³•ï¼Œsamplesä¹‹é—´æ²¡æœ‰ä¸€ç‚¹è”ç³»ï¼Œé€‰æ‹©æ¯ä¸€ä¸ªsampleçš„æ¦‚ç‡éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œä½†æ˜¯å¦‚æœåŠ ä¸Šäº†priorityï¼Œå°±æœ‰ä¸€ä¸ªbias towardé«˜priorityçš„samplesã€‚ISå’Œprioritized replayçš„ç»„åˆåœ¨non-learn FAä¸­æœ‰ä¸€ä¸ªç”¨å¤„ï¼Œlarge stepså¯èƒ½ä¼šäº§ç”Ÿä¸å¥½çš„å½±å“ï¼Œå› ä¸ºæ¢¯åº¦ä¿¡æ¯å¯èƒ½æ˜¯å±€éƒ¨reliableï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ä¸€ä¸ªå°ç‚¹çš„step-sizeã€‚<br>
åœ¨æœ¬æ–‡ä¸­ï¼Œhigh-errorçš„æ ·æœ¬å¯èƒ½ä¼šè§‚æµ‹åˆ°å¾ˆå¤šæ¬¡ï¼Œä½¿ç”¨ISå‡å°gradientçš„å¤§å°ï¼Œå¯¹åº”äºé«˜priorityçš„samplesçš„weightè¢«å¾®è°ƒäº†ä¸€ä¸‹ï¼Œè€Œå¯¹åº”äºä½priorityçš„æ ·æœ¬åŸºæœ¬ä¸å˜ã€‚<br>
weigthçš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š<br>
$$w_i = (\frac{1}{N}\cdot \frac{1}{P(i)})^{\beta}\tag{10}$$<br>
OK,è¿™é‡ŒISçš„ä½œç”¨æœ‰äº›ä¸æ˜ç™½ã€‚ã€‚ã€‚ã€‚<todo></todo></p>
<h3 id="ç®—æ³•-v4">ç®—æ³•</h3>
<p>ç®—æ³• 4<br>
è¾“å…¥: minibatch $k$, å­¦ä¹ ç‡ï¼ˆæ­¥é•¿ï¼‰$\eta$, replay period $K$ and size $N$ , exponents $\alpha$ and $\beta$, budget $T$.<br>
åˆå§‹åŒ–replay memory $H = \emptyset, \Delta = 0, p_1 = 1$<br>
æ ¹æ®$S_0$é€‰æ‹© $A_0 \sim \pi_{\theta}|(S_0)$<br>
<strong>for</strong> $t = 1,\cdots, T$ do<br>
$\qquad$è§‚æµ‹$S_t, R_t, \gamma_t$<br>
$\qquad$å­˜å‚¨transition $(S_{tâˆ’1}, A_{tâˆ’1}, R_t , \gamma_t, S_t)$ åˆ°replay memoryï¼Œä»¥åŠ$p_t$çš„æœ€å¤§priority $p_t = \max {i\lt t} p_i$<br>
$\qquad$<strong>if</strong> $t â‰¡ 0$ mod $K$ then<br>
$\qquad\qquad$<strong>for</strong> j = 1 to k do<br>
$\qquad\qquad\qquad$Sample transition $j \sim P(j) = \frac{p_j^{\alpha}}{\sum_i p_i^{\alpha}}$<br>
$\qquad\qquad\qquad$è®¡ç®—importance-sampling weight $w_j = \frac{(N \cdot P(j))^{\beta}}{\max_i w_i}$<br>
$\qquad\qquad\qquad$è®¡ç®—TD-error $\delta_j = R_j + \gamma_j Q_{target} (S_j$, $arg \max_a Q(S_j, a)) âˆ’ Q(S_{jâˆ’1} , A\ {jâˆ’1})$<br>
$\qquad\qquad\qquad$æ›´æ–°transitionçš„priority $p_j \leftarrow |\delta_j|$<br>
$\qquad\qquad\qquad$ç´¯è®¡weight-change $\Delta \leftarrow \Delta + w_j \cdot \delta_j \cdot \nabla_{\theta} Q(S_{jâˆ’1}, A_{jâˆ’1})$<br>
$\qquad\qquad$<strong>end for</strong><br>
$\qquad\qquad$æ›´æ–°weights $\theta\leftarrow \theta+ \eta\cdot\Delta$, é‡ç½®$\Delta = 0$<br>
$\qquad\qquad$æ¯éš”ä¸€æ®µæ—¶é—´æ›´æ–°target network $\theta_{target} \leftarrow \theta$<br>
$\qquad$<strong>end if</strong><br>
$\qquad$é€‰æ‹©action $A_t \sim \pi_{\theta}(S_t)$<br>
<strong>end for</strong></p>
<h3 id="experiments-v6">Experiments</h3>
<p>ä¸¤ç»„å®éªŒï¼Œ<br>
ä¸€ç»„æ˜¯DQNå’Œproportional prioritizationä½œæ¯”è¾ƒã€‚<br>
ä¸€ç»„æ˜¯tuned Double DQNå’Œrank-basedä»¥åŠproportional prioritizaitonã€‚</p>
<h4 id="metrics-v2">Metrics</h4>
<p>ç”¨çš„æ˜¯double dqnæå‡ºæ¥çš„nomalized scoreï¼Œè¿™é‡Œåœ¨åˆ†æ¯ä¸ŠåŠ äº†ç»å¯¹å€¼ã€‚<br>
ä¸»è¦ç”¨çš„median scoreså’Œmean scoresã€‚</p>
<h2 id="dueling-dqn">Dueling DQN</h2>
<h3 id="ä»‹ç»">ä»‹ç»</h3>
<p>æœ¬æ–‡ä½œè€…æå‡ºæ¥å°†duelingç½‘ç»œæ¡†æ¶åº”ç”¨åœ¨model-freeç®—æ³•ä¸Šã€‚The dueling architectureèƒ½ç”¨ä¸€ä¸ªdeep modelåŒæ—¶è¡¨ç¤º$V(s)$å’Œä¼˜åŠ¿å‡½æ•°$A(s,a)$ï¼Œç½‘ç»œçš„è¾“å‡ºå°†$V$å’Œ$A$ç»“åˆäº§ç”Ÿ$Q(s,a)$ã€‚å’Œadvantageä¸ä¸€æ ·çš„æ˜¯ï¼Œè¿™ç§æ–¹å¼åœ¨æ„å»ºæ—¶å°±å°†ä»–ä»¬è¿›è¡Œäº†è§£è€¦ï¼Œå› æ­¤ï¼Œdueling architectureå¯ä»¥åº”ç”¨åœ¨å„ç§å„æ ·çš„model free RLç®—æ³•ä¸Šã€‚<br>
æœ¬æ–‡çš„æ¶æ„æ˜¯å¯¹ç®—æ³•åˆ›æ–°çš„è¡¥å……ï¼Œå®ƒå¯ä»¥å¯¹ä¹‹å‰å·²æœ‰çš„å„ç§DQNç®—æ³•è¿›è¡Œç»“åˆã€‚</p>
<h3 id="dueling-network-architecture">dueling network architecture</h3>
<p>è¿™ä¸ªæ–°çš„architectureçš„æ ¸å¿ƒæƒ³æ³•æ˜¯ï¼Œæ²¡æœ‰å¿…è¦ä¼°è®¡æ‰€æœ‰statesçš„action valueã€‚åœ¨ä¸€äº›statesï¼Œéœ€è¦action valueå»ç¡®å®šæ‰§è¡Œå“ªä¸ªactionï¼Œä½†æ˜¯åœ¨è®¸å¤šå…¶ä»–statesï¼Œaction valueså¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ã€‚å½“ç„¶ï¼Œå¯¹äºbootstrapç®—æ³•æ¥è¯´ï¼Œæ¯ä¸€ä¸ªstateçš„value estimationéƒ½å¾ˆé‡è¦ã€‚<br>
<img src="/2019/03/02/dqn/deuling-dqn.png" alt="dueling-dqn"><br>
ä½œè€…ç»™å‡ºäº†ä¸€ä¸ªsingle Q-networkçš„architectureï¼Œå¦‚å›¾æ‰€ç¤ºã€‚<br>
ç½‘ç»œç»“æ„å’Œnature-dqnä¸€æ ·ï¼Œä½†æ˜¯è¿™é‡ŒåŠ äº†ä¸¤ä¸ªfully connected layersï¼Œä¸€ä¸ªç”¨äºè¾“å‡º$V$ï¼Œä¸€ä¸ªç”¨äºè¾“å‡º$A$ã€‚ç„¶å$A$å’Œ$V$ç»“åˆåœ¨ä¸€èµ·ï¼Œäº§ç”Ÿ$Q$ï¼Œç½‘ç»œçš„è¾“å‡ºå’Œnature dqnä¸€æ ·ï¼Œå¯¹åº”äºæŸä¸ªstateçš„ä¸€ç³»åˆ—action valueã€‚<br>
ä»$Q$å‡½æ•°çš„å®šä¹‰$Q^{\pi}(s,a) = V^{\pi}(s)+A^{\pi}(s,a)$ä»¥åŠ$Q$å’Œ$V$ä¹‹é—´çš„å…³ç³»$V^{\pi}(s) = \mathbb{E}_{a\sim\pi(s)}\left[Q^{\pi}(s,a)\right] = \pi(a|s)Q^{\pi}(s,a)$ï¼Œæ‰€ä»¥æœ‰$\mathbb{E}_{a\sim\pi(s)}\left[A^{\pi}(s,a)\right]=0$ã€‚æ­¤å¤–ï¼Œå¯¹äºdeterministic policyï¼Œ$a^{*} = \arg \max_{aâ€™\in A}Q(s,aâ€™)$ï¼Œæœ‰$V(s) = Q(s,a^{*})$ï¼Œå³$A(s,a^{*}) = 0$ã€‚<br>
å¦‚å›¾æ‰€ç¤ºçš„networkä¸­ï¼Œä¸€ä¸ªç½‘ç»œè¾“å‡ºscalar $V(s;\theta, \beta)$ï¼Œä¸€ä¸ªç½‘ç»œè¾“å‡ºä¸€ä¸ª$|A|$ç»´çš„vector $A(s,a;\theta, \alpha)$ï¼Œå…¶ä¸­$\theta$æ˜¯ç½‘ç»œå‚æ•°ï¼Œ$\alpha$å’Œ$\beta$æ˜¯ä¸¤ä¸ªå…¨è¿æ¥å±‚çš„å‚æ•°ã€‚<br>
æ ¹æ®advantageçš„å®šä¹‰ï¼Œå¯ä»¥ç›´æ¥å°†ä»–ä»¬åŠ èµ·æ¥ï¼Œå³ï¼š<br>
$$Q(s,a;\theta, \alpha, \beta) = V(s;\theta, \beta) + A(s,a;\theta, \alpha) \tag{11}$$<br>
ä½†æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“çš„ä¸€ç‚¹æ˜¯ï¼Œ$Q(s, a;\theta, \alpha, \beta)$ä»…ä»…æ˜¯$Q$çš„ä¸€ä¸ªå‚æ•°åŒ–ä¼°è®¡ã€‚å®ƒç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¸€éƒ¨åˆ†æ˜¯$V$ï¼Œä¸€éƒ¨åˆ†æ˜¯$A$ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„$V$å’Œ$Q$åªæ˜¯æˆ‘ä»¬å«å®ƒ$V$å’Œ$A$ï¼Œå®ƒçš„å®é™…æ„ä¹‰å¹¶ä¸æ˜¯$V$å’Œ$A$ã€‚ç»™äº†$Q$ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»»æ„çš„$Q(s, a) = V(s) + A(s,a)$ï¼Œè€Œ$V$å’Œ$Q$å¹¶ä¸ä»£è¡¨value functionå’Œadvantage functinoã€‚<br>
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½œè€…æå‡ºäº†é€‰æ‹©è®©advantageä¸º$0$çš„actionï¼Œå³ï¼š<br>
$$Q(s, a; \theta,\alpha, \beta) = V(s; \theta, \beta) + \left(A(s,a;\theta,\alpha) - \max_{aâ€™\in |A|}A(s, aâ€™; \theta, \alpha)\right)\tag{12}$$<br>
é€‰æ‹©$a^{*} = \arg \max_{aâ€™\in A} Q(s, aâ€™; \theta, \alpha, \beta) = \arg \max_{aâ€™\in A}A(s, aâ€™;\theta, \alpha)$ï¼Œæˆ‘ä»¬å¾—åˆ°$Q(s,a^{*}; \theta, \alpha,\beta) = V(s;\theta, \beta)$ã€‚è¿™ä¸ªæ—¶å€™ï¼Œè¾“å‡º$V$çš„ç½‘ç»œç»™å‡ºçš„çœŸçš„æ˜¯state valueçš„ä¼°è®¡$V(s;\theta, \beta)$ï¼Œå¦ä¸€ä¸ªç½‘ç»œçœŸçš„ç»™å‡ºçš„æ˜¯advantageçš„ä¼°è®¡ã€‚<br>
å¦ä¸€ç§æ–¹æ³•æ˜¯ç”¨meanå–ä»£maxæ“ä½œï¼š<br>
$$Q(s, a; \theta,\alpha, \beta) = V(s; \theta, \beta) + \left(A(s,a;\theta,\alpha)- \frac{1}{|A|}\sum_{aâ€™}A(s, aâ€™; \theta, \alpha)\right)\tag{13}$$<br>
ä¸€æ–¹é¢è¿™ç§æ–¹æ³•å¤±å»äº†$V$å’Œ$A$çš„åŸå§‹è¯­ä¹‰ï¼Œå› ä¸ºå®ƒä»¬æœ‰ä¸€ä¸ªå¸¸æ•°çš„off-targetï¼Œä½†æ˜¯å¦ä¸€æ–¹é¢å®ƒå¢åŠ äº†ä¼˜åŒ–çš„ç¨³å®šæ€§ï¼Œå› ä¸ºä¸Šå¼ä¸­advantageçš„æ”¹å˜åªéœ€è¦å’Œmeanä¿æŒä¸€è‡´å³å¯ï¼Œä¸éœ€è¦optimal actionâ€™s advantangeä¸€æœ‰å˜åŒ–å°±è¦æ”¹å˜ã€‚</p>
<h3 id="ç®—æ³•-v5">ç®—æ³•</h3>
<h2 id="distributed-dqn">Distributed DQN</h2>
<h2 id="noisy-dqn">Noisy DQN</h2>
<h3 id="ä»‹ç»-v2">ä»‹ç»</h3>
<p>å·²æœ‰æ–¹æ³•çš„explorationéƒ½æ˜¯é€šè¿‡agent policyçš„random perturbationsï¼Œæ¯”å¦‚å¸¸è§çš„$\varepsilon$-greedyç­‰æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¸èƒ½æ‰¾å‡ºç¯å¢ƒä¸­efficient explorationçš„behavioural patternsã€‚å¸¸è§çš„æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§:<br>
ç¬¬ä¸€ç§æ–¹æ³•æ˜¯optimism in the face of uncertaintyï¼Œç†è®ºä¸Šè¯æ˜å¯è¡Œï¼Œä½†æ˜¯é€šå¸¸åº”ç”¨åœ¨state-action spaceså¾ˆå°çš„æƒ…å†µä¸‹æˆ–è€…linear FAï¼Œå¾ˆéš¾å¤„ç†non-linearn FAï¼Œè€Œä¸”non-linearæƒ…å†µä¸‹æ”¶æ•›æ€§æ²¡æœ‰ä¿è¯ã€‚<br>
å¦ä¸€ç§æ–¹æ³•æ˜¯æ·»åŠ é¢å¤–çš„intrinsic motivation termï¼Œè¯¥æ–¹æ³•çš„é—®é¢˜æ˜¯å°†ç®—æ³•çš„generalisation mechanismå’Œexplorationåˆ†å‰²å¼€ï¼Œå³æœ‰instrinsic rewardå’Œenvironment rewardï¼Œå®ƒä»¬çš„æ¯”ä¾‹å¦‚ä½•å»è®¾ç½®ï¼Œéœ€è¦è®¤ä¸ºæŒ‡å®šã€‚å¦‚æœä¸ä»”ç»†è°ƒæ•´ï¼Œoptimal policyå¯èƒ½ä¼šå—intrinsic rewardå½±å“å¾ˆå¤§ã€‚æ­¤å¤–ä¸ºäº†å¢åŠ explorationçš„é²é‚¦æ€§ï¼Œæ‰°åŠ¨é¡¹ä»ç„¶æ˜¯éœ€è¦çš„ã€‚è¿™äº›ç®—æ³•å¾ˆå…·ä½“ä¹Ÿèƒ½åº”ç”¨åœ¨å‚æ•°åŒ–policyä¸Šï¼Œä½†æ˜¯å¾ˆä½æ•ˆï¼Œè€Œä¸”éœ€è¦å¾ˆå¤šæ¬¡policy evaluationã€‚<br>
æœ¬æ–‡æå‡ºNoisyNetå­¦ä¹ ç½‘ç»œå‚æ•°çš„perturbationsï¼Œä¸»è¦æƒ³æ³•æ˜¯å‚æ•°çš„ä¸€ç‚¹æ”¹å˜å¯èƒ½ä¼šå¯¼è‡´policyåœ¨å¾ˆå¤šä¸ªtimstepsä¸Šçš„consistentï¼Œcomplex, state-dependentçš„å˜åŒ–ï¼Œè€Œå¦‚$\varepsilon$-greedyçš„ditheringç®—æ³•ä¸­ï¼Œæ¯ä¸€æ­¥æ·»åŠ åˆ°policyä¸Šçš„noiseéƒ½æ˜¯ä¸ç›¸å…³çš„ã€‚pertubationsä»ä¸€ä¸ªnoiseåˆ†å¸ƒä¸­è¿›è¡Œé‡‡æ ·ï¼Œå®ƒçš„varianceå¯ä»¥çœ‹æˆnoiseçš„energyï¼Œvarianceçš„å‚æ•°å’Œç½‘ç»œå‚æ•°éƒ½æ˜¯é€šè¿‡lossçš„æ¢¯åº¦è¿›è¡Œæ›´æ–°ã€‚ç½‘ç»œå‚æ•°ä¸­ä»…ä»…åŠ å…¥äº†å™ªéŸ³ï¼Œæ²¡æœ‰distributionï¼Œå¯ä»¥è‡ªåŠ¨å­¦ä¹ ã€‚<br>
åœ¨é«˜ç»´åº¦ä¸Šï¼Œæœ¬æ–‡çš„ç®—æ³•æ˜¯ä¸€ä¸ªrandomised value functionï¼Œè¿™ä¸ªå‡½æ•°æ˜¯neural networkï¼Œç½‘ç»œçš„å‚æ•°å¹¶æ²¡æœ‰åŠ å€ï¼Œlinear çš„å‚æ•°åŠ å€ï¼Œè€Œå‚æ•°æ˜¯noiseçš„ä¸€ä¸ªç®€å•å˜æ¢ã€‚<br>
è¿˜æœ‰äººæ·»åŠ constant Gaussian nioseåˆ°ç½‘ç»œå‚æ•°ï¼Œè€Œæ–‡æœ¬çš„ç®—æ³•æ·»åŠ çš„noiseå¹¶ä¸æ˜¯é™åˆ¶åœ¨Gaussion noise distributionsã€‚æ·»åŠ noiseè¾…åŠ©è®­ç»ƒåœ¨ç›‘ç£å­¦ä¹ ç­‰ä»»åŠ¡ä¸­ä¸€ç›´éƒ½æœ‰ï¼Œä½†æ˜¯è¿™äº›å™ªéŸ³éƒ½æ˜¯ä¸èƒ½è®­ç»ƒçš„ï¼Œè€ŒNoisyNetä¸­çš„å™ªéŸ³æ˜¯å¯ä»¥æ¢¯åº¦ä¸‹é™æ›´æ–°çš„ã€‚</p>
<h3 id="noisynets">NoisyNets</h3>
<p><img src="/2019/03/02/dqn/noisy_linear_layer.png" alt="noisy_linear_layer"><br>
ç”¨$\theta$è¡¨ç¤ºnoisy netçš„å‚æ•°ï¼Œè¾“å…¥æ˜¯$x$ï¼Œè¾“å‡ºæ˜¯$y$ï¼Œå³$y=f_{\theta}(x)$ã€‚$\theta$å®šä¹‰ä¸º$\theta=\mu+\Sigma\odot\varepsilon$ï¼Œå…¶ä¸­$\zeta=(\mu,\Sigma)$è¡¨ç¤ºå¯ä»¥å­¦ä¹ çš„å‚æ•°ï¼Œ$\varepsilon$è¡¨ç¤ºæœä»å›ºå®šåˆ†å¸ƒçš„å‡å€¼ä¸º$0$çš„å™ªéŸ³,$\varepsilon$æ˜¯random variableã€‚$\odot$è¡¨ç¤ºelement-wiseä¹˜æ³•ã€‚æœ€åçš„losså‡½æ•°æ˜¯å…³äº$\varepsilon$çš„æœŸæœ›ï¼š$\bar{L}(\zeta)=\mathbb{E}\left[L(\theta)\right]$ï¼Œç„¶åä¼˜åŒ–ç›¸åº”çš„$\zeta$ï¼Œ$\varepsilon$ä¸èƒ½è¢«ä¼˜åŒ–ï¼Œå› ä¸ºå®ƒæ˜¯random variableã€‚<br>
ä¸€ä¸ªæœ‰$p$ä¸ªè¾“å…¥å•å…ƒï¼Œ$q$ä¸ªè¾“å‡ºå•å…ƒçš„fully-connected layerè¡¨ç¤ºå¦‚ä¸‹ï¼š<br>
$$y=wx+b \tag{14}$$<br>
å…¶ä¸­$w\in \mathbb{R}^{q\times p}$ï¼Œ$x\in \mathbb{R}^{p}$,$b\in \mathbb{R}^{q}$ï¼Œå¯¹åº”çš„noisy linear layerå®šä¹‰å¦‚ä¸‹ï¼š<br>
$$y=(\mu^w+\sigma^w\odot\varepsilon^w)x + \mu^b+\sigma^b\odot\varepsilon^b \tag{15}$$<br>
å°±æ˜¯ç”¨$\mu^w+\sigma^w\odot\varepsilon^w$å–ä»£$w$ï¼Œç”¨$\mu^b+\sigma^b\odot\varepsilon^b$å–ä»£$b$ã€‚å…¶ä¸­$\mu^w,\sigma^w\in \mathbb{R}^{q\times p} $ï¼Œè€Œ$\mu^b,\sigma^b\in\mathbb{R}^{q}$æ˜¯å¯ä»¥å­¦ä¹ çš„å‚æ•°ï¼Œè€Œ$\varepsilon^w\in \mathbb{R}^{p\times q},\varepsilon^b \in \mathbb{R}^{q}$æ˜¯random variableã€‚<br>
ä½œè€…æå‡ºäº†ä¸¤ç§æ·»åŠ noiseçš„æ–¹å¼ï¼Œä¸€ç§æ˜¯Independent Gaussian noiseï¼Œä¸€ç§æ˜¯Factorised Gaussion noiseã€‚ä½¿ç”¨Factorisedçš„åŸå› æ˜¯å‡å°‘éšæœºå˜é‡çš„è®¡ç®—æ—¶é—´ï¼Œè¿™äº›æ—¶é—´å¯¹äºå•çº¿ç¨‹çš„ä»»åŠ¡æ¥è¯´è¿˜æ˜¯å¾ˆå¤šçš„ã€‚</p>
<h4 id="independent-gaussian-noise">Independent Gaussian noise</h4>
<p>åº”ç”¨åˆ°æ¯ä¸€ä¸ªweightå’Œbiasçš„noiseéƒ½æ˜¯independentçš„ï¼Œå¯¹äº$\varepsilon^w$çš„æ¯ä¸€é¡¹$\varepsilon_{i,j}^w$æ¥è¯´ï¼Œå®ƒä»¬çš„å€¼éƒ½æ˜¯ä»ä¸€ä¸ªunit Gaussion distributionä¸­é‡‡æ ·å¾—åˆ°çš„ï¼›$varepsilon^b$åŒç†ã€‚æ‰€ä»¥å¯¹äºä¸€ä¸ª$p$ä¸ªè¾“å…¥,$q$ä¸ªè¾“å‡ºçš„noisy linear layeræ€»å…±æœ‰$pq+q$ä¸ªnoise å˜é‡ã€‚</p>
<h4 id="factorised-gaussian-noise">Factorised Gaussian noise</h4>
<p>é€šè¿‡å¯¹$\varepsilon_{i,j}^w$æ¥è¯´ï¼Œå¯ä»¥å°†å…¶åˆ†è§£æˆ$p$ä¸ª$\varepsilon_i$ç”¨äº$p$ä¸ªè¾“å…¥å’Œ$q$ä¸ª$\varepsilon_j$ç”¨äº$q$ä¸ªè¾“å‡ºï¼Œæ€»å…±æœ‰$p+q$ä¸ªnoisså˜é‡ã€‚æ¯ä¸€ä¸ª$\varepsilon_{i,j}^w$å’Œ$\varepsilon_{j}^b$å¯ä»¥å†™æˆï¼š<br>
$$\varepsilon_{i,j}^w = f(\varepsilon_i)f(\varepsilon_j) \tag{16}$$<br>
$$\varepsilon_{j}^b = f(\varepsilon_j)\tag{17}$$<br>
å…¶ä¸­$f$æ˜¯ä¸€ä¸ªå®å‡½æ•°ï¼Œåœ¨ç¬¬ä¸€ä¸ªå¼å­ä¸­$f(x) = sng(x)\sqrt{|x|}$ï¼Œåœ¨ç¬¬äºŒä¸ªå¼å­ä¸­å¯ä»¥å–$f(x)=x$ï¼Œè¿™é‡Œé€‰æ‹©äº†å’Œç¬¬ä¸€ä¸ªå¼å­ä¸­ä¸€è‡´ã€‚<br>
å› ä¸ºnoisy networkçš„losså‡½æ•°æ˜¯$\bar{L}(\zeta)=\mathbb{E}\left[L(\theta)\right]$ï¼Œæ˜¯å…³äºnoiseçš„ä¸€ä¸ªæœŸæœ›ï¼Œæ¢¯åº¦å¦‚ä¸‹ï¼š<br>
$$\nabla\bar{L}(\zeta)=\nabla\mathbb{E}\left[L(\theta)\right]=\mathbb{E}\left[\nabla_{\mu,\Sigma}L(\mu+\Sigma\odot\varepsilon)\right] \tag{18}$$<br>
ä½¿ç”¨Monte Carloä¼°è®¡ä¸Šè¿°æ¢¯åº¦ï¼Œåœ¨æ¯ä¸€ä¸ªstepé‡‡æ ·ä¸€ä¸ªsampleè¿›è¡Œoptimization:<br>
$$\nabla\bar{L}(\zeta)\approx\nabla_{\mu,\Sigma}L(\mu+\Sigma\odot\varepsilon) \tag{19}$$</p>
<h3 id="noisy-dqn-and-dueling">Noisy DQN and dueling</h3>
<p>ç›¸å¯¹äºDQNå’Œdueling DQNæ¥è¯´ï¼Œnoisy DQN and duelingä¸»è¦åšäº†ä¸¤æ–¹é¢çš„æ”¹è¿›ï¼š</p>
<ol>
<li>ä¸å†ä½¿ç”¨$\varepsilon$-greedy behaviour policyäº†ï¼Œè€Œæ˜¯ä½¿ç”¨greedy behaviour policyé‡‡æ ·ä¼˜åŒ–randomised action-value functionã€‚</li>
<li>ç½‘ç»œä¸­çš„fully connected layerså…¨éƒ½æ¢æˆäº†å‚æ•°åŒ–çš„noisy networkï¼Œnoisy networkçš„å‚æ•°åœ¨æ¯ä¸€æ¬¡replayä¹‹åä»noiseæœä»çš„distributionä¸­è¿›è¡Œé‡‡æ ·ã€‚è¿™é‡Œä½¿ç”¨çš„noseæ˜¯factorised Gaussian noiseã€‚</li>
</ol>
<p>åœ¨replay æ•´ä¸ªbatchçš„è¿‡ç¨‹ä¸­ï¼Œnoisy network parameter sampleä¿æŒä¸å˜ã€‚å› ä¸ºDQNå’ŒDuelingæ¯æ‰§è¡Œä¸€ä¸ªaction stepä¹‹åéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡optimizationï¼Œæ¯æ¬¡é‡‡æ ·actionä¹‹å‰éƒ½è¦é‡æ–°é‡‡æ ·noisy network parametersã€‚</p>
<h4 id="loss">Loss</h4>
<p>$Q(s,a,\epsilon;\zeta)$å¯ä»¥çœ‹æˆ$\zeta$çš„ä¸€ä¸ªrandom variableï¼ŒNoisyNet-DQN losså¦‚ä¸‹ï¼š<br>
$$\bar{L}(\zeta) = \mathbb{E}\left[\mathbb{E}_{(x,a,r,y)}\sim D\left[r + \gamma \max_{b\in A}Q(y, b, \varepsilonâ€™;\zeta^{-}) - Q(x,a,\varepsilon;\zeta)\right]^2\right]\tag{20}$$<br>
å…¶ä¸­å¤–å±‚çš„æœŸæœ›æ˜¯$\varepsilon$ç›¸å¯¹äºnoisy value function $Q(x,a, \varepsilon;\zeta)$å’Œ$\varepsilonâ€™$ç›¸å¯¹äºnoisy target value function $Q(x,a, \varepsilonâ€™;\zeta^{-}$ã€‚å¯¹äºbufferä¸­çš„æ¯ä¸€ä¸ªtransitionï¼Œè®¡ç®—lossçš„æ— åä¼°è®¡ï¼Œåªéœ€è¦è®¡ç®—target valueå’Œtrue valueå³å¯ï¼Œä¸ºäº†è®©target valueå’Œtrueä¹‹é—´æ²¡æœ‰å…³è”ï¼Œtarget networkå’Œonline networké‡‡ç”¨independent noisesã€‚<br>
å°±double dqnä¸­çš„actioné€‰æ‹©æ¥è¯´ï¼Œé‡‡æ ·ä¸€ä¸ªæ–°çš„independent sample $\varepsilon^{â€™â€™}$è®¡ç®—action valueï¼Œç„¶åä½¿ç”¨greedyæ“ä½œï¼ŒNoisyNet-Duelingçš„losså¦‚ä¸‹ï¼š<br>
$$\bar{L}(\zeta) = \mathbb{E}\left[\mathbb{E}_{(x,a,r,y)}\sim D\left[r + \gamma Q(y, b^{*}(y), \varepsilonâ€™;\zeta^{-} - Q(x,a,\varepsilon;\zeta)\right]^2\right]\tag{21}$$<br>
$$b^{*}(y) = \arg \max_{b\in A} Q(y, b(y), \varepsilon^{â€™â€™};\zeta)\tag{22}$$</p>
<h3 id="noisy-a3c">Noisy-A3C</h3>
<p>Noisy-A3Cç›¸å¯¹äºA3Cæœ‰ä»¥ä¸‹çš„æ”¹è¿›ï¼š</p>
<ol>
<li>entropyé¡¹è¢«å»æ‰äº†;</li>
<li>fully-connected layerè¢«æ›¿æ¢æˆäº†noisy networkã€‚</li>
</ol>
<p>A3Cç®—æ³•ä¸­æ²¡æœ‰åƒ$\epsilon$-greedyè¿™æ ·è¿›è¡Œaction explorationï¼Œé€‰ä¸­çš„actioné€šå¸¸æ˜¯ä»current policyä¸­é€‰çš„ï¼ŒåŠ å…¥entropyæ˜¯ä¸ºäº†é¼“åŠ±explorationï¼Œè€Œä¸æ˜¯é€‰æ‹©ä¸€ä¸ªdeterministic policyã€‚å½“æ·»åŠ äº†noisy weightsæ—¶ï¼Œå¯¹å‚æ•°è¿›è¡Œé‡‡æ ·å°±è¡¨ç¤ºé€‰æ‹©ä¸åŒçš„current policyï¼Œå°±å·²ç»ä»£è¡¨äº†explorationã€‚NoisyNetç›¸å½“äºç›´æ¥åœ¨policy spaceä¸­è¿›è¡Œexplorationï¼Œè€Œentropyé¡¹å°±å¯ä»¥å»æ‰äº†ã€‚</p>
<h3 id="noisy-networksçš„åˆå§‹åŒ–">Noisy Networksçš„åˆå§‹åŒ–</h3>
<p>åœ¨unfactorised noisy networksä¸­ï¼Œæ¯ä¸ª$\mu_{i,j}$ä»ç‹¬ç«‹çš„å‡åŒ€åˆ†å¸ƒ$U\left[-\sqrt{\frac{3}{p}}, \sqrt{\frac{3}{p}}\right]$ä¸­é‡‡æ ·åˆå§‹åŒ–ï¼Œå…¶ä¸­$p$æ˜¯å¯¹åº”linear layerçš„è¾“å…¥ä¸ªæ•°ï¼Œ$\sigma_{i,j}$è®¾ç½®ä¸ºä¸€ä¸ªå¸¸æ•°$0.0017$ï¼Œè¿™æ˜¯ä»ç›‘ç£å­¦ä¹ çš„ä»»åŠ¡ä¸­å€Ÿé‰´çš„ã€‚<br>
åœ¨factorised noisy netowrksä¸­ï¼Œæ¯ä¸ª$\mu_{i,j}$ä»ç‹¬ç«‹çš„å‡åŒ€åˆ†å¸ƒ$U\left[-\sqrt{\frac{1}{p}}, \sqrt{\frac{1}{p}}\right]$ä¸­è¿›è¡Œé‡‡æ ·ï¼Œ$\sigma_{i,j}$è®¾ç½®ä¸º$\frac{\sigma_0}{p}$ï¼Œè¶…å‚æ•°$\sigma_0$è®¾ç½®ä¸º$0.5$ã€‚</p>
<h3 id="ç®—æ³•-v6">ç®—æ³•</h3>
<p>ç®—æ³•5 NoisyNet-DQN / NoisyNet-Dueling<br>
è¾“å…¥: Env Environment; $\varepsilon$ random variables of the networkçš„é›†åˆ<br>
è¾“å…¥: DUELING Boolean; &quot;true&quot;ä»£è¡¨NoisyNet-Dueling and &quot;false&quot;ä»£è¡¨ NoisyNet-DQN<br>
è¾“å…¥: $B$ç©ºreplay buffer; $\zeta$åˆå§‹çš„network parameters; $\zeta^{-}$åˆå§‹çš„target network parameters<br>
è¾“å…¥: replay bufferå¤§å°$N_B$; batch size $N_T$; target networkæ›´æ–°é¢‘ç‡$N^{-}$<br>
è¾“å‡º: $Q(\cdot, \varepsilon; \zeta)$ action-value function<br>
<strong>for</strong> episode $e\in  {1,\cdots , M}$ do<br>
$\qquad$åˆå§‹åŒ–state sequence $x_0 \sim Env$<br>
$\qquad$<strong>for</strong> $t \in {1,\cdots }$ do<br>
$\qquad\qquad$è®¾ç½®$x \leftarrow x_0$<br>
$\qquad\qquad$é‡‡æ · a noisy network  $\xi\sim \varepsilon$<br>
$\qquad\qquad$é€‰æ‹©an action $a \leftarrow \arg \max_{b\in A} Q(x, b, \xi; \zeta)$<br>
$\qquad\qquad$é‡‡æ · next state $y \sim  P (\cdot|x, a)$, æ¥æ”¶ reward $r \leftarrow R(x, a) $ä»¥åŠ$x_0 \leftarrow y$<br>
$\qquad\qquad$å°†transition (x, a, r, y)æ·»åŠ åˆ°replay buffer<br>
$\qquad\qquad$<strong>if</strong> $|B| \gt N_B$ then<br>
$\qquad\qquad\qquad$åˆ æ‰æœ€è€çš„transition<br>
$\qquad\qquad$<strong>end if</strong><br>
$\qquad$é‡‡æ ·ä¸€ä¸ªå¤§å°ä¸º$N_T$çš„batch, transitions $((x_j, a_j, r_j, y_j) \sim D)_{j=1}^{N_T}$<br>
$\qquad\qquad$é‡‡æ ·noisy variablesç”¨äºonline network $\xi \sim\varepsilon$<br>
$\qquad\qquad$é‡‡æ ·noisy variablesç”¨äºtarget network $\xiâ€™\sim\varepsilon$<br>
$\qquad\qquad\qquad$<strong>if</strong> DUELING then<br>
$\qquad\qquad\qquad$é‡‡æ ·noisy variablesç”¨äºé€‰æ‹©actionçš„network $\xi\sim\varepsilon$<br>
$\qquad\qquad$<strong>end if</strong><br>
$\qquad\qquad$<strong>for</strong> $j \in {1,\cdots, N_T}$ do<br>
$\qquad\qquad\qquad$<strong>if</strong> $y_j$ is a terminal state then<br>
$\qquad\qquad\qquad\qquad$$\hat{Q}\leftarrow r_j$<br>
$\qquad\qquad\qquad$<strong>end if</strong><br>
$\qquad\qquad\qquad$<strong>if</strong> DUELING then<br>
$\qquad\qquad\qquad\qquad b^{*}(y_j) = \arg \max_{b\in A} Q(y_j, b, \xi^{â€™â€™}; \zeta)$<br>
$\qquad\qquad\qquad\qquad\qquad \hat{Q}\leftarrow r_j + \gamma Q(y_j, b^{*}(y_j), \xiâ€™;\zeta^{-})$<br>
$\qquad\qquad\qquad$<strong>else</strong><br>
$\qquad\qquad\qquad\qquad$$\hat{Q}\leftarrow r_j + \gamma \max_{b\in A} Q(y_j, b, \xiâ€™;\zeta^{-})$<br>
$\qquad\qquad$<strong>end if</strong><br>
$\qquad\qquad\qquad$åˆ©ç”¨loss $(\hat{Q}-Q(x_j,a_j, \xi;\zeta))^2$çš„æ¢¯åº¦æ›´æ–°$\zeta$<br>
$\qquad\qquad$<strong>end for</strong><br>
$\qquad\qquad$æ¯éš”$N^{-}$æ­¥æ›´æ–°target network:$ \zeta^{âˆ’}\leftarrow \zeta$<br>
$\qquad$<strong>end for</strong><br>
<strong>end for</strong></p>
<p>ç®—æ³•6 NoisyNet-A3C for each actor-learner thread<br>
è¾“å…¥: Environment Env, å…¨å±€å…±äº«å‚æ•°$(\zeta_{\pi},\zeta_{V})$ , å…¨å±€å…±äº«counter $T$å’Œmaximal time $T_{max}$<br>
è¾“å…¥: æ¯ä¸ªçº¿ç¨‹çš„å‚æ•° $(\zetaâ€™_{\pi},\zetaâ€™_{V})$, random variables $\varepsilon$çš„é›†åˆ, æ¯ä¸ªçº¿ç¨‹çš„counter $t$å’ŒTD-$\gamma$çš„é•¿åº¦$t_{max}$<br>
è¾“å‡º: policy $\pi(\cdot; \zeta_{\pi}, \varepsilon)$å’Œvalue $V(\cdot; \zeta_{V}, \varepsilon)$<br>
åˆå§‹åŒ–çº¿ç¨‹counter $t \leftarrow 1$<br>
<strong>repeat</strong><br>
$\qquad$é‡ç½®acumulative gradients: $d\zeta_{\pi}\leftarrow 0$å’Œ$d\zeta_V \leftarrow 0$<br>
$\qquad$Synchroniseæ¯ä¸ªçº¿ç¨‹çš„parameters: $\zetaâ€™_{\pi}\leftarrow \zeta_{\pi}$å’Œ$\zeta_V\leftarrow \zeta_V$<br>
$\qquad$counter $\leftarrow 0$<br>
$\qquad$ä»Envä¸­å¾—åˆ°state $x_t$<br>
$\qquad$é‡‡æ ·noise: $\xi\sim\varepsilon$<br>
$\qquad r \leftarrow []$<br>
$\qquad a \leftarrow []$<br>
$\qquad x \leftarrow []$å’Œ$x[0] \leftarrow x_t$<br>
$\qquad$<strong>repeat</strong><br>
$\qquad\qquad$é‡‡æ ·action: $a_t \sim\pi(\cdot|x_t;\zetaâ€™_{\pi};\xi)$<br>
$\qquad\qquad$$a[âˆ’1]\leftarrow a_t$<br>
$\qquad\qquad$æ¥æ”¶reward $r_t$å’Œnext state $x_{t+1}$<br>
$\qquad\qquad$$r[âˆ’1]\leftarrow r_t$å’Œ$x[âˆ’1]\leftarrow x_t+1$<br>
$\qquad\qquad$$t\leftarrow t + 1$å’Œ $T\leftarrow T + 1$<br>
$\qquad\qquad$$counter = counter + 1$<br>
$\qquad\qquad$<strong>until</strong> $x_t\ \ terminal\ \ or\ \ counter == t_{max} + 1$<br>
$\qquad$<strong>if</strong> $x_t$ is a terminal state then<br>
$\qquad\qquad$$Q = 0$<br>
$\qquad$<strong>else</strong><br>
$\qquad\qquad$$Q = V(x_t; \zetaâ€™_{V}, \xi)$<br>
$\qquad$<strong>end if</strong><br>
$\qquad$<strong>for</strong> $i \in {counter âˆ’ 1, \cdots, 0}$ do<br>
$\qquad\qquad$æ›´æ–°Q: $Q\leftarrow r[i] + \gamma Q$<br>
$\qquad\qquad$ç´¯ç§¯policy-gradient: $d\zeta_{\pi} \leftarrow d\zeta_{\pi} + \nabla \zetaâ€™_{\pi}log(\pi(a[i]|x[i]; \zetaâ€™_{\pi}, \xi))[Q âˆ’ V(x[i]; \zetaâ€™_{\pi}V, \xi)]$<br>
$\qquad\qquad$ç´¯ç§¯ value-gradient: $d\zeta_V \leftarrow â† d\zeta_V+ \nabla \zetaâ€™_{V}[Q âˆ’ V(x[i]; \zetaâ€™_{V}, \xi)]^2$<br>
$\qquad$<strong>end for</strong><br>
$\qquad$æ‰§è¡Œ$\zeta_{\pi}$çš„asynchronous update: $\zeta_{\pi}\leftarrow \zeta_{\pi} + \alpha_{\pi}d\zeta_{\pi}$<br>
$\qquad$æ‰§è¡Œ$\zeta_{V}$çš„asynchronous update: $\zeta_{V}\leftarrow \zeta_{V} âˆ’ \alpha_VdV\zeta_{V}$<br>
<strong>until</strong> $T \gt T_{max}$</p>
<h2 id="rainbow">Rainbow</h2>
<h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h2>
<p>1.<a href="https://blog.csdn.net/yangshaokangrushi/article/details/79774031" target="_blank" rel="noopener">https://blog.csdn.net/yangshaokangrushi/article/details/79774031</a><br>
2.<a href="https://link.springer.com/article/10.1007%2FBF00992698" target="_blank" rel="noopener">https://link.springer.com/article/10.1007%2FBF00992698</a><br>
3.<a href="https://www.jianshu.com/p/b92dac7a4225" target="_blank" rel="noopener">https://www.jianshu.com/p/b92dac7a4225</a><br>
4.<a href="https://datascience.stackexchange.com/questions/20535/what-is-experience-replay-and-what-are-its-benefits/20542#20542" target="_blank" rel="noopener">https://datascience.stackexchange.com/questions/20535/what-is-experience-replay-and-what-are-its-benefits/20542#20542</a><br>
5.<a href="https://stats.stackexchange.com/questions/897/online-vs-offline-learning" target="_blank" rel="noopener">https://stats.stackexchange.com/questions/897/online-vs-offline-learning</a><br>
6.<a href="https://www.freecodecamp.org/news/improvements-in-deep-q-learning-dueling-double-dqn-prioritized-experience-replay-and-fixed-58b130cc5682/" target="_blank" rel="noopener">https://www.freecodecamp.org/news/improvements-in-deep-q-learning-dueling-double-dqn-prioritized-experience-replay-and-fixed-58b130cc5682/</a><br>
7.<a href="https://jaromiru.com/2016/11/07/lets-make-a-dqn-double-learning-and-prioritized-experience-replay/" target="_blank" rel="noopener">https://jaromiru.com/2016/11/07/lets-make-a-dqn-double-learning-and-prioritized-experience-replay/</a><br>
8.<a href="https://datascience.stackexchange.com/questions/32873/prioritized-replay-what-does-importance-sampling-really-do" target="_blank" rel="noopener">https://datascience.stackexchange.com/questions/32873/prioritized-replay-what-does-importance-sampling-really-do</a><br>
9.<a href="https://papers.nips.cc/paper/5249-weighted-importance-sampling-for-off-policy-learning-with-linear-function-approximation.pdf" target="_blank" rel="noopener">https://papers.nips.cc/paper/5249-weighted-importance-sampling-for-off-policy-learning-with-linear-function-approximation.pdf</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/01/06/bayesian-networks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/06/bayesian-networks/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/15/index.html">Bayesian Networks</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-01-06 14:32:55" itemprop="dateCreated datePublished" datetime="2019-01-06T14:32:55+08:00">2019-01-06</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-08-30 14:31:44" itemprop="dateModified" datetime="2019-08-30T14:31:44+08:00">2019-08-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/æœºå™¨å­¦ä¹ /" itemprop="url" rel="index"><span itemprop="name">æœºå™¨å­¦ä¹ </span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ä»‹ç»">ä»‹ç»</h2>
<p>è´å¶æ–¯ç½‘ç»œæ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾(directed acyclic graphs)ï¼Œå®ƒç”¨èŠ‚ç‚¹ä»£è¡¨éšæœºå˜é‡ï¼Œç”¨è¾¹ä»£è¡¨å˜é‡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p>
<h2 id="æ„ä¹‰">æ„ä¹‰</h2>
<p>è´å¶æ–¯ç½‘ç»œå¯ä»¥ç”¨æ¥è¡¨ç¤ºä»»æ„çš„è”åˆåˆ†å¸ƒã€‚</p>
<h2 id="æ¨ç†">æ¨ç†</h2>
<p>è´å¶æ–¯ç½‘ç»œçš„ä¸€ä¸ªåŸºæœ¬ä»»åŠ¡å°±æ˜¯æ±‚åéªŒæ¦‚ç‡ã€‚<br>
åœ¨AIè¿™æœ¬ä¹¦ä¸­ï¼Œè´å¶æ–¯ç½‘ç»œä¸­çš„å˜é‡è¢«åˆ†ä¸ºäº†è¯æ®å˜é‡(evidence variable)ï¼Œéšå˜é‡(hidden variable)å’ŒæŸ¥è¯¢å˜é‡(query variable)ã€‚<br>
è€Œåœ¨PRMLè¿™æœ¬ä¹¦ä¸­ï¼Œè´å¶æ–¯ç½‘ç»œä¸­çš„å˜é‡è¢«åˆ†ä¸ºäº†è§‚æµ‹å˜é‡(observed variable)å’Œéšå˜é‡(latent variable,hidden variable)ã€‚</p>
<p>å…·ä½“çš„å¯ä»¥çœ‹å¦å¤–ä¸¤ç¯‡ç¬”è®°æœ‰è¯¦ç»†çš„è®°å½•ã€‚</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/01/06/AI-chapter-14-Probabilistic-reasoning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/15/index.html">AI chapter 14 Probabilistic reasoning</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-01-06 14:32:16" itemprop="dateCreated datePublished" datetime="2019-01-06T14:32:16+08:00">2019-01-06</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-08-30 13:42:18" itemprop="dateModified" datetime="2019-08-30T13:42:18+08:00">2019-08-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/æœºå™¨å­¦ä¹ /" itemprop="url" rel="index"><span itemprop="name">æœºå™¨å­¦ä¹ </span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>åœ¨è¿™é‡ŒåŠ ä¸€äº›è‡ªå·±çš„æ€»ç»“ï¼Œè¿™ä¸€ç« ä¸»è¦è®²çš„æ˜¯è´å¶æ–¯ç½‘ç»œï¼Œé¦–å…ˆä»‹ç»äº†è´å¶æ–¯ç½‘ç»œçš„å®šä¹‰ï¼Œæ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ŒèŠ‚ç‚¹ä»£è¡¨éšæœºå˜é‡ï¼Œè¾¹ä»£è¡¨å› æœå…³ç³»ã€‚è¿™é‡Œç»™å‡ºäº†è´å¶æ–¯å…¬å¼çš„ä¸¤ä¸ªæ„ä¹‰ï¼Œä¸€ä¸ªæ˜¯æ•°å€¼æ„ä¹‰ï¼Œç”¨è´å¶æ–¯ç½‘ç»œè¡¨ç¤ºå…¨æ¦‚ç‡åˆ†å¸ƒï¼Œå¦ä¸€ä¸ªæ˜¯æ‹“æ‰‘æ„ä¹‰ï¼Œç»™å®šæŸä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹æ¡ä»¶ç‹¬ç«‹äºæ‰€æœ‰å®ƒçš„éåè£”èŠ‚ç‚¹ï¼Œæˆ–è€…ç»™å®šæŸä¸ªèŠ‚ç‚¹çš„é©¬å°”ç§‘å¤«æ¯¯ï¼Œè¿™ä¸ªèŠ‚ç‚¹æ¡ä»¶ç‹¬ç«‹äºæ‰€æœ‰å…¶ä»–èŠ‚ç‚¹ã€‚æ¥ä¸‹æ¥è®²äº†æ¡ä»¶ç‹¬ç«‹çš„é«˜æ•ˆè¡¨ç¤ºï¼Œå™ªéŸ³æˆ–æ¨¡å‹è¡¨ç¤ºç¦»æ•£å‹çˆ¶èŠ‚ç‚¹å’Œç¦»æ•£å‹å­èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œç”¨å‚æ•°åŒ–æ¨¡å‹è¡¨ç¤ºè¿ç»­å‹çˆ¶èŠ‚ç‚¹å’Œè¿ç»­å‹å­èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œç”¨probitæ¨¡å‹æˆ–è€…logitæ¨¡å‹è¡¨ç¤ºè¿ç»­å‹çˆ¶èŠ‚ç‚¹å’Œç¦»æ•£å‹å­èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚æ¥ä¸‹æ¥å°±ä»‹ç»äº†è´å¶æ–¯ç²¾ç¡®æ¨ç†è®¡ç®—åéªŒåˆ†å¸ƒçš„é›†ä¸­æ–¹æ³•ï¼Œä¸€ç§æ˜¯æšä¸¾æ¨ç†ï¼Œä¸€ç§æ˜¯æ¶ˆå…ƒæ³•ã€‚å› ä¸ºç²¾ç¡®æ¨ç†çš„å¤æ‚åº¦å¤ªé«˜äº†ï¼Œæ²¡æœ‰å®é™…åº”ç”¨ä»·å€¼ï¼Œæ‰€ä»¥å°±ç»™å‡ºäº†ä¸€äº›ä¼°è®¡æ¨ç†çš„æ–¹æ³•ï¼Œç›´æ¥é‡‡æ ·ï¼Œæ‹’ç»é‡‡æ ·ï¼Œä»¥åŠå¯èƒ½æ€§åŠ æƒï¼Œè¿˜æœ‰å¦ä¸€ç±»é‡‡æ ·æ–¹æ³•ï¼Œè’™ç‰¹å¡æ´›ç®—æ³•ï¼Œä¸»è¦ä»‹ç»äº†å‰å¸ƒæ£®é‡‡æ ·ï¼Œå¤§æ¦‚å°±æ˜¯è¿™äº›ã€‚åé¢çš„ä¸¤ä¸ªå°èŠ‚æ²¡æœ‰çœ‹ã€‚</p>
<p>ç¬¬$13$ç« è®²çš„æ˜¯æ¦‚ç‡è®ºçš„åŸºç¡€çŸ¥è¯†å¹¶ä¸”å¼ºè°ƒäº†åœ¨æ¦‚ç‡è¡¨ç¤ºä¸­ç‹¬ç«‹(independence)å’Œæ¡ä»¶ç‹¬ç«‹(conditional independence)ä¹‹é—´çš„å…³ç³»ã€‚æœ¬ç« å¼•å…¥äº†ä¸€ä¸ªç³»ç»Ÿçš„æ–¹å¼â€“è´å¶æ–¯ç½‘ç»œå»è¡¨ç°ç‹¬ç«‹å’Œæ¡ä»¶ç‹¬ç«‹ä¹‹é—´çš„å…³ç³»ã€‚æ¦‚æ‹¬çš„æ¥è¯´ï¼Œæœ¬ç« çš„å†…å®¹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹äº”éƒ¨åˆ†ï¼š</p>
<ol>
<li>é¦–å…ˆå®šä¹‰äº†è´å¶æ–¯ç½‘ç»œçš„è¯­æ³•(syntax)å’Œè¯­ä¹‰(semantics)ï¼Œå¹¶ä¸”å±•ç¤ºäº†å¦‚ä½•ç”¨è´å¶æ–¯ç½‘ç»œè¡¨ç¤ºä¸ç¡®å®šçŸ¥è¯†ã€‚</li>
<li>æ¥ä¸‹æ¥ä»‹ç»äº†æ¦‚ç‡æ¨ç†åœ¨æœ€åçš„æƒ…å†µä¸‹æ˜¯å¾ˆéš¾è®¡ç®—çš„(computionally intratable)ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥é«˜æ•ˆçš„å®Œæˆã€‚</li>
<li>ä»‹ç»äº†ä¸€ç³»åˆ—åœ¨ç²¾ç¡®æ¨ç†(exact inference)ä¸å¯è¡Œæ—¶å¯ä»¥é‡‡ç”¨çš„ä¼°è®¡æ¨ç†ç®—æ³•(approximate inference algorithms)ã€‚</li>
<li>ä»‹ç»äº†ä¸€äº›åœ¨æ¦‚ç‡è®ºä¸­å¯ä»¥è¢«åº”ç”¨åˆ°å¸¦å¯¹è±¡å’Œå…³ç³»çš„ä¸–ç•Œçš„æ–¹æ³•ï¼Œå³ä¸å‘½é¢˜ï¼Œè¡¨ç¤ºç›¸å¯¹çš„ä¸€é˜¶æ¨¡å‹ã€‚</li>
<li>æœ€åï¼Œä»‹ç»äº†ä¸€äº›å…¶å®ƒä¸ç¡®å®šæ€§æ¨ç†çš„æ–¹æ³•ã€‚</li>
</ol>
<h2 id="ä¸ç¡®å®šåŸŸçš„çŸ¥è¯†è¡¨ç¤º-representing-knowledge-in-an-uncertain-domain">ä¸ç¡®å®šåŸŸçš„çŸ¥è¯†è¡¨ç¤º(Representing knowledge in an uncertain domain)</h2>
<p>æˆ‘ä»¬å¯ä»¥æ ¹æ®è”åˆæ¦‚ç‡åˆ†å¸ƒ(full joint probability distribution)ç®—å‡ºä»»ä½•æƒ³è¦çš„æ¦‚ç‡å€¼ï¼Œä½†æ˜¯éšç€éšæœºå˜é‡ä¸ªæ•°çš„å¢åŠ ï¼Œè”åˆæ¦‚ç‡åˆ†å¸ƒå¯èƒ½ä¼šå˜å¾—ç‰¹åˆ«å¤§ã€‚æ­¤å¤–ï¼Œä¸€ä¸ªä¸€ä¸ªçš„æŒ‡å®šå¯èƒ½ä¸–ç•Œä¸­çš„æ¦‚ç‡æ˜¯ä¸å¯è¡Œçš„ã€‚</p>
<h3 id="è´å¶æ–¯ç½‘ç»œçš„å®šä¹‰">è´å¶æ–¯ç½‘ç»œçš„å®šä¹‰</h3>
<p>å¦‚æœåœ¨è”åˆæ¦‚ç‡ä¸­å¼•å…¥ç‹¬ç«‹å’Œæ¡ä»¶ç‹¬ç«‹ï¼Œå°†ä¼šæ˜¾è‘—çš„å‡å°‘å®šä¹‰è”åˆæ¦‚ç‡åˆ†å¸ƒæ‰€éœ€è¦çš„æ¦‚ç‡ã€‚æ‰€ä»¥è¿™èŠ‚å°±ä»‹ç»äº†è´å¶æ–¯ç½‘ç»œæ¥è¡¨ç¤ºå˜é‡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚æœ¬è´¨ä¸Šè´å¶æ–¯ç½‘ç»œå¯ä»¥è¡¨ç¤ºä»»ä½•è”åˆæ¦‚ç‡åˆ†å¸ƒï¼Œè€Œä¸”åœ¨å¾ˆå¤šæƒ…å†µä¸‹æ˜¯éå¸¸ç²¾ç¡®åœ°è¡¨ç¤ºã€‚ä¸€ä¸ªè´å¶æ–¯ç½‘ç»œæ˜¯ä¸€ä¸ªæœ‰å‘å›¾ï¼Œå›¾ä¸­çš„èŠ‚ç‚¹åŒ…å«é‡åŒ–åçš„æ¦‚ç‡ä¿¡æ¯ã€‚å…·ä½“çš„è¯´æ˜å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ¯ä¸€ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªéšæœºå˜é‡ï¼Œè¿™ä¸ªéšæœºå˜é‡å¯ä»¥æ˜¯ç¦»æ•£çš„ä¹Ÿå¯ä»¥æ˜¯è¿ç»­çš„ã€‚</li>
<li>æœ‰å‘è¾¹æˆ–è€…ç®­å¤´è¿æ¥ä¸€å¯¹èŠ‚ç‚¹ã€‚å¦‚æœç®­å¤´æ˜¯ä»èŠ‚ç‚¹$X$åˆ°èŠ‚ç‚¹$Y$ï¼Œé‚£ä¹ˆèŠ‚ç‚¹$X$ç§°ä¸ºèŠ‚ç‚¹$Y$çš„çˆ¶èŠ‚ç‚¹ã€‚å›¾ä¸­ä¸èƒ½æœ‰ç¯ï¼Œå› æ­¤è´å¶æ–¯ç½‘ç»œæ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾(directed acyclic graph,DAG)ã€‚</li>
<li>æ¯ä¸€ä¸ªèŠ‚ç‚¹$X_i$æœ‰ä¸€ä¸ªæ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ$P(x_i|Parents(X_i))$é‡åŒ–(quantifiy)çˆ¶èŠ‚ç‚¹å¯¹å…¶å½±å“ã€‚</li>
</ol>
<p>ç½‘ç»œçš„æ‹“æ‰‘ï¼Œå³èŠ‚ç‚¹å’Œè¾¹çš„é›†åˆï¼ŒæŒ‡å®šäº†æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒä¹‹é—´çš„å…³ç³»ã€‚ç®­å¤´çš„ç›´è§‚æ„ä¹‰æ˜¯èŠ‚ç‚¹$X$å¯¹èŠ‚ç‚¹$Y$æœ‰ç›´æ¥çš„å½±å“ï¼Œ$Y$å‘ç”Ÿçš„åŸå› æ˜¯å…¶çˆ¶èŠ‚ç‚¹çš„å½±å“ã€‚é€šå¸¸å¯¹äºä¸€ä¸ªé¢†åŸŸ(domain)çš„ä¸“å®¶æ¥è¯´ï¼ŒæŒ‡å‡ºè¯¥åŸŸå—å“ªäº›å› ç´ çš„ç›´æ¥å½±å“è¦æ¯”ç›´æ¥ç»™å‡ºå®ƒçš„æ¦‚ç‡å€¼ç®€å•çš„å¤šã€‚ä¸€æ—¦è´å¶æ–¯ç½‘ç»œçš„æ‹“æ‰‘ç»“æ„å®šäº†ï¼Œç»™å‡ºä¸€ä¸ªå˜é‡çš„çˆ¶èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä»…ä»…éœ€è¦ç»™å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒã€‚æˆ‘ä»¬èƒ½çœ‹å‡ºï¼Œæ‹“æ‰‘å’Œæ¡ä»¶æ¦‚ç‡çš„ç»„åˆèƒ½è®¡ç®—å‡ºæ‰€æœ‰å˜é‡çš„è”åˆæ¦‚ç‡åˆ†å¸ƒã€‚</p>
<h3 id="è´å¶æ–¯ç½‘ç»œçš„ç¤ºä¾‹">è´å¶æ–¯ç½‘ç»œçš„ç¤ºä¾‹</h3>
<h4 id="ç‰™ç–¼å’Œå¤©æ°”">ç‰™ç–¼å’Œå¤©æ°”</h4>
<p>ç»™å®šä¸€ç»„éšæœºå˜é‡ç‰™ç–¼(Toothache)ï¼Œè›€ç‰™(Cavity)ï¼Œæ‹”ç‰™(Catch)å’Œå¤©æ°”(Weather)ã€‚Weatheræ˜¯ç‹¬ç«‹äºå¦å¤–ä¸‰ä¸ªéšæœºå˜é‡çš„ï¼Œæ­¤å¤–ï¼Œç»™å®šCavityï¼ŒCatchå’ŒToothacheæ˜¯æ¡ä»¶ç‹¬ç«‹çš„ï¼Œå³ç»™å®šCavityï¼ŒCatchå’ŒToothacheæ˜¯ç›¸äº’ä¸å—å½±å“çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æ­£å¼çš„ï¼šç»™å®šCavityï¼ŒToochacheå’ŒCatchæ˜¯æ¡ä»¶ç‹¬ç«‹çš„ï¼Œå›¾ä¸­Toothacheå’ŒCatchä¹‹é—´ç¼ºå¤±çš„è¾¹ä½“ç°å‡ºäº†æ¡ä»¶ç‹¬ç«‹ã€‚ç›´è§‚ä¸Šï¼Œç½‘ç»œè¡¨ç°å‡ºCavityæ˜¯Toothacheå’ŒCatchå‘ç”Ÿçš„ç›´æ¥åŸå› ï¼Œç„¶è€Œåœ¨Toothacheå’ŒCatchä¹‹é—´æ²¡æœ‰ç›´æ¥çš„å› æœå…³ç³»ã€‚<br>
<img src="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" alt="figure 14.1"></p>
<h4 id="è­¦æŠ¥å’Œæ‰“ç”µè¯">è­¦æŠ¥å’Œæ‰“ç”µè¯</h4>
<p>æˆ‘å®¶é‡Œæœ‰ä¸€ä¸ªæ–°å®‰è£…çš„é˜²ç›—è­¦æŠ¥(burglar alarm)ï¼Œè¿™ä¸ªè­¦æŠ¥å¯¹äºå°å·çš„æ£€æµ‹æ˜¯ç›¸å½“å¯é çš„ï¼Œä½†æ˜¯ä¹Ÿä¼šå¯¹å¶ç„¶å‘ç”Ÿçš„å¾®å°çš„åœ°éœ‡å“åº”ã€‚æˆ‘æœ‰ä¸¤ä¸ªé‚»å±…(Maryå’ŒJohn)ï¼Œä»–ä»¬å¬åˆ°è­¦æŠ¥åä¼šæ‰“ç”µè¯ç»™æˆ‘ã€‚Johnæœ‰æ—¶ä¼šæŠŠç”µè¯é“ƒå’Œè­¦æŠ¥å¼„æ··äº†ï¼Œä¹Ÿä¼šæ‰“ç”µè¯ã€‚Maryå¬éŸ³ä¹å¾ˆå¤§å£°ï¼Œç»å¸¸ä¼šé”™è¿‡è­¦æŠ¥ã€‚ç°åœ¨ç»™å‡ºJohnæˆ–è€…Maryè°æ˜¯å¦æ‰“ç”µè¯ï¼Œä¼°è®¡è­¦æŠ¥å“äº†çš„æ¦‚ç‡ã€‚<br>
<img src="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" alt="figure 14.2"><br>
è¯¥ä¾‹å­çš„è´å¶æ–¯ç½‘ç»œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚è¯¥ç½‘ç»œä½“ç°äº†å°å·å’Œåœ°éœ‡ä¸¤ä¸ªå› ç´ ä¼šç›´æ¥å½±å“è­¦æŠ¥å“çš„æ¦‚ç‡ï¼Œä½†æ˜¯Johnå’ŒMaryä¼šä¸ä¼šæ‰“ç”µè¯åªå–å†³äºè­¦æŠ¥æœ‰æ²¡æœ‰å“ã€‚è´å¶æ–¯ç½‘ç»œå±•ç¤ºå‡ºäº†æˆ‘ä»¬çš„å‡è®¾ï¼Œå³Johnå’ŒMaryä¸ç›´æ¥è§‚å¯Ÿå°å·æœ‰æ²¡æœ‰æ¥ï¼Œä¹Ÿä¸ç›´æ¥è§‚å¯Ÿå°çš„åœ°éœ‡æ˜¯å¦ï¼Œä¹Ÿä¸å—ä¹‹å‰æ˜¯å¦æ‰“è¿‡ç”µè¯çš„å½±å“ã€‚ä¸Šå›¾ä¸­çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒä»¥ä¸€ä¸ªæ¡ä»¶æ¦‚ç‡åˆ†å¸ƒè¡¨(conditional probability table,CPT)çš„å½¢å¼å±•ç°äº†å‡ºæ¥ã€‚è¿™ä¸ªè¡¨é€‚åˆç¦»æ•£å‹çš„éšæœºå˜é‡ï¼Œä½†æ˜¯ä¸é€‚åˆè¿ç»­æ€§éšæœºå˜é‡ã€‚æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹åªæœ‰ä¸€è¡Œï¼Œç”¨æ¥è¡¨ç¤ºéšæœºå˜é‡çš„å¯èƒ½å–å€¼çš„å…ˆéªŒæ¦‚ç‡(prior probabilities)ã€‚<br>
æ³¨æ„åˆ°è¿™ä¸ªç½‘ç»œä¸­æ²¡æœ‰èŠ‚ç‚¹å¯¹åº”Maryå¬éŸ³ä¹å¾ˆå¤§æ—¶ï¼Œä¹Ÿæ²¡æœ‰èŠ‚ç‚¹å¯¹åº”JohnæŠŠç”µè¯é“ƒå£°å½“æˆäº†è­¦æŠ¥ã€‚äº‹å®ä¸Šè¿™äº›å› ç´ éƒ½è¢«åŒ…å«åœ¨å’Œè¾¹Alarmåˆ°JohnCallså’ŒMaryCallç›¸å…³çš„ä¸ç¡®å®šæ€§ä¸­äº†ï¼Œæ¦‚ç‡åŒ…å«äº†æ— æ•°ç§æƒ…å†µå¯èƒ½è®©è­¦æŠ¥å¤±çµï¼ˆåœç”µï¼Œè€é¼ å’¬åäº†ï¼Œç­‰ç­‰ï¼‰æˆ–è€…Johnå’ŒMaryæ²¡æœ‰æ‰“ç”µè¯çš„åŸå› ï¼ˆåƒé¥­å»äº†ï¼Œåˆç¡äº†ï¼Œä¼‘å‡äº†ç­‰ç­‰ï¼‰ï¼Œè¿™äº›ä¸ç¡®å®šæ€§éƒ½åŒ…å«åœ¨äº†æ¦‚ç‡ä¸­äº†ã€‚</p>
<h2 id="è´å¶æ–¯ç½‘ç»œçš„æ„ä¹‰-the-semantics-of-bayesian-networks">è´å¶æ–¯ç½‘ç»œçš„æ„ä¹‰(the semantics of bayesian networks)</h2>
<p>ä¸Šä¸€èŠ‚ä¸»è¦è®²çš„æ˜¯ä»€ä¹ˆæ˜¯è´å¶æ–¯ç½‘ç»œï¼Œä½†æ˜¯æ²¡æœ‰è®²å®ƒçš„æ„ä¹‰ã€‚æœ¬èŠ‚ä¸»è¦ç»™å‡ºä¸¤ç§æ–¹å¼å¯ä»¥ç†è§£è´å¶æ–¯ç½‘ç»œçš„æ„ä¹‰ã€‚ç¬¬ä¸€ä¸ªæ˜¯ä¸€ç§æ•°å€¼åŒ–çš„æ„ä¹‰ï¼Œå³&quot;numerical semantics&quot;ï¼ŒæŠŠå®ƒå½“æˆè”åˆæ¦‚ç‡åˆ†å¸ƒçš„ä¸€ç§è¡¨ç¤ºå½¢å¼ã€‚ç¬¬äºŒä¸ªæ˜¯ä¸€ç§æ‹“æ‰‘çš„æ„ä¹‰ï¼Œå³&quot;topological semantics&quot;ï¼Œå°†å®ƒçœ‹æˆæ¡ä»¶ç‹¬ç«‹çš„ä¸€ç§ç¼–ç æ–¹å¼ã€‚äº‹å®ä¸Šï¼Œè¿™ä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„ï¼Œä½†æ˜¯ç¬¬ä¸€ç§æ–¹å¼æ›´æœ‰åŠ©äºç†è§£å¦‚ä½•æ„å»ºè´å¶æ–¯ç½‘ç»œï¼Œç¬¬äºŒç§æ–¹å¼æ›´æœ‰åŠ©äºè®¾è®¡æ¨ç†è¿‡ç¨‹ã€‚</p>
<h3 id="è´å¶æ–¯ç½‘ç»œè¡¨ç¤ºè”åˆåˆ†å¸ƒ-representing-the-full-joint-distribution">è´å¶æ–¯ç½‘ç»œè¡¨ç¤ºè”åˆåˆ†å¸ƒ(Representing the full joint distribution)</h3>
<h4 id="å®šä¹‰">å®šä¹‰</h4>
<p>ä¸€ä¸ªè´å¶æ–¯ç½‘ç»œæ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæ•°å€¼å‚æ•°ã€‚æ•°å€¼æ–¹å¼ç»™å‡ºè¿™ä¸ªç½‘ç»œçš„æ„ä¹‰æ˜¯ï¼Œå®ƒä»£è¡¨äº†æ‰€æœ‰å˜é‡çš„è”åˆæ¦‚ç‡åˆ†å¸ƒã€‚ä¹‹å‰è¯´è¿‡èŠ‚ç‚¹ä¸Šçš„å€¼ä»£è¡¨çš„æ˜¯æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ$P(X_i|Parents(X_i)$ï¼Œè¿™æ˜¯å¯¹çš„ï¼Œä½†æ˜¯å½“èµ‹äºˆæ•´ä¸ªç½‘ç»œæ„ä¹‰ä»¥åï¼Œè¿™é‡Œæˆ‘ä»¬è®¤ä¸ºå®ƒä»¬åªæ˜¯ä¸€äº›æ•°å­—$\theta(X_i|Parents(X_i)$ã€‚<br>
è”åˆæ¦‚ç‡ä¸­çš„ä¸€ä¸ªå…·ä½“é¡¹(entry)è¡¨ç¤ºçš„æ˜¯æ¯ä¸€ä¸ªéšæœºå˜é‡å–æŸä¸ªå€¼çš„è”åˆæ¦‚ç‡ï¼Œå¦‚$P(X_1=x_1 \wedge \cdots\wedge X_n = x_n)$ï¼Œç¼©å†™ä¸º$P(x_1,\cdots,x_n)$ã€‚è¿™ä¸ªé¡¹çš„å€¼å¯ä»¥é€šè¿‡ä»¥ä¸‹å…¬å¼è¿›è¡Œè®¡ç®—ï¼š<br>
$$P(x_1,\cdots,x_n) = \prod_{i=1}^n \theta(x_i|parents(X_i)),$$<br>
å…¶ä¸­$parents(X_i)$è¡¨ç¤ºèŠ‚ç‚¹$X_i$åœ¨$x_1,\cdots,x_n$ä¸­çš„çˆ¶èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œè”åˆæ¦‚ç‡åˆ†å¸ƒä¸­çš„æ¯ä¸€é¡¹éƒ½å¯ä»¥ç”¨è´å¶æ–¯ç½‘ç»œä¸­æŸäº›æ¡ä»¶æ¦‚ç‡çš„ä¹˜ç§¯è¡¨ç¤ºã€‚ä»å®šä¹‰ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¾ˆå®¹æ˜“è¯æ˜$\theta(x_i|parents(X_i))$å°±æ˜¯æ¡ä»¶æ¦‚ç‡$P(x_i|parents(X_i))$ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸Šå¼å†™æˆï¼š<br>
$$P(x_1,\cdots,x_n) = \prod_{i=1}^n P(x_i|parents(X_i)),$$<br>
æ¢å¥è¯è¯´ï¼šæ ¹æ®ä¸Šä¸Šä¸ªå¼å­å®šä¹‰çš„è´å¶æ–¯ç½‘ç»œçš„æ„ä¹‰ï¼Œæˆ‘ä»¬ä¹‹å‰å«çš„æ¡ä»¶æ¦‚ç‡è¡¨çœŸçš„æ˜¯æ¡ä»¶æ¦‚ç‡è¡¨ã€‚ï¼ˆè¿™å¥è¯ã€‚ã€‚ã€‚ï¼‰</p>
<h4 id="ç¤ºä¾‹">ç¤ºä¾‹</h4>
<p>æˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºè­¦æŠ¥å“äº†ï¼Œä½†æ˜¯æ²¡æœ‰å°å·æˆ–è€…åœ°éœ‡å‘ç”Ÿï¼ŒJohnå’ŒMaryéƒ½æ‰“ç”µè¯äº†çš„æ¦‚ç‡ã€‚å³è®¡ç®—è”åˆåˆ†å¸ƒ$P(j,m,a,\neg b, \neg e)$ï¼ˆä½¿ç”¨å°å†™å­—æ¯è¡¨ç¤ºå˜é‡çš„å€¼ï¼‰ï¼š<br>
\begin{align*}<br>
P(j,m,a,\neg b, \neg e) &amp;=P(j|a)P(m|a)P(a|\neg b \wedge \neg e)P(\neg b)P(\neg e)\<br>
&amp;=0.90\times 0.70\times 0.001 \times 0.999 \times 0.998\<br>
&amp;=0.000628<br>
\end{align*}</p>
<h4 id="æ„å»ºè´å¶æ–¯ç½‘ç»œ-constructing-bayesian-networks">æ„å»ºè´å¶æ–¯ç½‘ç»œ(Constructing Bayesian networks)</h4>
<p>ä¸Šé¢ç»™å‡ºäº†è´å¶æ–¯ç½‘ç»œçš„ä¸€ç§æ„ä¹‰ï¼Œæ¥ä¸‹æ¥ç»™å‡ºå¦‚ä½•æ ¹æ®è¿™ç§æ„ä¹‰å»æ„å»ºä¸€ä¸ªè´å¶æ–¯ç½‘ç»œã€‚ç¡®å®šçš„æ¡ä»¶ç‹¬ç«‹å¯ä»¥ç”¨æ¥æŒ‡å¯¼ç½‘ç»œæ‹“æ‰‘çš„æ„å»ºã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æŠŠè”åˆæ¦‚ç‡çš„é¡¹ç”¨ä¹˜æ³•å…¬å¼å†™æˆæ¡ä»¶æ¦‚ç‡è¡¨ç¤ºï¼š<br>
$$P(x_1,\cdots,x_n) = P(x_n|x_{n-1},\cdots,x_1)P(x_{n-1},\cdots,x_1)$$<br>
æ¥ä¸‹æ¥é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œå°†è”åˆæ¦‚ç‡(conjunctive probability)åˆ†è§£æˆä¸€ä¸ªæ¡ä»¶æ¦‚ç‡å’Œä¸€ä¸ªæ›´å°çš„è”åˆæ¦‚ç‡ã€‚æœ€åå¾—åˆ°ä¸‹å¼ï¼š<br>
\begin{align*}<br>
P(x_1,\cdots,x_n) &amp;= P(x_n|x_{n-1},\cdots,x_1)P(x_{n-1}|,x_{n-2}\cdots,x_1)\cdots P(x_2|x_1)P(x_1)\<br>
&amp;= \prod_{i=1}^nP(x_i|x_{i-1},\cdots,x_1)<br>
\end{align*}<br>
è¿™ä¸ªå…¬å¼è¢«ç§°ä¸ºé“¾å¼æ³•åˆ™ï¼Œå®ƒå¯¹äºä»»æ„çš„éšæœºå˜é‡é›†éƒ½æˆç«‹ã€‚å¯¹äºè´å¶æ–¯ç½‘ç»œä¸­çš„æ¯ä¸€ä¸ªå˜é‡$X_i$ï¼Œå¦‚æœç»™å®š$Parents(X_i) \subset {X_{i-1},\cdots,X_1}$ï¼ˆæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„åºå·åº”è¯¥å’Œå›¾ç»“æ„çš„ååºç»“æ„ä¸€è‡´ï¼‰ï¼Œé‚£ä¹ˆæœ‰ï¼š<br>
$$P(x_1,\cdots,x_n) = \prod_{i=1}^n P(x_i|parents(X_i)),$$<br>
å°†å®ƒå’Œä¸Šå¼å¯¹æ¯”ï¼Œå¾—å‡ºï¼š<br>
$$P(X_i|X_{i-1},\cdots,X_1) = P(X_i|Parents(X_i).$$<br>
è¿™ä¸ªå…¬å¼æˆç«‹çš„æ¡ä»¶æ˜¯ç»™å®šæ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œå®ƒæ¡ä»¶ç‹¬ç«‹äºæ‰€æœ‰å®ƒçš„éçˆ¶å‰ç½®èŠ‚ç‚¹ã€‚è¿™é‡Œç»™å‡ºä¸€ä¸ªç”Ÿæˆè´å¶æ–¯ç½‘ç»œçš„æ–¹å¼ï¼š</p>
<ol>
<li>èŠ‚ç‚¹ï¼šé¦–å…ˆï¼Œç¡®å®šéœ€è¦å¯¹é¢†åŸŸå»ºæ¨¡æ‰€éœ€è¦çš„éšæœºå˜é‡é›†åˆã€‚å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼š${X_1,\cdots,X_n}$ï¼Œä»»æ„é¡ºåºéƒ½è¡Œï¼Œä½†æ˜¯å¦‚æœéšæœºå˜é‡çš„å› (causes)åœ¨æœ(effects)ä¹‹å‰ï¼Œæœ€ç»ˆçš„ç»“æœä¼šæ›´åŠ ç´§å‡‘ã€‚</li>
<li>è¾¹ï¼šä»$i = 1$åˆ°$n$ï¼Œ</li>
</ol>
<ul>
<li>ä»$X_1,\cdots,X_{i-1}$ä¸­é€‰å‡º$X_i$çš„æœ€å°çˆ¶èŠ‚ç‚¹é›†åˆã€‚</li>
<li>å¯¹äºæ¯ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œæ’å…¥ä¸€æ¡ä»çˆ¶èŠ‚ç‚¹åˆ°$X_i$çš„è¾¹ã€‚</li>
<li>å†™ä¸‹æ¡ä»¶æ¦‚ç‡è¡¨ï¼Œ$P(X_i| Parents(X_i))$ã€‚</li>
</ul>
<p>ç›´è§‚ä¸Šï¼Œ$X_i$çš„çˆ¶èŠ‚ç‚¹åº”è¯¥åŒ…å«$X_1,\cdots,X_{i-1}$ä¸­æ‰€æœ‰ç›´æ¥å½±å“$X_i$çš„èŠ‚ç‚¹ã€‚å› ä¸ºæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½åªå’Œå®ƒå‰é¢çš„èŠ‚ç‚¹ç›¸è¿ï¼Œè¿™å°±ä¿è¯äº†æ¯ä¸ªç½‘ç»œéƒ½æ˜¯æ— ç¯çš„(acyclic)ã€‚æ­¤å¤–ï¼Œè´å¶æ–¯ç½‘ç»œè¿˜ä¸åŒ…å«å†—ä½™çš„æ¦‚ç‡å€¼ï¼Œå¦‚æœæœ‰å†—ä½™å€¼ï¼Œå°±ä¼šäº§ç”Ÿä¸ä¸€è‡´ï¼šä¸å¯èƒ½ç”Ÿæˆä¸€ä¸ªè¿åæ¦‚ç‡è®ºå…¬ç†çš„è´å¶æ–¯ç½‘ç»œã€‚</p>
<h4 id="ç´§å‡‘æ€§å’ŒèŠ‚ç‚¹é¡ºåº-compactness-and-node-ordering">ç´§å‡‘æ€§å’ŒèŠ‚ç‚¹é¡ºåº(Compactness and node ordering)</h4>
<h5 id="ç´§å‡‘æ€§-compactness">ç´§å‡‘æ€§(compactness)</h5>
<p>å› ä¸ºä¸åŒ…å«å†—ä½™ä¿¡æ¯ï¼Œè´å¶æ–¯ç½‘ç»œä¼šæ¯”è”åˆæ¦‚ç‡åˆ†å¸ƒæ›´åŠ ç´§å‡‘ï¼Œè¿™è®©å®ƒèƒ½å¤Ÿå¤„ç†æ‹¥æœ‰å¾ˆå¤šå˜é‡çš„ä»»åŠ¡ã€‚è´å¶æ–¯ç½‘ç»œçš„ç´§å‡‘æ€§æ˜¯ç¨€ç–(sparse)ç³»ç»Ÿæˆ–è€…å±€éƒ¨ç»“æ„åŒ–(local structured)ç³»ç»Ÿæ™®éæ‹¥æœ‰çš„ç¨€ç–æ€§çš„ä¸€ä¸ªä¾‹å­ã€‚åœ¨ä¸€ä¸ªå±€éƒ¨ç»“æ„åŒ–ç³»ç»Ÿä¸­ï¼Œæ¯ä¸€ä¸ªå­éƒ¨ä»¶ä»…ä»…å’Œæœ‰é™æ•°é‡çš„å…¶ä»–éƒ¨ä»¶è¿›è¡Œäº¤äº’ï¼Œè€Œä¸ç”¨ç®¡æ•´ä¸ªç³»ç»Ÿã€‚å±€éƒ¨ç»“æ„åŒ–çš„å¤æ‚åº¦é€šå¸¸æ˜¯çº¿æ€§å¢åŠ çš„è€Œä¸æ˜¯æŒ‡æ•°å¢åŠ çš„ã€‚åœ¨è´å¶æ–¯ç½‘ç»œä¸­ï¼Œä¸€ä¸ªéšæœºå˜é‡å¾€å¾€æœ€å¤šå—$k$ä¸ªå…¶ä»–éšæœºå˜é‡ç›´æ¥å½±å“ï¼Œè¿™é‡Œçš„$k$æ˜¯ä¸€ä¸ªå¸¸æ•°ã€‚ä¸ºäº†ç®€åŒ–é—®é¢˜ï¼Œæˆ‘ä»¬å‡è®¾æœ‰$n$ä¸ªå¸ƒå°”å˜é‡ï¼ŒæŒ‡å®šä¸€ä¸ªæ¡ä»¶æ¦‚ç‡è¡¨æ‰€éœ€è¦çš„æ•°å­—æœ€å¤šæ˜¯$2<sup>k$ä¸ªï¼Œæ•´ä¸ªç½‘ç»œåˆ™éœ€è¦$n2</sup>k$ä¸ªå€¼ï¼›ä½œä¸ºå¯¹æ¯”ï¼Œè”åˆæ¦‚ç‡åˆ†å¸ƒéœ€è¦$2^n$ä¸ªå€¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬æœ‰$n=30$ä¸ªèŠ‚ç‚¹ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹è‡³å¤šæœ‰äº”ä¸ªçˆ¶èŠ‚ç‚¹(k=5)ï¼Œé‚£ä¹ˆè´å¶æ–¯ç½‘ç»œåªéœ€è¦$960$ä¸ªå€¼ï¼Œè€Œè”åˆæ¦‚ç‡åˆ†å¸ƒéœ€è¦è¶…è¿‡åäº¿ä¸ªå€¼ã€‚<br>
ä½†æ˜¯åœ¨æŸäº›é¢†åŸŸï¼Œå¯èƒ½æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½ä¼šè¢«æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹ç›´æ¥å½±å“ï¼Œè¿™æ—¶å€™ç½‘ç»œå°±æˆäº†å…¨è¿æ¥çš„ç½‘ç»œ(fully connected)ï¼Œå®ƒå’Œè”åˆæ¦‚ç‡åˆ†å¸ƒéœ€è¦åŒæ ·å¤šçš„ä¿¡æ¯ã€‚æœ‰æ—¶å€™ï¼Œå¢åŠ ä¸€æ¡è¾¹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä¾èµ–å…³ç³»ï¼Œå¯èƒ½ä¼šå¯¹ç»“æœäº§ç”Ÿå½±å“ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ªä¾èµ–å¾ˆå¼±(tenuous)ï¼Œæ·»åŠ è¿™æ¡è¾¹çš„èŠ±è´¹æ¯”è·å¾—çš„æ”¶ç›Šè¿˜è¦å¤§ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦åŠ è¿™æ¡è¾¹äº†ã€‚æ¯”å¦‚ï¼Œè­¦æŠ¥çš„é‚£ä¸ªä¾‹å­ï¼Œå¦‚æœJohnå’ŒMaryæ„Ÿå—åˆ°äº†åœ°éœ‡ï¼Œä»–ä»¬è®¤ä¸ºè­¦æŠ¥æ˜¯åœ°éœ‡å¼•èµ·çš„ï¼Œæ‰€ä»¥å°±ä¸æ‰“ç”µè¯äº†ã€‚æ˜¯å¦æ·»åŠ Earthquakeåˆ°JohnCallså’ŒMaryCallsè¿™ä¸¤æ¡è¾¹å–å†³äºé¢å¤–çš„èŠ±è´¹å’Œå¾—åˆ°æ›´é«˜çš„è­¦æŠ¥ç‡ä¹‹é—´çš„å…³ç³»ã€‚</p>
<h5 id="èŠ‚ç‚¹é¡ºåº-node-ordering">èŠ‚ç‚¹é¡ºåº(node ordering)</h5>
<p>å³ä½¿åœ¨ä¸€ä¸ªå±€éƒ¨ç»“æ„åŒ–çš„é¢†åŸŸï¼Œåªæœ‰å½“æˆ‘ä»¬é€‰æ‹©å¥½çš„èŠ‚ç‚¹é¡ºåºçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰èƒ½å¾—åˆ°ä¸€ä¸ªç´§å‡‘çš„è´å¶æ–¯ç½‘ç»œã€‚è€ƒè™‘è­¦æŠ¥çš„ä¾‹å­ï¼Œæˆ‘ä»¬ç»™å‡ºä¸‹å›¾ï¼š<br>
<img src="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" alt="figure 14.3"><br>
Figure 14.2å’ŒFigure 14.3ä¸¤å¼ å›¾ä¸­çš„ä¸‰ä¸ªè´å¶æ–¯ç½‘ç»œè¡¨è¾¾çš„éƒ½æ˜¯åŒä¸€ä¸ªè”åˆåˆ†å¸ƒï¼Œä½†æ˜¯Figure 14.3ä¸­çš„ä¸¤å¼ å›¾æ²¡æœ‰è¡¨ç°å‡ºæ¥æ¡ä»¶ç‹¬ç«‹ï¼Œå°¤å…¶æ˜¯Figure 14.3(b)ä¸­çš„è´å¶æ–¯ç½‘ç»œï¼Œå®ƒéœ€è¦ç”¨å’Œè”åˆåˆ†å¸ƒå·®ä¸å¤šç›¸åŒä¸ªæ•°çš„å€¼æ‰èƒ½è¡¨ç°å‡ºæ¥ã€‚å¯ä»¥çœ‹å‡ºæ¥ï¼ŒèŠ‚ç‚¹çš„é¡ºåºä¼šå½±å“ç´§å‡‘æ€§ã€‚</p>
<h3 id="è´å¶æ–¯ç½‘ç»œä¸­çš„æ¡ä»¶ç‹¬ç«‹-conditional-independence-relations-in-bayesion-networks">è´å¶æ–¯ç½‘ç»œä¸­çš„æ¡ä»¶ç‹¬ç«‹(Conditional independence relations in Bayesion networks)</h3>
<p>è´å¶æ–¯ç½‘ç»œçš„ä¸€ä¸ªæ•°å€¼æ„ä¹‰(â€œnumericalâ€ semantics)æ˜¯ç”¨æ¥è¡¨ç¤ºè”åˆæ¦‚ç‡åˆ†å¸ƒã€‚æ ¹æ®è¿™ä¸ªæ„ä¹‰ï¼Œç»™å®šæ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œä½¿å¾—æ¯ä¸€ä¸ªèŠ‚ç‚¹æ¡ä»¶ç‹¬ç«‹äºå®ƒçš„çˆ¶èŠ‚ç‚¹ä¹‹å¤–çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬èƒ½æ„å»ºä¸€ä¸ªè´å¶æ–¯ç½‘ç»œã€‚æ­¤å¤–æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»ç”¨å›¾ç»“æ„ç¼–ç æ•´ä¸ªæ¡ä»¶ç‹¬ç«‹å…³ç³»çš„æ‹“æ‰‘æ„ä¹‰å‡ºå‘ï¼Œç„¶åæ¨å¯¼å‡ºè´å¶æ–¯ç½‘ç»œçš„æ•°å€¼æ„ä¹‰ã€‚æ‹“æ‰‘è¯­ä¹‰è¯´çš„æ˜¯ç»™å®šæ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œåˆ™è¯¥èŠ‚ç‚¹æ¡ä»¶ç‹¬ç«‹äºæ‰€æœ‰å®ƒçš„éåè£”(non-descendants)èŠ‚ç‚¹ã€‚ä¸¾ä¾‹æ¥è¯´ï¼ŒFigure 14.2çš„è­¦æŠ¥ä¾‹å­ä¸­ï¼Œç»™å®šalarmåï¼ŒJohnCallsç‹¬ç«‹äºBurglary,Eqrthquakeå’ŒMaryCallsã€‚å¦‚å›¾Figuree 14.4(a)ä¸­æ‰€ç¤ºã€‚ä»æ¡ä»¶ç‹¬ç«‹æ–­è¨€(assertions)å’Œç½‘ç»œå‚æ•°$\theta(x_i|parents(X_i))$å°±æ˜¯æ¡ä»¶æ¦‚ç‡$P(x_i|parents(X_i))$çš„è§£é‡Šä¸­ï¼Œè”åˆæ¦‚ç‡å¯ä»¥è®¡ç®—å‡ºæ¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°å€¼æ„ä¹‰å’Œæ‹“æ‰‘è¯­ä¹‰æ˜¯ç›¸åŒçš„ã€‚<br>
å¦ä¸€ä¸ªæ‹“æ‰‘æ„ä¹‰çš„é‡è¦å±æ€§æ˜¯ï¼šç»™å®šæŸä¸ªèŠ‚ç‚¹çš„é©¬å°”ç§‘å¤«æ¯¯(Markov blanket)ï¼Œå³èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹æ¡ä»¶ç‹¬ç«‹äºæ‰€æœ‰å…¶ä»–çš„èŠ‚ç‚¹ã€‚å¦‚å›¾Figure 14.4(b)æ‰€ç¤ºã€‚</p>
<h2 id="æ¡ä»¶åˆ†å¸ƒçš„é«˜æ•ˆè¡¨ç¤º-efficient-representation-of-conditional-distributions">æ¡ä»¶åˆ†å¸ƒçš„é«˜æ•ˆè¡¨ç¤º(Efficient representation of conditional distributions)</h2>
<p>å³ä½¿æ¯ä¸ªèŠ‚ç‚¹æœ‰$k$ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„CPTè¿˜éœ€è¦$O(2^k)$ï¼Œæœ€åçš„æƒ…å†µä¸‹çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹æ˜¯ä»»æ„è¿æ¥çš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™ç§å…³ç³»å¯ä»¥ç”¨ç¬¦åˆä¸€äº›æ ‡å‡†æ¨¡å¼(standard pattern)çš„è§„èŒƒåˆ†å¸ƒ(canonical distribution)è¡¨ç¤ºï¼Œè¿™æ ·å­å°±å¯ä»¥ä»…ä»…æä¾›åˆ†å¸ƒçš„ä¸€äº›å‚æ•°å°±èƒ½ç”Ÿæˆæ•´ä¸ªCPTã€‚<br>
æœ€ç®€å•çš„ä¾‹å­æ˜¯ç¡®å®šæ€§èŠ‚ç‚¹(deterministic node)ã€‚ä¸€ä¸ªç¡®å®šæ€§èŠ‚ç‚¹çš„å€¼è¢«å®ƒçš„çˆ¶èŠ‚ç‚¹çš„å€¼ç²¾ç¡®ç¡®å®šã€‚è¿™ä¸ªç¡®å®šæ€§å…³ç³»å¯ä»¥æ˜¯é€»è¾‘å…³ç³»ï¼šçˆ¶èŠ‚ç‚¹æ˜¯åŠ æ‹¿å¤§ï¼Œç¾å›½å’Œå¢¨è¥¿å“¥ï¼Œå­èŠ‚ç‚¹æ˜¯åŒ—ç¾æ´²ï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»æ˜¯å­èŠ‚ç‚¹æ˜¯çˆ¶èŠ‚ç‚¹æ‰€åœ¨çš„æ´²ã€‚è¿™ä¸ªå…³ç³»ä¹Ÿå¯ä»¥æ˜¯æ•°å€¼å‹çš„ï¼Œä¸€æ¡æ²³çš„æµé‡æ˜¯æµå…¥å®ƒçš„æµé‡å‡å»æµå‡ºå®ƒçš„æµé‡ã€‚<br>
ä¸ç¡®å®šå…³ç³»é€šå¸¸ç§°ä¸ºå™ªéŸ³é€»è¾‘å…³ç³»(noisy logical relationships)ã€‚ä¸€ä¸ªä¾‹å­æ˜¯å™ªéŸ³æˆ–(noisy-OR)ï¼Œå®ƒæ˜¯é€»è¾‘æˆ–çš„æ¨å¹¿ã€‚åœ¨å‘½é¢˜é€»è¾‘ä¸­ï¼Œå½“ä¸”ä»…å½“æ„Ÿå†’(Cold)ï¼Œæµæ„Ÿ(Flu)æˆ–è€…ç–Ÿç–¾(Malaria)æ˜¯çœŸçš„æ—¶å€™ï¼Œå‘çƒ§(Fever)æ‰æ˜¯çœŸçš„ã€‚å™ªéŸ³æˆ–æ¨¡å‹å…è®¸ä¸ç¡®å®šæ€§ï¼Œå³æ¯ä¸€ä¸ªçˆ¶èŠ‚ç‚¹éƒ½æœ‰å¯èƒ½è®©å­èŠ‚ç‚¹ä¸ºçœŸï¼Œå¯èƒ½çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»è¢«æŠ‘åˆ¶äº†(inhibited)ï¼Œå¯èƒ½ä¸€ä¸ªäººæ„Ÿå†’äº†ï¼Œä½†æ˜¯æ²¡æœ‰è¡¨ç°å‡ºå‘çƒ§ã€‚è¿™ä¸ªæ¨¡å‹åšäº†ä¸¤ä¸ªå‡è®¾ã€‚ç¬¬ä¸€ä¸ªï¼Œå®ƒå‡è®¾æ‰€æœ‰çš„åŸå› éƒ½è¢«åˆ—äº†å‡ºæ¥ï¼Œæœ‰æ—¶å€™ä¼šåŠ ä¸€ä¸ªèŠ‚ç‚¹(leak node)åŒ…å«æ‰€æœ‰çš„å…¶ä»–åŸå› (miscellaneous causes)ã€‚ç¬¬äºŒä¸ªï¼ŒæŠ‘åˆ¶æ¯ä¸€ä¸ªçˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ä¹‹é—´çš„åŸå› æ˜¯ç‹¬ç«‹çš„ï¼Œæ¯”å¦‚æŠ‘åˆ¶ç–Ÿç–¾äº§ç”Ÿå‘çƒ§å’ŒæŠ‘åˆ¶æ„Ÿå†’äº§ç”Ÿå‘çƒ§çš„åŸå› æ˜¯ç‹¬ç«‹çš„ã€‚æ‰€ä»¥ï¼Œå½“ä¸”ä»…å½“æ‰€æœ‰çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯å‡çš„æ—¶å€™ï¼Œå‘çƒ§æ‰ä¸€å®šä¸ä¼šå‘ç”Ÿã€‚ç»™å‡ºä»¥ä¸‹çš„å‡è®¾ï¼š<br>
$q_{cold} = P(\neg fever| cold,\neg flu, \neg malaria) = 0.6$<br>
$q_{flu} = P(\neg fever|\neg cold, flu, \neg malaria) = 0.2$<br>
$q_{malaria} = P(\neg fever|\neg cold,\neg flu, malaria) = 0.1$<br>
æ ¹æ®è¿™äº›ä¿¡æ¯ï¼Œä»¥åŠå™ªéŸ³æˆ–çš„å‡è®¾ï¼Œæ•´ä¸ªCPTå¯ä»¥è¢«åˆ›å»ºã€‚ä¸€èˆ¬çš„è§„åˆ™æ˜¯ï¼š<br>
$P(x_i|parents(X_i)) = 1 - \prod_{j:X_j=ture} q_j.$<br>
æœ€åç”Ÿæˆå¦‚ä¸‹çš„è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">Cold</th>
<th style="text-align:center">Flu</th>
<th style="text-align:center">Malaria</th>
<th style="text-align:center">P(Fever)</th>
<th style="text-align:center">P($\neg$Fever)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">$0.0$</td>
<td style="text-align:center">$1.0$</td>
</tr>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
<td style="text-align:center">$0.9$</td>
<td style="text-align:center">$0.1$</td>
</tr>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
<td style="text-align:center">$0.8$</td>
<td style="text-align:center">$0.2$</td>
</tr>
<tr>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">$0.98$</td>
<td style="text-align:center">$0.1\times 0.2=0.02$</td>
</tr>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
<td style="text-align:center">F</td>
<td style="text-align:center">$0.4$</td>
<td style="text-align:center">$0.6$</td>
</tr>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
<td style="text-align:center">T</td>
<td style="text-align:center">$0.94$</td>
<td style="text-align:center">$0.6\times 0.1 = 0.06 $</td>
</tr>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">F</td>
<td style="text-align:center">$0.88$</td>
<td style="text-align:center">$0.5\times 0.2 = 0.12 $</td>
</tr>
<tr>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">T</td>
<td style="text-align:center">$0.988$</td>
<td style="text-align:center">$0.6\times 0.2\times 0.1 = 0.012$</td>
</tr>
</tbody>
</table>
<p>å¯¹äºè¿™ä¸ªè¡¨ï¼Œæ„Ÿè§‰è‡ªå·±ä¸€ç›´æœ‰ç‚¹è½¬ä¸è¿‡æ¥åœˆã€‚å°±æ˜¯æœ‰ç—‡çŠ¶ä¸ä¸€å®šå‘çƒ§ï¼Œä¹Ÿå¯èƒ½ä¸å‘çƒ§ï¼Œæ²¡æœ‰ç—‡çŠ¶ä¸€å®šä¸å‘çƒ§ã€‚ä»€ä¹ˆæ—¶å€™ä¸å‘çƒ§å‘¢ï¼Œåªæœ‰æŸä¸ªç—‡çŠ¶è¡¨ç°å‡ºæ¥ä¸å‘çƒ§ï¼Œå¦‚æœå¤šä¸ªç—‡çŠ¶çš„è¯ï¼Œç›´æ¥æŠŠæœ‰ç—‡çŠ¶è¡¨ç°ä½†ä¸å‘çƒ§çš„æ¦‚ç‡ç›¸ä¹˜ã€‚<br>
ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå™ªå£°é€»è¾‘æ¨¡å‹ä¸­ï¼Œæœ‰$k$ä¸ªçˆ¶èŠ‚ç‚¹çš„å˜é‡å¯ä»¥ç”¨$O(k)$ä¸ªå‚æ•°è¡¨ç¤ºè€Œä¸æ˜¯$O(2^k)$å»è¡¨ç¤ºæ•´ä¸ªCPTã€‚è¿™è®©è®¿é—®(assessment)å’Œå­¦ä¹ (learning)æ›´å®¹æ˜“äº†ã€‚</p>
<h3 id="è¿ç»­æ€§éšæœºå˜é‡çš„è´å¶æ–¯ç½‘ç»œ-bayesian-nets-with-continuous-variables">è¿ç»­æ€§éšæœºå˜é‡çš„è´å¶æ–¯ç½‘ç»œ(Bayesian nets with continuous variables)</h3>
<h4 id="å¸¸ç”¨æ–¹æ³•">å¸¸ç”¨æ–¹æ³•</h4>
<p>ç°å®ä¸­å¾ˆå¤šé—®é¢˜éƒ½æ˜¯è¿ç»­å‹çš„éšæœºå˜é‡ï¼Œå®ƒä»¬æœ‰æ— æ•°å¯èƒ½çš„å–å€¼ï¼Œæ‰€ä»¥æ˜¾å¼çš„æŒ‡å®šæ¯ä¸€ä¸ªæ¡ä»¶æ¦‚ç‡è¡Œä¸é€šã€‚å¸¸ç”¨çš„æ€»å…±æœ‰ä¸‰ç§æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå¯èƒ½çš„æ–¹æ³•æ˜¯ç¦»æ•£(discretization)è¿ç»­å‹éšæœºå˜é‡ï¼Œå°†éšæœºå˜é‡çš„å¯èƒ½å–å€¼åˆ’åˆ†æˆå›ºå®šçš„åŒºé—´ã€‚æ¯”å¦‚ï¼Œæ¸©åº¦å¯ä»¥åˆ†æˆï¼Œå°äº$0$åº¦çš„ï¼Œ$0$åº¦åˆ°$100$åº¦ä¹‹é—´çš„ï¼Œå¤§äº$100$åº¦çš„ã€‚ç¦»æ•£æœ‰æ—¶å€™æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯é€šå¸¸ä¼šé€ æˆç²¾åº¦çš„ç¼ºå¤±å’Œéå¸¸å¤§çš„CPTã€‚ç¬¬äºŒä¸ªæ–¹æ³•ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯é€šè¿‡æŒ‡å®šæ ‡å‡†æ¦‚ç‡å¯†åº¦å‡½æ•°çš„å‚æ•°ï¼Œæ¯”å¦‚æŒ‡å®šé«˜æ–¯åˆ†å¸ƒçš„å‡å€¼å’Œæ–¹å·®ã€‚ç¬¬ä¸‰ç§æ–¹æ³•æ˜¯éå‚æ•°åŒ–(nonparametric)è¡¨ç¤ºï¼Œç”¨éšå¼çš„è·ç¦»å»å®šä¹‰æ¡ä»¶åˆ†å¸ƒã€‚</p>
<h4 id="ç¤ºä¾‹-v2">ç¤ºä¾‹</h4>
<p>ä¸€ä¸ªåŒæ—¶æ‹¥æœ‰ç¦»æ•£å‹å’Œéšæœºæ€§å˜é‡çš„ç½‘ç»œè¢«ç§°ä¸ºæ··åˆè´å¶æ–¯ç½‘ç»œ(hybrid Bayesian network)ã€‚ä¸ºäº†åˆ›å»ºè¿™æ ·ä¸€ä¸ªç½‘ç»œï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ç§æ–°çš„åˆ†å¸ƒã€‚ä¸€ç§æ˜¯ç»™å®šç¦»æ•£æˆ–è€…è¿ç»­çš„çˆ¶èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹æ˜¯è¿ç»­å‹éšæœºå˜é‡çš„æ¡ä»¶æ¦‚ç‡ï¼Œå¦ä¸€ç§æ˜¯ç»™å®šè¿ç»­çš„çˆ¶èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹æ˜¯ç¦»æ•£å‹éšæœºå˜é‡çš„æ¡ä»¶æ¦‚ç‡ã€‚</p>
<h5 id="è¿ç»­å‹å­èŠ‚ç‚¹">è¿ç»­å‹å­èŠ‚ç‚¹</h5>
<p><img src="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" alt="figure 14.5"><br>
è€ƒè™‘Figure 14.5çš„ä¾‹å­ï¼Œä¸€ä¸ªé¡¾å®¢ä¹°äº†ä¸€äº›æ°´æœï¼Œä¹°æ°´æœçš„é‡å–å†³å–æ°´æœçš„ä»·æ ¼(Cost)ï¼Œæ°´æœçš„ä»·æ ¼å–å†³äºæ”¶æˆ(Harvest)å’Œæ”¿åºœæ˜¯å¦æœ‰è¡¥åŠ©(Subsidy)ã€‚å…¶ä¸­ï¼ŒCostæ˜¯è¿ç»­å‹éšæœºå˜é‡ï¼Œä»–æœ‰è¿ç»­çš„çˆ¶èŠ‚ç‚¹Harvestå’Œç¦»æ•£çš„çˆ¶èŠ‚ç‚¹Subsidyï¼ŒBuysæ˜¯ç¦»æ•£çš„ï¼Œæœ‰ä¸€ä¸ªè¿ç»­å‹çš„çˆ¶èŠ‚ç‚¹Costã€‚<br>
å¯¹äºå˜é‡Costï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šæ¡ä»¶æ¦‚ç‡$P(Cost|Subsidy,Harvest)$ã€‚ç¦»æ•£çš„çˆ¶èŠ‚ç‚¹é€šè¿‡æšä¸¾(enumeration)æ¥è¡¨ç¤ºï¼ŒæŒ‡å®š$P(Cost|subsidy,Harvest)$å’Œ$P(Cost|\neg subsidy,Harvest)$ã€‚ä¸ºäº†è¡¨ç¤ºHarvestï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªåˆ†å¸ƒæ¥è¡¨ç¤ºå˜é‡Costçš„å€¼$c$å–å†³äºè¿ç»­æ€§éšæœºå˜é‡Harvestçš„å€¼$h$ã€‚æ¢å¥è¯è¯´ï¼Œå°†$c$çœ‹åšä¸€ä¸ª$h$çš„å‡½æ•°ï¼Œç„¶åç»™å‡ºè¿™ä¸ªå‡½æ•°çš„å‚æ•°å³å¯ï¼Œæœ€å¸¸ç”¨çš„æ˜¯çº¿æ€§é«˜æ–¯åˆ†å¸ƒã€‚æ¯”å¦‚è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ä¸ªä¸åŒå‚æ•°çš„é«˜æ–¯åˆ†å¸ƒæ¥è¡¨ç¤ºæœ‰è¡¥è´´å’Œæ²¡è¡¥è´´æ—¶Harvestå¯¹Costçš„å½±å“ï¼š<br>
$$P(c|h, subsidy) = N(a_th+b_t,\sigma_t^2)Â© = \frac{1}{\sigma_t \sqrt{2\pi} }e^{- \frac{1}{2}(\frac{c-(a_th+b_t)}{\sigma_t})^2}$$<br>
$$P(c|h,\neg subsidy) = N(a_fh+b_t,\sigma_f^2)Â© = \frac{1}{\sigma_f \sqrt{2\pi} }e^{- \frac{1}{2}(\frac{c-(a_fh+b_f)}{\sigma_f})^2}$$<br>
æ‰€ä»¥ï¼Œåªéœ€è¦ç»™å‡º$a_t,b_t,\sigma_t,a_f,b_f,\sigma_f$è¿™å‡ ä¸ªå‚æ•°å°±è¡Œäº†ï¼ŒFigure 14.6(a)å’Œ(b)å°±æ˜¯ä¸€ä¸ªç¤ºä¾‹å›¾ã€‚æ³¨æ„åˆ°å¡åº¦(slope)æ˜¯è´Ÿçš„ï¼Œå› ä¸ºéšç€ä¾›åº”çš„å¢åŠ ï¼Œcoståœ¨ä¸‹é™ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªçº¿æ€§æ¨¡å‹åªæœ‰åœ¨harveståœ¨å¾ˆå°çš„ä¸€ä¸ªåŒºé—´å†…æ‰æˆç«‹ï¼Œè€Œä¸”costæœ‰å¯èƒ½ä¸ºè´Ÿã€‚å‡è®¾æœ‰è¡¥è´´å’Œæ²¡è¡¥è´´çš„ä¸¤ç§å¯èƒ½æ€§ç›¸ç­‰ï¼Œæ˜¯$0.5$ï¼Œé‚£ä¹ˆå°±æœ‰äº†Figure 14.6Â©çš„å›¾$P(c|h)$ã€‚</p>
<h5 id="è¿ç»­å‹çˆ¶èŠ‚ç‚¹">è¿ç»­å‹çˆ¶èŠ‚ç‚¹</h5>
<p>å½“ç¦»æ•£å‹éšæœºå˜é‡æœ‰è¿ç»­å‹çˆ¶èŠ‚ç‚¹æ—¶ï¼Œå¦‚Figure 14.5ä¸­çš„BuysèŠ‚ç‚¹ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªåˆç†çš„å‡è®¾æ˜¯ï¼šå½“costé«˜çš„æ—¶å€™ï¼Œä¸ä¹°ï¼Œcoståº•çš„æ—¶å€™ï¼Œä¹°ï¼Œåœ¨ä¸­é—´åŒºåŸŸä¹°ä¸ä¹°æ˜¯ä¸€ä¸ªå˜åŒ–å¾ˆå¹³æ»‘çš„æ¦‚ç‡ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ¡ä»¶åˆ†å¸ƒå½“æˆä¸€ä¸ªè½¯é˜ˆå€¼å‡½æ•°(soft-threshold)ï¼Œä¸€ç§æ–¹å¼æ˜¯ç”¨æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„ç§¯åˆ†(intergral)ã€‚<br>
$$\Phi(x) = \int_{-\infty}^{x} N(0,1)(x)dx$$<br>
ç»™å®šCostä¹°çš„æ¦‚ç‡å¯èƒ½æ˜¯:<br>
$$P(buys|Cost = c) = \Phi((-x+\nu)/ \sigma))$$<br>
å…¶ä¸­costçš„é˜ˆå€¼åœ¨$\nu$é™„è¿‘ï¼Œé˜ˆå€¼çš„åŒºåŸŸå’Œæ­£æ¯”äº$\sigma$ï¼Œå½“ä»·æ ¼å‡é«˜çš„æ—¶å€™ï¼Œä¹°çš„æ¦‚ç‡ä¼šä¸‹é™ã€‚è¿™ä¸ªprobit distributionæ¨¡å‹å¦‚Figure 14.7(a)æ‰€ç¤ºã€‚<br>
å¦ä¸€ä¸ªå¯é€‰æ‹©çš„æ¨¡å‹æ˜¯logit distributionï¼Œä½¿ç”¨logistic function $1/(1+e^{-x})$æ¥ç”Ÿæˆä¸€ä¸ªè½¯é˜ˆå€¼ï¼š<br>
$$P(buys|Cost = c) = \frac{1}{1+exp(-2\frac{-c+u}{\sigma})}.$$<br>
å¦‚Figure 14.7(b)æ‰€ç¤ºï¼Œè¿™ä¸¤ä¸ªåˆ†å¸ƒå¾ˆåƒï¼Œä½†æ˜¯logitæœ‰æ›´é•¿çš„å°¾å·´ã€‚probitæ›´ç¬¦åˆå®é™…æƒ…å†µï¼Œä½†æ˜¯logitæ•°å­¦ä¸Šæ›´å¥½ç®—ã€‚å®ƒä»¬éƒ½å¯ä»¥é€šè¿‡å¯¹çˆ¶èŠ‚ç‚¹è¿›è¡Œçº¿æ€§ç»„åˆæ¨å¹¿åˆ°å¤šä¸ªè¿ç»­æ€§çˆ¶èŠ‚ç‚¹çš„æƒ…å†µã€‚</p>
<h2 id="è´å¶æ–¯ç½‘ç»œçš„ç²¾ç¡®æ¨ç†-exact-inference-in-bayesian-networks">è´å¶æ–¯ç½‘ç»œçš„ç²¾ç¡®æ¨ç†(Exact inference in bayesian networks)</h2>
<p>æ¦‚ç‡æ¨ç†ç³»ç»Ÿçš„åŸºæœ¬ä»»åŠ¡å°±æ˜¯ç»™å‡ºä¸€äº›è§‚å¯Ÿåˆ°çš„äº‹ä»¶ï¼Œå³ç»™è¯æ®å˜é‡(evidence variable)èµ‹å€¼ï¼Œç„¶åè®¡ç®—ä¸€ç³»åˆ—æŸ¥è¯¢å˜é‡(query variable)çš„åéªŒæ¦‚ç‡ã€‚æˆ‘ä»¬ç”¨$X$è¡¨ç¤ºæŸ¥è¯¢å˜é‡ï¼Œç”¨$\mathbf{E}$è¡¨ç¤ºè¯æ®å˜é‡$E_1,\cdots,E_m$çš„é›†åˆï¼Œ$\mathbf{e}$æ˜¯ä¸€ä¸ªç‰¹å®šçš„è§‚æµ‹äº‹ä»¶ï¼Œ$\mathbf{Y}$è¡¨ç¤ºæ—¢ä¸æ˜¯è¯æ®å˜é‡ï¼Œä¹Ÿä¸æ˜¯æŸ¥è¯¢å˜é‡çš„å˜é‡$Y_1,\cdots,Y_l$çš„é›†åˆï¼ˆéšå˜é‡,hidden variables)ã€‚å˜é‡çš„æ‰€æœ‰é›†åˆæ˜¯$\mathbf{X}={X}\cup \mathbf{E}\cup \mathbf{Y}$ã€‚ä¸€ä¸ªå…¸å‹çš„æŸ¥è¯¢æ˜¯æ±‚åéªŒæ¦‚ç‡$P(X|\mathbf{e})$ã€‚<br>
åœ¨è¿™ä¸€èŠ‚ä¸­ä¸»è¦è®¨è®ºçš„æ˜¯è®¡ç®—åéªŒæ¦‚ç‡çš„ç²¾ç¡®ç®—æ³•ä»¥åŠè¿™äº›ç®—æ³•çš„å¤æ‚åº¦ã€‚äº‹å®ä¸Šï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ç²¾ç¡®æ¨ç†çš„å¤æ‚åº¦éƒ½æ˜¯å¾ˆé«˜çš„ï¼Œä¸ºäº†é™ä½å¤æ‚åº¦ï¼Œå°±åªèƒ½è¿›è¡Œä¼°è®¡æ¨ç†(approximate inference)äº†ï¼Œè¿™ä¸ªä¼šåœ¨ä¸‹ä¸€èŠ‚ä¸­ä»‹ç»åˆ°ã€‚</p>
<h3 id="æšä¸¾å®ç°ç²¾ç¡®æ¨ç†-inference-by-enumeration">æšä¸¾å®ç°ç²¾ç¡®æ¨ç†(Inference by enumeration)</h3>
<p>ä»»ä½•æ¡ä»¶æ¦‚ç‡éƒ½å¯ä»¥ç”¨è”åˆæ¦‚ç‡åˆ†å¸ƒçš„é¡¹ç›¸åŠ å¾—åˆ°ï¼Œå³ï¼š<br>
$$P(X|\mathbf{e}) = \alpha P(X,\mathbf{e}) = \alpha \sum_{\mathbf{y}}P(X,\mathbf{e},\mathbf{y})$$<br>
è´å¶æ–¯ç½‘ç»œç»™å‡ºäº†æ‰€æœ‰çš„è”åˆæ¦‚ç‡åˆ†å¸ƒï¼Œä»»ä½•é¡¹$P(x,\mathbf{e},\mathbf{y})$éƒ½å¯ä»¥ç”¨è´å¶æ–¯ç½‘ç»œä¸­çš„æ¡ä»¶æ¦‚ç‡çš„ä¹˜ç§¯è¡¨ç¤ºå‡ºæ¥ã€‚æ¯”å¦‚è­¦æŠ¥ä¾‹å­ä¸­çš„æŸ¥è¯¢$P(Burglary|JohnCalls=true,MaryCalls=true)$ã€‚éšå˜é‡æ˜¯Earthquakeå’ŒAlarmï¼Œæˆ‘ä»¬å¯ä»¥ç®—å‡ºï¼š<br>
$$P(B|j,m) = \alpha P(B,j,m) = \alpha \sum_{e}\sum_{a}P(B,j,m,e,a).$$<br>
è´å¶æ–¯ç½‘ç»œå·²ç»ç»™å‡ºäº†æ‰€æœ‰CPTé¡¹çš„è¡¨è¾¾å¼ï¼Œæ¯”å¦‚å½“Burglary = trueæ—¶ï¼š<br>
$$P(b|j,m) = \alpha \sum_e\sum_aP(b,j,m,e,a) = \alpha \sum_e\sum_aP(b)P(e)P(a|b,e)P(j|a)P(m|a).$$<br>
ä¸ºäº†è®¡ç®—è¿™ä¸ªè¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¾—è®¡ç®—ä¸€ä¸ªå››é¡¹çš„åŠ æ³•ï¼Œåˆ†åˆ«æ˜¯eä¸ºtrueå’Œfalse,aä¸ºtrueå’Œfalseå¯¹åº”çš„$P(b,j,m)$çš„å€¼ï¼Œæ¯ä¸€é¡¹éƒ½æ˜¯äº”ä¸ªæ•°çš„ä¹˜æ³•ã€‚æœ€åçš„æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„å˜é‡éƒ½ç”¨åˆ°äº†ï¼Œé‚£ä¹ˆæ‹¥æœ‰$n$ä¸ªå¸ƒå°”å˜é‡çš„è´å¶æ–¯ç½‘ç»œçš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(n2^n)$ã€‚æˆ‘ä»¬å¯ä»¥åšä¸€äº›ç®€åŒ–ï¼Œå°†ä¸€äº›é‡å¤çš„è®¡ç®—ä¿å­˜ä¸‹æ¥ï¼Œæ¯”å¦‚å°†ä¸Šé¢çš„å¼å­å˜æˆï¼š<br>
$$P(b|j,m) = \alpha \sum_e\sum_aP(b,j,m,e,a) = \alpha P(b) \sum_eP(e)\sum_aP(a|b,e)P(j|a)P(m|a).$$<br>
è¿™æ ·å­å¯ä»¥æŒ‰ç…§é¡ºåºè¿›è¡Œè®¡ç®—ï¼Œå…·ä½“çš„è®¡ç®—è¿‡ç¨‹å¦‚Figure 14.8æ‰€ç¤ºã€‚è¿™ç§ç®—æ³•å«åšENUMERATION-ASKï¼Œå®ƒçš„ç©ºé—´å¤æ‚åº¦æ˜¯çº¿æ€§çš„ï¼Œä½†æ˜¯å®ƒçš„äº‹ä»¶å¤æ‚åº¦æ˜¯$O(2<sup>n)$æ¯”$O(n2</sup>n)$è¦å¥½ï¼Œå´ä»ç„¶æ˜¯å®é™…ä¸Šä¸å¯è¡Œçš„ã€‚ï¼ˆè¿™é‡Œæˆ‘ç†è§£çš„æ˜¯$O(2<sup>n)$è€Œä¸æ˜¯$O(n2</sup>n)$çš„åŸå› æ˜¯ï¼Œæ€»å…±æœ‰$n$ä¸ªå¸ƒå°”å˜é‡ï¼Œæ‰€ä»¥æ€»å…±æœ‰$2^n$ä¸ªå¯èƒ½çš„å–å€¼ï¼Œæ¯æ¬¡ç®—ä¸€ä¸ªï¼Œå­˜ä¸€ä¸ªï¼Œè€ŒåŸæ¥çš„æ˜¯ç®—å®Œä¹‹åä¸å­˜ã€‚ï¼‰<br>
äº‹å®ä¸Šï¼ŒFigure 14.8ä¸­çš„è®¡ç®—è¿‡ç¨‹è¿˜æœ‰å¾ˆå¤šé‡å¤è®¡ç®—ï¼Œæ¯”å¦‚$P(j|a)P(m|a)$å’Œ$P(j|\neg a)P(m|\neg a)$è¿™ä¸¤é¡¹è¢«è®¡ç®—äº†ä¸¤æ¬¡ã€‚æˆ‘åŸæ¥åœ¨æƒ³è¿™é‡Œæ˜¯ä¸æ˜¯å’Œä¸Šé¢ä¸€æ®µè¯´çš„å†²çªäº†ï¼Œäº‹å®ä¸Šæ˜¯æ²¡æœ‰çš„ï¼Œè¿™$2^n$ä¸ªå€¼ï¼Œå…¶ä¸­å¯èƒ½ä¼šæœ‰$P(b,j,m,e,a)$å’Œ$P(b,j,m,e,\neg a)$ï¼Œè¿™ä¸¤ä¸ªæ¦‚ç‡ä¸­éƒ½ç”¨åˆ°äº†$P(j|a)P(m|a)$ï¼Œä½†æ˜¯è¿™é‡Œå°±ä¼šè®¡ç®—ä¸¤æ¬¡ï¼Œäº‹å®ä¸Šæœ‰å¾ˆå¤šå€¼éƒ½ä¼šè¢«é‡å¤è®¡ç®—å¾ˆå¤šæ¬¡ã€‚ä¸‹é¢å°±ä»‹ç»ä¸€ä¸ªé¿å…è¿™ç§è¿ç®—çš„æ–¹æ³•ã€‚</p>
<h3 id="æ¶ˆå…ƒæ³•-the-variable-elimination-algorithm">æ¶ˆå…ƒæ³•(The variable elimination algorithm)</h3>
<p>ä¸Šé¢é—®é¢˜çš„è§£å†³æ€è·¯å°±æ˜¯ä¿å­˜å·²ç»è®¡ç®—è¿‡çš„å€¼ï¼Œå®é™…ä¸Šè¿™æ˜¯ä¸€ç§åŠ¨æ€è§„åˆ’ã€‚è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œä»‹ç»äº†æœ€ç®€å•çš„æ¶ˆå…ƒç®—æ³•ã€‚æ¶ˆå…ƒæ³•å¯¹è¡¨è¾¾å¼è¿›è¡Œä»å³è‡³å·¦çš„è®¡ç®—ï¼Œè€Œæšä¸¾æ³•æ˜¯è‡ªåº•å‘ä¸Šçš„ã€‚æ‰€æœ‰çš„ä¸­é—´å€¼è¢«æŠ¥å­˜èµ·æ¥ï¼Œæœ€å¯¹å’Œæ¯ä¸ªå˜é‡æœ‰å…³çš„è¡¨è¾¾å¼è¿›è¡Œæ±‚å’Œã€‚ä¾‹å¦‚å¯¹äºä¸‹åˆ—è¡¨è¾¾å¼ï¼š<br>
$$P(B|j,m) = \alpha \underbrace{P(B)}<em>{f_1(B)} \sum_e\underbrace{P(e)}</em>{f_2(E)} \sum_a\underbrace{P(a|B,e)}<em>{f_3(A,B,E)} \underbrace{P(j|a)}</em>{f_4(A)} \underbrace{P(m|a)}_{f_5(A)}.$$<br>
è¡¨è¾¾å¼çš„æ¯ä¸€éƒ¨åˆ†éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å› å­ï¼Œæ¯ä¸€ä¸ªå› å­éƒ½æ˜¯ç”±å®ƒçš„å‚æ•°å˜é‡(argument variables)å†³å®šçš„çŸ©é˜µï¼Œå‚æ•°å˜é‡æŒ‡å®šçš„å–å€¼æ˜¯æ²¡æœ‰å›ºå®šçš„å˜é‡ã€‚æ¯”å¦‚å› å­$f_4(A)$å’Œ$f_5(A)$å¯¹åº”$P(j|a)$å’Œ$P(m|a)$çš„è¡¨è¾¾å¼åªå–å†³äº$A$çš„å€¼å› ä¸º$J$å’Œ$M$åœ¨è¿™ä¸ªæŸ¥è¯¢ä¸­éƒ½æ˜¯å›ºå®šçš„ã€‚å®ƒä»¬éƒ½æ˜¯ä¸¤ä¸ªå…ƒç´ çš„å‘é‡ï¼š<br>
$$f_4(A) = \begin{pmatrix}P(j|a)\P(j|\neg a)\end{pmatrix} = \begin{pmatrix}0.90\0.05\end{pmatrix}$$<br>
$$f_5(A) = \begin{pmatrix}P(m|a)\P(m|\neg a)\end{pmatrix} = \begin{pmatrix}0.70\0.01\end{pmatrix}$$<br>
$f_3(A,B,E)$æ˜¯ä¸€ä¸ª$2\times 2\times 2$çš„çŸ©é˜µã€‚ç”¨å› å­è¡¨è¾¾çš„è¯ï¼ŒæŸ¥è¯¢çš„è¡¨è¾¾å¼å˜æˆäº†ï¼š<br>
$$P(B|j,m) = \alpha f_1(B)\times \sum_ef_2(E)\times \sum_af_3(A,B,E)\times f_4(A)\times f_5(A)$$<br>
å…¶ä¸­$\times$ä¸æ˜¯æ™®é€šçš„çŸ©é˜µä¹˜æ³•ï¼Œè€Œæ˜¯å¯¹åº”å…ƒç´ ç›¸ä¹˜(pointwise product)ã€‚æ•´ä¸ªè¡¨è¾¾å¼çš„è®¡ç®—è¿‡ç¨‹å¯ä»¥çœ‹æˆä»å³åˆ°å·¦å˜é‡ç›¸åŠ çš„è¿‡ç¨‹ï¼Œå°†ç°æœ‰çš„å› å­æ¶ˆå»äº§ç”Ÿæ–°çš„å› å­ï¼Œæœ€ååªå‰©ä¸‹ä¸€ä¸ªå› å­çš„è¿‡ç¨‹ã€‚å…·ä½“çš„æ­¥éª¤å¦‚ä¸‹ï¼š<br>
é¦–å…ˆå…ˆåˆ©ç”¨$f_3,f_4,f_5$æŠŠå˜é‡$A$æ¶ˆæ‰ï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„$2\times 2$çš„åªå«æœ‰å˜é‡$B$å’Œ$E$çš„æ–°å› å­$f_6(B,E)$ï¼š<br>
\begin{align*}<br>
f_6(B,E) &amp;= \sum_af_3(A,B,E)\times f_4(A) \times f_5(A)\<br>
&amp;= (f_3(a,B,E)\times f_4(a) \times f_5(a)) + (f_3(\neg a,B,E)\times f_4(\neg a)\times f_5(\neg a)<br>
\end{align*}<br>
è¿™æ ·ç›®æ ‡å˜æˆäº†ï¼š<br>
$$P(B|j,m) = \alpha f_1(B)\times \sum_ef_2(E)\times \sum_af_6(B,E)$$<br>
åˆ©ç”¨$f_2,f_6$æ¶ˆå»$E$ï¼š<br>
\begin{align*}<br>
f_7(B) &amp;= \sum_ef_2(E)\times \sum_af_6(B,E)\<br>
&amp; = f_2(e)\times f_6(B,e) + f_2(\neg e)\times f_6(B,\neg e)<br>
\end{align*}<br>
å°†è¡¨è¾¾å¼åŒ–æˆï¼š<br>
$$P(B|j,m) = \alpha f_1(B)\times f_7(B)$$<br>
æ˜¾ç„¶ï¼Œæ ¹æ®è¿™ä¸ªè¡¨è¾¾å¼å°±å¯ä»¥è®¡ç®—å‡ºæˆ‘ä»¬æƒ³è¦çš„ç»“æœäº†ã€‚ä¸Šé¢çš„è¿‡ç¨‹å¯ä»¥æ€»ç»“æˆä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥æ˜¯point-wiseçš„å› å­ä¹˜æ³•ï¼Œç¬¬äºŒæ­¥æ˜¯åˆ©ç”¨å› å­çš„ä¹˜æ³•è¿›è¡Œæ¶ˆå…ƒã€‚</p>
<h4 id="å› å­è¿ç®—-operations-on-factors">å› å­è¿ç®—(Operations on factors)</h4>
<p>ä¸¤ä¸ªå› å­$f_1$å’Œ$f_2$è¿›è¡Œpoint-wiseä¹˜æ³•è¿ç®—äº§ç”Ÿæ–°çš„å› å­(factor)$f$çš„å˜é‡æ˜¯$f_1$å’Œ$f_2$å˜é‡çš„å¹¶ï¼Œæ–°çš„å› å­ä¸­çš„å…ƒç´ çš„å€¼æ˜¯$f_1$å’Œ$f_2$ä¸­å¯¹åº”é¡¹çš„ç§¯ã€‚å‡è®¾ä¸¤ä¸ªå› å­æœ‰å…¬å…±å˜é‡$Y_1,\cdots,Y_k$ï¼Œé‚£ä¹ˆå°±æœ‰ï¼š<br>
$$f(X_1,\cdots,X_j,Y_1,\cdots,Y_k,Z_1,\cdots,Z_l)=f_1(X_1,\cdots,X_j,Y_1,\cdots,Y_k)f_2(Y_1,\cdots,Y_k,Z_1,\cdots,Z_l).$$<br>
å¦‚æœæ‰€æœ‰çš„å˜é‡éƒ½æ˜¯äºŒå€¼åŒ–çš„ï¼Œé‚£ä¹ˆ$f_1$å’Œ$f_2$å„æœ‰$2<sup>{j+l}$å’Œ$2</sup>{l+k}$é¡¹ï¼Œ$f$æœ‰$2^{j+l+k}$é¡¹ã€‚æ¯”å¦‚ï¼Œ$f_1(A,B),f_2(B,C)$ï¼Œé‚£ä¹ˆpoint-wiseä¹˜æ³•äº§ç”Ÿçš„$f_3(A,B,C)=f_1\times f_2$æœ‰$8$é¡¹ï¼Œå¦‚Figure 14.10æ‰€ç¤ºã€‚<br>
<img src="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" alt="figure 14.10"><br>
æ ¹æ®å›¾ä¸­ç»™å‡ºçš„å€¼ï¼Œæ¶ˆå»$f_3(A,B,C)$ä¸­çš„$A$ï¼š<br>
\begin{align*}<br>
f(B,C) &amp;= \sum_af_3(A,B,C)\<br>
&amp;= f_3(a,B,C) + f_3(\neg a,B,C)\<br>
&amp;= \begin{pmatrix} 0.06&amp;0.24\0.42&amp;0.28\end{pmatrix} + \begin{pmatrix}0.18&amp;0.72\0.06&amp;0.04\end{pmatrix}\<br>
&amp;= \begin{pmatrix}0.24&amp;0.96\048&amp;0.32\end{pmatrix}<br>
\end{align*}<br>
äº§ç”Ÿæ–°çš„å› å­ç”¨çš„æ˜¯pointwiseä¹˜æ³•ï¼Œæ¶ˆå…ƒç”¨çš„æ˜¯ç´¯ä¹˜ã€‚ç»™å®špointwiseä¹˜æ³•å’Œæ¶ˆå…ƒå‡½æ•°ï¼Œæ¶ˆå…ƒç®—æ³•å°±å˜å¾—å¾ˆç®€å•ï¼Œä¸€ä¸ªæ¶ˆå…ƒç®—æ³•å¦‚Figure 14.11æ‰€ç¤ºã€‚<br>
<img src="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" alt="figure 14.11"></p>
<h4 id="å˜é‡é¡ºåºå’Œå˜é‡ç›¸å…³æ€§-variable-ordering-and-variable-relevance">å˜é‡é¡ºåºå’Œå˜é‡ç›¸å…³æ€§(Variable ordering and variable relevance)</h4>
<p>Figure 14.11ä¸­çš„ç®—æ³•åŒ…å«ä¸€ä¸ªæ²¡æœ‰ç»™å‡ºå…·ä½“å®ç°çš„æ’åºå‡½æ•°Order()å¯¹è¦æ¶ˆå»çš„å˜é‡è¿›è¡Œæ’åºï¼Œæ¯ä¸€ç§æ’åºé€‰æ‹©éƒ½ä¼šäº§ç”Ÿä¸€ç»„æœ‰æ•ˆçš„ç®—æ³•ï¼Œä½†æ˜¯ä¸åŒçš„æ¶ˆå…ƒé¡ºåºä¼šäº§ç”Ÿä¸åŒçš„ä¸­é—´å› å­ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¶ˆå…ƒæ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦æ˜¯ç”±ç®—æ³•äº§ç”Ÿçš„æœ€å¤§å› å­å†³å®šçš„ï¼Œè¿™ä¸ªæœ€å¤§å› å­æ˜¯ç”±æ¶ˆå…ƒçš„é¡ºåºå’Œè´å¶æ–¯ç½‘ç»œçš„ç»“æ„å†³å®šçš„ï¼Œé€‰å–æœ€ä¼˜çš„æ¶ˆå…ƒé¡ºåºæ˜¯å¾ˆå›°éš¾çš„ï¼Œä½†æ˜¯æœ‰ä¸€äº›å°çš„æŠ€å·§ï¼šæ€»æ˜¯æ¶ˆå»è®©æ–°äº§ç”Ÿçš„å› å­æœ€å°çš„å˜é‡ã€‚<br>
å¦ä¸€ä¸ªå±æ€§æ˜¯ï¼šæ¯ä¸€ä¸ªä¸æ˜¯æŸ¥è¯¢å˜é‡æˆ–è€…è¯æ®å˜é‡çš„ç¥–å…ˆå˜é‡éƒ½å’Œè¿™æ¬¡æŸ¥è¯¢æ— å…³ï¼Œåœ¨å®ç°æ¶ˆå…ƒç®—æ³•çš„æ—¶å€™å¯ä»¥æŠŠè¿™äº›å˜é‡éƒ½å»æ‰ã€‚ï¼ˆå…·ä½“çš„ç¤ºä¾‹å¯ä»¥çœ‹ç¬¬åå››ç« ï¼Œåœ¨$528$é¡µï¼‰ã€‚</p>
<h3 id="ç²¾ç¡®æ¨ç†çš„å¤æ‚åº¦-the-complexity-of-exact-inference">ç²¾ç¡®æ¨ç†çš„å¤æ‚åº¦(The complexity of exact inference)</h3>
<p>è´å¶æ–¯ç½‘ç»œçš„ç²¾ç¡®æ¨ç†è·Ÿç½‘ç»œçš„ç»“æ„æœ‰å¾ˆå¤§çš„å…³ç³»ã€‚<br>
Figure 14.2ä¸­è­¦æŠ¥è´å¶æ–¯ç½‘ç»œä¸­çš„å¤æ‚åº¦æ˜¯çº¿æ€§çš„ã€‚è¯¥ç½‘ç»œä¸­ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€æ¡è·¯å¾„ï¼Œè¿™ç§ç½‘ç»œç§°ä¸ºå•è¿æ¥çš„(singly-connected)æˆ–è€…å¤šæ ‘(polytrees)ï¼Œè¿™ç§ç»“æ„æœ‰ä¸€ä¸ªå¾ˆå¥½çš„å±æ€§å°±æ˜¯ï¼šå¤šæ ‘ç»“æ„ä¸­ç²¾ç¡®æ¨ç†çš„æ—¶é—´ï¼Œç©ºé—´å¤æ‚åº¦å¯¹äºç½‘ç»œå¤§å°æ¥è¯´éƒ½æ˜¯çº¿æ€§å…³ç³»ï¼Œè¿™é‡Œç½‘ç»œå¤§å°æŒ‡çš„æ˜¯CPTé¡¹çš„ä¸ªæ•°ã€‚å¦‚æœæ¯ä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªæœ‰ç•Œçš„å¸¸æ•°ï¼Œé‚£ä¹ˆå¤æ‚åº¦å’ŒèŠ‚ç‚¹æ•°ä¹‹é—´ä¹Ÿæ˜¯çº¿æ€§å…³ç³»ã€‚<br>
å¯¹äºå¤šè¿æ¥(multiply connected)çš„ç½‘ç»œï¼Œå¦‚Figure 14.12(a)æ‰€ç¤ºï¼Œæœ€åæƒ…å†µä¸‹ï¼Œå³ä½¿æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ªæ•°éƒ½æ˜¯æœ‰ç•Œå¸¸æ•°ï¼Œæ¶ˆå…ƒæ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ä¹Ÿéƒ½æ˜¯æŒ‡æ•°çº§åˆ«çš„ã€‚å› ä¸ºè´å¶æ–¯ç½‘ç»œçš„æ¨ç†ä¹Ÿæ˜¯NPéš¾é—®é¢˜ã€‚<br>
<img src="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" alt="figure 14.12"></p>
<h3 id="èšç±»ç®—æ³•-clustering-algorithms">èšç±»ç®—æ³•(clustering algorithms)</h3>
<p>ç”¨æ¶ˆå…ƒæ³•æ¥è®¡ç®—å•ä¸ªçš„åéªŒæ¦‚ç‡æ˜¯ç®€å•è€Œé«˜æ•ˆçš„ï¼Œä½†æ˜¯å¦‚æœè¦è®¡ç®—ç½‘ç»œä¸­æ‰€æœ‰å˜é‡çš„åéªŒæ¦‚ç‡æ˜¯å¾ˆä½æ•ˆçš„ã€‚ä¾‹å¦‚ï¼šåœ¨å•è¿æ¥çš„ç½‘ç»œä¸­ï¼Œæ¯ä¸€ä¸ªæŸ¥è¯¢éƒ½æ˜¯$O(n)$ï¼Œæ€»å…±æœ‰$O(n)$ä¸ªæŸ¥è¯¢ï¼Œæ‰€ä»¥æ€»å…±çš„ä»£ä»·æ˜¯$O(n^2)$ã€‚ä½¿ç”¨èšç±»ç®—æ³•(clustering algorithms)ï¼Œä»£ä»·å¯ä»¥é™åˆ°$O(n)$ï¼Œå› æ­¤è´å¶æ–¯ç½‘ç»œä¸­çš„èšç±»ç®—æ³•å·²ç»è¢«å¹¿æ³›å•†ç”¨ã€‚ï¼ˆè¿™é‡Œä¸æ˜ç™½ä¸ºä»€ä¹ˆï¼Ÿï¼‰ã€‚<br>
èšç±»ç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯å°†ç½‘ç»œä¸­çš„ä¸€äº›èŠ‚ç‚¹è¿æ¥æˆèšç‚¹(cluster nodes)ï¼Œæœ€åå½¢æˆä¸€ä¸ªå¤šæ ‘(polytree)ç»“æ„ã€‚ä¾‹å¦‚Figure 14.12(a)ä¸­çš„å¤šè¿æ¥ç½‘ç»œå¯ä»¥è½¬æ¢æˆFigure 14.12(b)æ‰€ç¤ºçš„å¤šæ ‘ï¼ŒSprinklerå’ŒRainèŠ‚ç‚¹å½¢æˆäº†SPrinkler+Rainèšç‚¹ï¼Œè¿™ä¸¤ä¸ªå¸ƒå°”å˜é‡è¢«ä¸€ä¸ªå¤§èŠ‚ç‚¹(meganode)å–ä»£ï¼Œè¿™ä¸ªå¤§èŠ‚ç‚¹æœ‰å››ä¸ªå¯èƒ½çš„å–å€¼ï¼š$tt,tf,ft,ff$ã€‚ä¸€æ—¦ä¸€ä¸ªå¤šæ ‘å½¢å¼çš„ç½‘ç»œç”Ÿæˆäº†ä»¥åï¼Œå°±éœ€è¦ç‰¹æ®Šçš„æ¨ç†ç®—æ³•è¿›è¡Œæ¨ç†äº†ï¼Œå› ä¸ºæ™®é€šçš„æ¨ç†ç®—æ³•ä¸èƒ½å¤„ç†å…±äº«å˜é‡çš„å¤§èŠ‚ç‚¹ï¼Œæœ‰äº†è¿™æ ·ä¸€ä¸ªç‰¹æ®Šçš„ç®—æ³•ï¼ŒåéªŒæ¦‚ç‡çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯çº¿æ€§äºèšç±»ç½‘ç»œçš„å¤§å°ã€‚ä½†æ˜¯ï¼ŒNPé—®é¢˜å¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œå¦‚æœæ¶ˆå…ƒéœ€è¦æŒ‡æ•°çº§åˆ«çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ï¼Œèšç±»ç½‘ç»œä¸­çš„CPTä¹Ÿæ˜¯æŒ‡æ•°çº§åˆ«å¤§å°ã€‚</p>
<h2 id="è´å¶æ–¯ç½‘ç»œçš„ä¼°è®¡æ¨ç†-approximate-inference-in-bayesian-networks">è´å¶æ–¯ç½‘ç»œçš„ä¼°è®¡æ¨ç†(Approximate inference in bayesian networks)</h2>
<p>å› ä¸ºå¤šè¿æ¥ç½‘ç»œä¸­çš„æ¨ç†æ˜¯ä¸å¯è¡Œçš„ï¼Œæ‰€ä»¥ç”¨ä¼°è®¡æ¨ç†å–ä»£ç²¾ç¡®æ¨ç†æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚è¿™ä¸€èŠ‚ä¼šä»‹ç»éšæœºé‡‡æ ·ç®—æ³•ï¼Œä¹Ÿå«è’™ç‰¹å¡æ´›ç®—æ³•(Monte Carlo)ï¼Œå®ƒçš„ç²¾ç¡®åº¦å–å†³äºç”Ÿæˆçš„æ ·æœ¬æ•°é‡ã€‚æˆ‘ä»¬çš„ç›®çš„æ˜¯é‡‡æ ·ç”¨äºè®¡ç®—åéªŒæ¦‚ç‡ã€‚è¿™é‡Œç»™å‡ºäº†ä¸¤ç±»ç®—æ³•ï¼Œç›´æ¥é‡‡æ ·(direct sampling)å’Œé©¬å°”ç§‘å¤«é“¾é‡‡æ ·(Markov chain sampling)ã€‚å˜åˆ†æ³•(variational methods)å’Œå¾ªç¯ä¼ æ’­(loopy propagation)å°†ä¼šåœ¨æœ¬ç« çš„æœ€åè¿›è¡Œä»‹ç»ã€‚</p>
<h3 id="ç›´æ¥é‡‡æ ·-direct-sampling-methods">ç›´æ¥é‡‡æ ·(Direct sampling methods)</h3>
<p>ä»»ä½•é‡‡æ ·ç®—æ³•éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªå·²çŸ¥çš„å…ˆéªŒæ¦‚ç‡åˆ†å¸ƒç”Ÿæˆæ ·æœ¬ã€‚æ¯”å¦‚ä¸€ä¸ªå…¬å¹³çš„ç¡¬å¸ï¼Œæœä»ä¸€ä¸ªå…ˆéªŒåˆ†å¸ƒ$P(coin) = &lt;0.5,0.5 &gt; $ï¼Œä»è¿™ä¸ªåˆ†å¸ƒä¸­é‡‡æ ·å°±åƒæŠ›ç¡¬å¸ã€‚<br>
ä¸€ä¸ªæœ€ç®€å•çš„ä»è´å¶æ–¯ç½‘ç»œä¸­è¿›è¡Œéšæœºé‡‡æ ·çš„æ–¹æ³•å°±æ˜¯ï¼šä»æ²¡æœ‰è¯æ®å’Œå®ƒç›¸å…³çš„ç½‘ç»œä¸­ç”Ÿæˆäº‹ä»¶ï¼Œå³æŒ‰ç…§æ‹“æ‰‘é¡ºåºå¯¹æ¯ä¸€ä¸ªå˜é‡è¿›è¡Œé‡‡æ ·ã€‚å¦‚Figure 14.13æ‰€ç¤ºçš„ç®—æ³•ï¼Œæ¯ä¸€ä¸ªå˜é‡çš„é‡‡æ ·éƒ½å–å†³äºå‰ä¹‹å‰å·²ç»é‡‡æ ·è¿‡äº†çš„çˆ¶èŠ‚ç‚¹å˜é‡çš„å€¼ã€‚æŒ‰ç…§Figure 14.13ä¸­çš„ç®—æ³•å¯¹Figure 14.12(a)ä¸­çš„ç½‘ç»œè¿›è¡Œé‡‡æ ·ï¼Œå‡è®¾ä¸€ä¸ªé‡‡æ ·é¡ºåºæ˜¯[Cloudy,Sprinkler,Rain,WetGrass]ï¼š</p>
<ol>
<li>ä»$P(Cloudy)=&lt;0.5,0.5&gt;$ä¸­é‡‡æ ·ï¼Œé‡‡æ ·å€¼æ˜¯trueï¼›</li>
<li>ä»$P(Sprinkler|Cloudy=true) = &lt;0.1,0.9&gt;$ä¸­é‡‡æ ·ï¼Œé‡‡æ ·å€¼æ˜¯falseï¼›</li>
<li>ä»$P(Rain|Cloudy=true)=&lt;0.8,0.2&gt;$ä¸­é‡‡æ ·ï¼Œé‡‡æ ·å€¼æ˜¯trueï¼›</li>
<li>ä»$P(WetGrass|Sprinkler=false,Rain=true)=&lt;0.9,0.1&gt;$ä¸­é‡‡æ ·ï¼Œé‡‡æ ·å€¼æ˜¯trueï¼›</li>
</ol>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼ŒPRIOR-SAMPLEç®—æ³•è¿”å›äº‹ä»¶[true,false,true,true]ã€‚å¯ä»¥çœ‹å‡ºæ¥ï¼ŒPRIOR-SAMPLEç®—æ³•æ ¹æ®è´å¶æ–¯ç½‘ç»œæŒ‡å®šçš„å…ˆéªŒè”åˆåˆ†å¸ƒç”Ÿæˆæ ·æœ¬ã€‚å‡è®¾$S_{PS}(x_1,\cdot,x_n)$æ˜¯PRIOR-SAMPLEç®—æ³•ç”Ÿæˆçš„ä¸€ä¸ªæ ·æœ¬äº‹ä»¶ï¼Œä»é‡‡æ ·è¿‡ç¨‹ä¸­æˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼š<br>
$$S_{PS}(x_1,\cdots,x_n) = \prod_{i=1}^nP(x_i|parents(X_i))$$<br>
å³æ¯ä¸€æ­¥é‡‡æ ·éƒ½åªå–å†³äºçˆ¶èŠ‚ç‚¹çš„å€¼ã€‚è¿™ä¸ªå¼å­å’Œè´å¶æ–¯ç½‘ç»œçš„è”åˆæ¦‚ç‡åˆ†å¸ƒæ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š<br>
$$S_{PS} = P(x_1,\cdots,x_n).$$<br>
é€šè¿‡é‡‡æ ·è®©è¿™ä¸ªè”åˆåˆ†å¸ƒçš„æ±‚è§£å¾ˆç®€å•ã€‚<br>
<img src="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" alt="figure 14.13"><br>
äº‹å®ä¸Šåœ¨ä»»ä½•é‡‡æ ·ç®—æ³•ä¸­ï¼Œç»“æœéƒ½æ˜¯é€šè¿‡å¯¹äº§ç”Ÿçš„æ ·æœ¬è¿›è¡Œè®¡æ•°å¾—åˆ°çš„ã€‚å‡è®¾ç”Ÿæˆäº†$N$ä¸ªæ ·æœ¬ï¼Œ$N_{PS}(x_1,\cdots,x_n)$æ˜¯æ ·æœ¬é›†ä¸­çš„ä¸€ä¸ªå…·ä½“äº‹ä»¶$(x_1,\cdots,x_n)$å‘ç”Ÿçš„æ¬¡æ•°ã€‚æˆ‘ä»¬å¸Œæœ›è¿™ä¸ªå€¼æ¯”ä¸Šæ ·æœ¬æ€»æ•°å–æé™å’Œé‡‡æ ·æ¦‚ç‡$S_{PS}$æ˜¯ä¸€æ ·çš„ï¼Œå³ï¼š<br>
$$ lim_{N\rightarrow \infty}\frac{N_{PS}(x_1,\cdots,x_n)}{N} = S_{PS}(x_1,\cdots,x_n) = P(x_1,\cdots,x_n).$$<br>
ä¾‹å¦‚ä¹‹å‰åˆ©ç”¨PRIOR-SAMPLEç®—æ³•äº§ç”Ÿçš„äº‹ä»¶[true,false,true,true]ï¼Œè¿™ä¸ªäº‹ä»¶çš„é‡‡æ ·æ¦‚ç‡æ˜¯ï¼š<br>
$$S_{PS}(true,false,true,true) = 0.5 \times 0.9 \times 0.8 \times 0.9 = 0.324.$$<br>
å³å½“$N$å–æé™æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æœ‰$32.4%$çš„æ ·æœ¬éƒ½æ˜¯è¿™ä¸ªäº‹ä»¶ã€‚(è¿™é‡Œä¸ºä»€ä¹ˆè¦ç”¨é‡‡æ ·è¿›è¡Œè®¡ç®—å‘¢ï¼Œæˆ‘çš„æƒ³æ³•æ˜¯å› ä¸ºå®é™…æƒ…å†µä¸­ï¼Œé‡‡æ ·æ¦‚ç‡$S_{PS}$æ˜¯å¾ˆéš¾è®¡ç®—çš„ï¼Œå°±é€šè¿‡ä¸æ–­çš„é‡‡æ ·ï¼Œè®¡ç®—å‡ºæŸä¸ªæ ·æœ¬å‡ºç°çš„æ¦‚ç‡ã€‚)<br>
æˆ‘ä»¬ç”¨$\approx$è¡¨ç¤ºä¼°è®¡æ¦‚ç‡(estimated probability)åœ¨æ ·æœ¬æ•°é‡$N$å–æé™æ—¶å’ŒçœŸå®æ¦‚ç‡ä¸€æ ·çš„ä¼°è®¡ï¼Œè¿™å«ä¸€è‡´(consistent)ä¼°è®¡ã€‚æ¯”å¦‚ï¼Œå¯¹äºä»»æ„çš„å«æœ‰éšå˜é‡çš„äº‹ä»¶(partially spefified event)ï¼Œ$x_1,\cdots,x_m,m\le n$ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªä¸€è‡´ä¼°è®¡ï¼š<br>
$$P(x_1,\cdots,x_m)\approx N_{PS}(x_1,\cdots,x_m)/N.$$<br>
è¿™ä¸ªäº‹ä»¶çš„æ¦‚ç‡å¯ä»¥çœ‹æˆæ‰€æœ‰æ»¡è¶³è§‚æµ‹å˜é‡æ¡ä»¶çš„æ ·æœ¬äº‹ä»¶ï¼ˆéšå˜é‡æ‰€æœ‰å€¼éƒ½å¯ä»¥å–ï¼‰æ¯”ä¸Šæ‰€æœ‰æ ·æœ¬äº‹ä»¶çš„æ¯”å€¼ã€‚æ¯”å¦‚åœ¨Spinklerç½‘ç»œä¸­ï¼Œç”Ÿæˆ$1000$ä¸ªæ ·æœ¬ï¼Œå…¶ä¸­æœ‰$511$ä¸ªæ ·æœ¬çš„Rain=trueï¼Œé‚£ä¹ˆrainçš„ä¼°è®¡æ¦‚ç‡å°±æ˜¯$\hat{P}(Rain=true) = 0.511.$</p>
<h4 id="è´å¶æ–¯ç½‘ç»œçš„æ‹’ç»é‡‡æ ·-rejection-sampling-in-bayesian-networks">è´å¶æ–¯ç½‘ç»œçš„æ‹’ç»é‡‡æ ·(Rejection sampling in Bayesian networks)</h4>
<h5 id="ç®—æ³•">ç®—æ³•</h5>
<p><img src="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" alt="figure 14.14"><br>
æ‹’ç»é‡‡æ ·(rejection sampling)åˆ©ç”¨å®¹æ˜“é‡‡æ ·çš„åˆ†å¸ƒæ¥ç”Ÿæˆéš¾é‡‡æ ·åˆ†å¸ƒçš„æ ·æœ¬ï¼Œè®¡ç®—åéªŒæ¦‚ç‡$P(X|\mathbf{e})$ï¼Œç®—æ³•æµç¨‹å¦‚Figure 14.14æ‰€ç¤ºï¼Œé¦–å…ˆæ ¹æ®è´å¶æ–¯ç½‘ç»œçš„å…ˆéªŒåˆ†å¸ƒç”Ÿæˆæ ·æœ¬ï¼Œæ¥ä¸‹æ¥æ‹’ç»(reject)é‚£äº›å’Œè¯æ®å˜é‡ä¸åŒ¹é…çš„ç»“æœï¼Œæœ€ååœ¨å‰©ä¸‹çš„æ ·æœ¬ä¸­ç»Ÿè®¡æ¯ä¸ª$X=x$å‡ºç°çš„æ¦‚ç‡ï¼Œä¼°è®¡$\hat{P}(X|\mathbf{e}).$<br>
ç”¨$\hat{P}(X|\mathbf{e})$è¡¨ç¤ºä¼°è®¡æ¦‚ç‡åˆ†å¸ƒï¼Œåˆ©ç”¨æ‹’ç»é‡‡æ ·ç®—æ³•çš„å®šä¹‰è®¡ç®—ï¼š<br>
$$\hat{P}(X|\mathbf{e}) = \alpha N_{PS}(X,\mathbf{e}) = \frac{N_{PS}(X,\mathbf{e})}{N_{PS}(\mathbf{e})}.$$<br>
è€Œæ ¹æ®$P(x_1,\cdots,x_m)\approx N_{PS}(x_1,\cdots,x_m)/N$ï¼Œå°±æœ‰ï¼š<br>
$$\hat{P}(X|\mathbf{e}) = \alpha N_{PS}(X,\mathbf{e}) = \frac{N_{PS}(X,\mathbf{e})}{N_{PS}(\mathbf{e})} =  \frac {P(X,\mathbf{e})}{P(\mathbf{e})} = P(X|\mathbf{e}).$$<br>
æ‰€ä»¥ï¼Œæ‹’ç»é‡‡æ ·äº§ç”Ÿäº†çœŸå®æ¦‚ç‡çš„ä¸€ä¸ªä¸€è‡´ä¼°è®¡(consistent estimate)ï¼Œä½†æ˜¯è¿™ä¸ªä¸€è‡´ä¼°è®¡å’Œæ— åä¼°è®¡è¿˜ä¸ä¸€æ ·ã€‚</p>
<h5 id="ç¤ºä¾‹-v3">ç¤ºä¾‹</h5>
<p>ä¸¾ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ï¼Œå‡è®¾æˆ‘ä»¬è¦ä¼°è®¡æ¦‚ç‡$P(Rain|Sprinkler=true)$ï¼Œç”Ÿæˆäº†$100$ä¸ªæ ·æœ¬ï¼Œå…¶ä¸­$73$ä¸ªæ˜¯$Sprinkler=false$ï¼Œ$27$æ˜¯$Sprinkler=true$ï¼Œè¿™$27$ä¸ªä¸­æœ‰$8$ä¸ª$Rain=true$ï¼Œæœ‰$19$ä¸ª$Rain=false$ï¼Œå› æ­¤ï¼š<br>
$$P(Rain|Sprinkler=true)\approx NORMALIZE \lt\lt 8,19&gt;&gt; = &lt;0.296,0.704&gt;.$$<br>
æ­£ç¡®ç­”æ¡ˆæ˜¯$&lt;0.3,0.7&gt;$ï¼Œå¯ä»¥çœ‹å‡ºæ¥ï¼Œä¼°è®¡å€¼å’ŒçœŸå®å€¼å·®çš„ä¸å¤šã€‚ç”Ÿæˆçš„æ ·æœ¬è¶Šå¤šï¼Œä¼°è®¡å€¼å°±ä¼šå’Œæ­£ç¡®å€¼è¶Šæ¥è¿‘ï¼Œæ¦‚ç‡çš„ä¼°è®¡è¯¯å·®å’Œ$1/\sqrt{n}$æˆæ¯”ä¾‹ï¼Œ$n$æ˜¯ç”¨æ¥ä¼°è®¡æ¦‚ç‡çš„æ ·æœ¬æ•°é‡ã€‚</p>
<h5 id="ä¸è¶³">ä¸è¶³</h5>
<p>æ‹’ç»é‡‡æ ·æœ€å¤§çš„é—®é¢˜æ˜¯å®ƒæ‹’ç»äº†å¾ˆå¤šæ ·æœ¬ï¼Œéšç€è¯æ®å˜é‡çš„å¢åŠ ï¼Œå’Œè¯æ®$\mathbf{e}$ä¸€è‡´çš„æ ·æœ¬æŒ‡æ•°é€Ÿåº¦å‡å°‘ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•å¯¹äºå¤æ‚çš„é—®é¢˜æ˜¯ä¸å¯è¡Œçš„ã€‚æ‹’ç»å‡è®¾å’Œç°å®ç”Ÿæ´»ä¸­æ¡ä»¶æ¦‚ç‡æ˜¯å¾ˆåƒçš„ï¼Œæ¯”å¦‚ä¼°è®¡è§‚æµ‹åˆ°æ™šä¸Šå¤©ç©ºæ˜¯çº¢çš„ï¼Œç¬¬äºŒå¤©ä¸‹é›¨çš„æ¦‚ç‡$P(Rain|RedSkyAtNight=ture)$ï¼Œè¿™ä¸ªæ¡ä»¶æ¦‚ç‡çš„ä¼°è®¡å°±æ˜¯æ ¹æ®æ—¥å¸¸ç”Ÿæ´»çš„è§‚å¯Ÿå®ç°çš„ã€‚ä½†æ˜¯å¦‚æœå¤©ç©ºå¾ˆå°‘æ˜¯çº¢çš„ï¼Œå°±éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½ä¼°è®¡å®ƒçš„å€¼ï¼Œè¿™å°±æ˜¯æ‹’ç»å‡è®¾çš„ç¼ºç‚¹ã€‚</p>
<h4 id="å¯èƒ½æ€§åŠ æƒ-likelihood-weighting">å¯èƒ½æ€§åŠ æƒ(Likelihood weighting)</h4>
<h5 id="ç®—æ³•-v2">ç®—æ³•</h5>
<p>å¯èƒ½æ€§åŠ æƒ(Likelihood weighting)åªäº§ç”Ÿå’Œè¯æ®$\mathbf{e}$ä¸€è‡´çš„äº‹ä»¶ï¼Œå› æ­¤é¿å…äº†æ‹’ç»é‡‡æ ·çš„ä½æ•ˆã€‚å®ƒæ˜¯ç»Ÿè®¡å­¦ä¸­é‡è¦æ€§é‡‡æ ·çš„ä¸€ä¸ªä¾‹å­ï¼Œä¸“é—¨ä¸ºè´å¶æ–¯æ¨ç†è®¾è®¡çš„ã€‚<br>
å¦‚Figure 14.15æ‰€ç¤ºï¼ŒåŠ æƒä¼¼ç„¶å›ºå®šè¯æ®å˜é‡$\mathbf{E}$çš„å€¼ï¼Œåªå¯¹éè¯æ®å˜é‡è¿›è¡Œé‡‡æ ·ï¼Œè¿™å°±ä¿è¯äº†æ¯ä¸€ä¸ªäº‹ä»¶éƒ½æ˜¯å’Œè¯æ®ä¸€è‡´çš„ã€‚ä½†æ˜¯ï¼Œä¸æ˜¯æ‰€æœ‰çš„äº‹ä»¶æƒé‡éƒ½æ˜¯ä¸€æ ·çš„ã€‚ç»™å®šæ¯ä¸€ä¸ªè¯æ®å˜é‡çš„çˆ¶èŠ‚ç‚¹ï¼Œå®ƒçš„å¯èƒ½æ€§(likelihood)æ˜¯è¯æ®å˜é‡çš„æ¡ä»¶æ¦‚ç‡çš„ä¹˜ç§¯ï¼Œæ¯ä¸€ä¸ªäº‹ä»¶éƒ½æ ¹æ®è¯æ®çš„å¯èƒ½æ€§è¿›è¡ŒåŠ æƒã€‚</p>
<h5 id="ç¤ºä¾‹-v4">ç¤ºä¾‹</h5>
<p>å¯¹äºFigure 14.12(a)ä¸­çš„ä¾‹å­ï¼Œè®¡ç®—åéªŒæ¦‚ç‡$P(Rain|Cloudy=true,WetGrass=true)$ï¼Œé‡‡æ ·é¡ºåºæ˜¯Cloudy,Sprinkler,Rain,WetGrassã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼Œé¦–å…ˆï¼Œæƒé‡$w$è®¾ä¸º$1$ï¼Œä¸€ä¸ªäº‹ä»¶ç”Ÿæˆè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>Cloudyæ˜¯ä¸€ä¸ªè¯æ®å˜é‡ï¼Œå®ƒçš„å€¼æ˜¯true,å› æ­¤ï¼Œä»¤ï¼š<br>
$$w\leftarrow w\times P(cloudy=true) = 0.5.$$</li>
<li>Sprinkleræ˜¯éšå˜é‡ï¼Œæ‰€ä»¥ä»$P(Sprinkler|Cloudy=true)=&lt;0.1,0.9&gt;$ä¸­é‡‡æ ·ï¼Œå‡è®¾é‡‡æ ·ç»“æœæ˜¯falseï¼›</li>
<li>Rainæ˜¯éšå˜é‡ï¼Œä»$P(Rain|Cloudy=true)=&lt;0.8,0.2&gt;$ä¸­é‡‡æ ·ï¼Œå‡è®¾é‡‡æ ·ç»“æœæ˜¯trueï¼›</li>
<li>WetGrassæ˜¯è¯æ®å˜é‡ï¼Œå€¼æ˜¯true,ä»¤ï¼š<br>
$$w\leftarrow w\times P(WetGrass=true|Sprinkler=false,Rain=true) = 0.45.$$</li>
</ol>
<p>æ‰€ä»¥WEIGHTED-SAMPLEç®—æ³•ç”Ÿæˆäº‹ä»¶[true,false,true,true]ï¼Œç›¸åº”çš„æƒé‡æ˜¯$0.45$ã€‚</p>
<h5 id="åŸç†">åŸç†</h5>
<p>ç”¨$S_{WS}$è¡¨ç¤ºWEIGHTED-SAMPLEç®—æ³•ä¸­äº‹ä»¶çš„é‡‡æ ·æ¦‚ç‡ï¼Œè¯æ®å˜é‡$\mathbf{E}$çš„å–å€¼$\mathbf{e}$æ˜¯å›ºå®šçš„ï¼Œç”¨$\mathbf{Z}$è¡¨ç¤ºéè¯æ®å˜é‡ï¼ŒåŒ…æ‹¬éšå˜é‡$\mathbf{Y}$å’ŒæŸ¥è¯¢å˜é‡$\mathbf{X}$ã€‚ç»™å®šå˜é‡$\mathbf{Z}$çš„çˆ¶èŠ‚ç‚¹ï¼Œç®—æ³•å¯¹å˜é‡$\mathbf{Z}$è¿›è¡Œé‡‡æ ·ï¼š<br>
$$S_{WS}(\mathbf{z},\mathbf{e}) = \prod_{i=1}^lP(z_i|parents(Z_i)).$$<br>
å…¶ä¸­$Parents(Z_i)$å¯èƒ½åŒæ—¶åŒ…å«è¯æ®å˜é‡å’Œéè¯æ®å˜é‡ã€‚<br>
å’Œå…ˆéªŒåˆ†å¸ƒ$P(\mathbf{z})$ä¸åŒçš„æ˜¯ï¼Œæ¯ä¸€ä¸ªå˜é‡$Z_i$çš„å–å€¼ä¼šå—åˆ°$Z_i$çš„ç¥–å…ˆ(ancestor)å˜é‡çš„å½±å“ã€‚æ¯”å¦‚ï¼Œå¯¹Sprinklerè¿›è¡Œé‡‡æ ·çš„æ—¶å€™ï¼Œç®—æ³•ä¼šå—åˆ°å®ƒçš„çˆ¶èŠ‚ç‚¹ä¸­çš„è¯æ®å˜é‡Cloudy=trueçš„å½±å“ï¼Œè€Œå…ˆéªŒåˆ†å¸ƒä¸ä¼šã€‚å¦ä¸€æ–¹é¢ï¼Œ$S_{WS}$æ¯”åéªŒåˆ†å¸ƒ$P(\mathbf{z}|\mathbf{e})$å—è¯æ®çš„å½±å“æ›´å°ï¼Œå› ä¸ºå¯¹$Z_i$çš„é‡‡æ ·å¿½ç•¥äº†$Z_i$çš„éç¥–å…ˆ(non-ancestor)å˜é‡ä¸­çš„è¯æ®ã€‚æ¯”å¦‚ï¼Œå¯¹Sprinklerå’ŒRainè¿›è¡Œé‡‡æ ·çš„æ—¶å€™ï¼Œç®—æ³•å¿½ç•¥äº†å­èŠ‚ç‚¹ä¸­çš„è¯æ®å˜é‡WetGrass=trueï¼Œäº‹å®ä¸Šè¿™ä¸ªè¯æ®å·²ç»æ’é™¤äº†(rule out)Sprinkler=falseå’ŒRain=falseçš„æƒ…å†µï¼Œä½†æ˜¯WEIGHTED-SAMPLEè¿˜ä¼šäº§ç”Ÿå¾ˆå¤šè¿™æ ·çš„æ ·æœ¬äº‹ä»¶ã€‚<br>
ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªé‡‡æ ·åˆ†å¸ƒå’ŒçœŸå®çš„åéªŒæ¦‚ç‡$P(\mathbf{z}|\mathbf{e})$ç›¸ç­‰ï¼Œä¸å¹¸çš„æ˜¯ä¸å­˜åœ¨è¿™æ ·çš„å¤šé¡¹å¼æ—¶é—´çš„ç®—æ³•ã€‚å¦‚æœæœ‰è¿™æ ·çš„ç®—æ³•çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¤šé¡¹å¼æ•°é‡çš„æ ·æœ¬ä»¥ä»»æ„ç²¾åº¦é€¼è¿‘æƒ³è¦æ±‚çš„æ¦‚ç‡å€¼ã€‚<br>
å¯èƒ½æ€§æƒé‡$w$å¼¥è¡¥äº†å®é™…çš„åˆ†å¸ƒå’Œæˆ‘ä»¬æƒ³è¦çš„åˆ†å¸ƒä¹‹é—´çš„å·®è·ã€‚ä¸€ä¸ªç”±$\mathbf{z}$å’Œ$\mathbf{e}$ç»„æˆçš„æ ·æœ¬$\mathbf{x}$çš„æƒé‡æ˜¯ç»™å®šäº†çˆ¶èŠ‚ç‚¹çš„è¯æ®å˜é‡çš„å¯èƒ½æ€§ä¹˜ç§¯ï¼š<br>
$$w(\mathbf{z},\mathbf{e}) = \prod_{i=1}^mP(e_i|parents(E_i)).$$<br>
å°†ä¸Šé¢çš„ä¸¤ä¸ªå¼å­ä¹˜èµ·æ¥ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªæ ·æœ¬çš„åŠ æƒæ¦‚ç‡(weighted probability)æ˜¯ï¼š<br>
$$S_{WS}(\mathbf{z},\mathbf{e})w(\mathbf{z},\mathbf{e}) = \prod_{i=1}<sup>lP(z_i|parents(Z_i))\prod_{i=1}</sup>mP(e_i|parents(E_i)) = P(\mathbf{z},\mathbf{e}).$$<br>
å¯èƒ½æ€§åŠ æƒä¼°è®¡æ˜¯ä¸€è‡´ä¼°è®¡ã€‚å¯¹äºä»»æ„çš„$x$ï¼Œä¼°è®¡çš„åéªŒæ¦‚ç‡æŒ‰ä¸‹å¼è®¡ç®—ï¼š<br>
\begin{align*}<br>
\hat{P}(x|\mathbf{e}) &amp;= \alpha \sum_{\mathbf{y}} N_{WS}(x,\mathbf{y},\mathbf{e})w(x,\mathbf{y},\mathbf{e})\<br>
&amp;\approx \alphaâ€™\sum_{\mathbf{y}}S_{WS}(x,\mathbf{y},\mathbf{e})w(x,\mathbf{y},\mathbf{e})\<br>
&amp;=\alphaâ€™\sum_{\mathbf{y}}P(x,\mathbf{y},\mathbf{e})\<br>
&amp;=\alphaâ€™\sum_{\mathbf{y}}P(x,\mathbf{y},\mathbf{e})\<br>
&amp;=P(x|\mathbf{e})<br>
\end{align*}<br>
ç®—æ³•ä¸­çœŸå®å®ç°çš„æ˜¯ç¬¬ä¸€è¡Œï¼Œå³ç»Ÿè®¡å‡ºç”¨WEIGHTED-SAMPLEäº§ç”Ÿçš„æ ·æœ¬$(x,\mathbf{y},\mathbf{e})$æ•°é‡$N_{WS}$ï¼Œä»¥åŠå¯¹åº”çš„æƒé‡$w(x,\mathbf{y},\mathbf{e})$ï¼Œåé¢çš„éƒ½æ˜¯ç†è®ºæ¨å¯¼ï¼Œå½“$N$å–æé™çš„æ—¶å€™$lim_{N\rightarrow \infty}\frac{N_{WS}(x_1,\cdots,x_n)}{N} = S_{WS}(x_1,\cdots,x_n)$ï¼Œåé¢çš„éƒ½æ˜¯ä¸ºäº†è¯æ˜ç®—æ³•æ˜¯ä¸€è‡´ä¼°è®¡ã€‚</p>
<h5 id="ä¸è¶³-v2">ä¸è¶³</h5>
<p>å¯èƒ½æ€§åŠ æƒç®—æ³•ä½¿ç”¨äº†æ‰€æœ‰ç”Ÿæˆçš„æ ·æœ¬ï¼Œå®ƒæ¯”æ‹’ç»å‡è®¾ç®—æ³•æ›´é«˜æ•ˆã€‚ç„¶è€Œï¼Œéšç€è¯æ®å˜é‡çš„å¢åŠ ï¼Œç®—æ³•æ€§èƒ½ä¼šé€€åŒ–(degradation)ï¼Œè¿™æ˜¯å› ä¸ºå¾ˆå¤šæ ·æœ¬çš„æƒé‡éƒ½ä¼šå¾ˆå°ï¼Œå› æ­¤åŠ æƒä¼°è®¡å¯èƒ½ä¼šå—ä¸€å°éƒ¨åˆ†æƒé‡å¾ˆå¤§çš„æ ·æœ¬çš„å½±å“(dominated)ã€‚å¦‚æœè¯æ®å˜é‡åœ¨éè¯æ®å˜é‡çš„åè¾¹ï¼Œè¿™ä¸ªé—®é¢˜ä¼šåŠ å‰§ï¼Œå› ä¸ºå®ƒä»¬çš„çˆ¶èŠ‚ç‚¹æˆ–è€…ç¥–å…ˆèŠ‚ç‚¹æ²¡æœ‰è¯æ®å˜é‡æ¥æŒ‡å¯¼æ ·æœ¬çš„ç”Ÿæˆã€‚è¿™å°±æ„å‘³ç€ç”Ÿæˆçš„æ ·æœ¬å’Œè¯æ®å˜é‡æ”¯æ’‘çš„çœŸå®æƒ…å†µå¯èƒ½å·®è·å¾ˆå¤§(bear little resemblance)ã€‚</p>
<h3 id="é©¬å°”ç§‘å¤«é“¾ä»¿çœŸæ¨ç†-inference-by-markov-chain-simulation">é©¬å°”ç§‘å¤«é“¾ä»¿çœŸæ¨ç†(Inference by Markov chain simulation)</h3>
<p><a href="https://mxxhcm.github.io/2019/08/01/Monte-Carlo-Markov-Chain/">é©¬å°”ç§‘å¤«é“¾è’™ç‰¹å¡æ´›(Markov chain Monte Carlo,MCMC)</a>ç®—æ³•å’Œæ‹’ç»é‡‡æ ·ä»¥åŠå¯èƒ½æ€§åŠ æƒå¾ˆä¸ä¸€æ ·ã€‚é‚£ä¸¤ä¸ªæ–¹æ³•æ¯æ¬¡éƒ½ä»å¤´å¼€å§‹ç”Ÿæˆæ ·æœ¬ï¼Œè€ŒMCMCç®—æ³•åœ¨ä¹‹å‰çš„æ ·æœ¬ä¸Šåšä¸€äº›éšæœºçš„å˜åŒ–ã€‚å¯ä»¥å°†MCMCç®—æ³•çœ‹æˆæŒ‡å®šäº†æ¯ä¸€ä¸ªå˜é‡å€¼çš„ç‰¹æ®Šå½“å‰çŠ¶æ€(current state)ï¼Œé€šè¿‡å¯¹å½“å‰çŠ¶æ€(current state)åšä»»æ„çš„æ”¹å˜ç”Ÿæˆä¸‹ä¸€ä¸ªçŠ¶æ€(next state)ã€‚è¿™ä¸€èŠ‚è¦ä»‹ç»çš„ä¸€ç§MCMCç®—æ³•æ˜¯å‰å¸ƒæ£®é‡‡æ ·(Gibbs sampling)ã€‚</p>
<h4 id="è´å¶æ–¯ç½‘ç»œä¸­çš„å‰å¸ƒæ£®é‡‡æ ·-gibbs-sampling-in-bayesian-networks">è´å¶æ–¯ç½‘ç»œä¸­çš„å‰å¸ƒæ£®é‡‡æ ·(Gibbs sampling in Bayesian networks)</h4>
<h5 id="ç®—æ³•-v3">ç®—æ³•</h5>
<p>è´å¶æ–¯ç½‘ç»œä¸­çš„å‰å¸ƒæ£®é‡‡æ ·ä»ä»»æ„ä¸€ä¸ªçŠ¶æ€å¼€å§‹ï¼Œå…¶ä¸­è¯æ®å˜é‡çš„å–å€¼å›ºå®šä¸ºè§‚æµ‹å€¼ï¼Œé€šè¿‡éšæœºé€‰å–éè¯æ®å˜é‡$X_i$çš„å€¼ç”Ÿæˆä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚å˜é‡$X_i$çš„é‡‡æ ·å–å†³äºå˜é‡$X_i$çš„é©¬å°”ç§‘å¤«æ¯¯çš„å½“å‰å€¼ã€‚ç®—æ³•åœ¨çŠ¶æ€ç©ºé—´ï¼ˆæ‰€æœ‰éè¯æ®å˜é‡çš„å…¨éƒ¨å¯èƒ½å–å€¼ç©ºé—´ï¼‰ä¸­éšæœºé‡‡æ ·ï¼Œæ¯æ¬¡é‡‡æ ·éƒ½ä¿æŒè¯æ®å˜é‡ä¸å˜ï¼Œä¸€æ¬¡æ”¹å˜ä¸€ä¸ªéè¯æ®å˜é‡çš„å€¼ã€‚å®Œæ•´çš„ç®—æ³•å¦‚Figure 14.16æ‰€ç¤ºã€‚<br>
<img src="/2019/01/06/AI-chapter-14-Probabilistic-reasoning/" alt="figure 14.16"></p>
<h5 id="ç¤ºä¾‹-v5">ç¤ºä¾‹</h5>
<p>Figure 14.12(a)ä¸­çš„æŸ¥è¯¢(query)$P(Rain|Sprinkler=true, WetGrass=true)$ï¼Œè¯æ®å˜é‡Spinklerå’ŒWetGrasså–å®ƒä»¬çš„è§‚æµ‹å€¼ä¸å˜ï¼Œéè¯æ®å˜é‡Cloudyå’ŒRainéšæœºåˆå§‹åŒ–ï¼Œå‡è®¾å–çš„æ˜¯trueå’Œfalseã€‚é‚£ä¹ˆåˆå§‹çŠ¶æ€å°±æ˜¯[true,true,false,true]ï¼Œæ¥ä¸‹æ¥å¯¹éè¯æ®å˜é‡è¿›è¡Œé‡å¤çš„éšæœºé‡‡æ ·ã€‚<br>
æ¯”å¦‚ç¬¬ä¸€æ¬¡å¯¹Cloudyé‡‡æ ·ï¼ˆä¹Ÿå¯ä»¥å¯¹Rainé‡‡æ ·ï¼‰ï¼Œç»™å®šå®ƒçš„é©¬å°”ç§‘å¤«æ¯¯å˜é‡ï¼Œç„¶åä»$P(Cloudy|Sprinkler=true,Rain=false)$ä¸­è¿›è¡Œé‡‡æ ·ï¼Œå‡è®¾é‡‡æ ·ç»“æœæ˜¯falseï¼Œæ–°çš„çŠ¶æ€å°±æ˜¯[false,true,false,true]ã€‚æ¥ä¸‹æ¥éšæœºå¯ä»¥å¯¹Rainé‡‡æ ·ï¼ˆä¹Ÿå¯ä»¥å¯¹Cloudyé‡‡æ ·ï¼‰ï¼Œç»™å®šRainçš„é©¬å°”ç§‘å¤«æ¯¯å˜é‡çš„å–å€¼ï¼Œä»$P(Rain|Cloudy=false,Sprinkler=true,WetGrass=true)$ä¸­è¿›è¡Œé‡‡æ ·ï¼Œå‡è®¾é‡‡æ ·å€¼æ˜¯true,é‚£ä¹ˆæ–°çš„çŠ¶æ€æ˜¯[true,true,false,false]ã€‚æ¥ä¸‹æ¥å¯ä»¥ä¸€ç›´è¿›è¡Œé‡‡æ ·ã€‚ã€‚æœ€ç»ˆåˆ©ç”¨ç”Ÿæˆçš„æ ·æœ¬è®¡ç®—å‡ºç›¸åº”çš„æ¦‚ç‡ã€‚</p>
<h4 id="ä¸ºä»€ä¹ˆå‰å¸ƒæ£®é‡‡æ ·æœ‰ç”¨-why-gibbs-sampling-works">ä¸ºä»€ä¹ˆå‰å¸ƒæ£®é‡‡æ ·æœ‰ç”¨(Why Gibbs sampling works)</h4>
<p>æ¥ä¸‹æ¥ç»™å‡ºä¸ºä»€ä¹ˆå‰å¸ƒæ£®é‡‡æ ·è®¡ç®—åéªŒæ¦‚ç‡æ˜¯ä¸€è‡´ä¼°è®¡ã€‚åŸºæœ¬çš„è§£é‡Šæ˜¯ç›´æˆªäº†å½“çš„ï¼šé‡‡æ ·è¿‡ç¨‹å»ºç«‹äº†ä¸€ä¸ªåŠ¨æ€å¹³è¡¡ï¼Œæ¯ä¸ªçŠ¶æ€èŠ±è´¹çš„æ—¶é—´é•¿æœŸæ¥è¯´å’Œå®ƒçš„åéªŒæ¦‚ç‡æ˜¯æˆæ¯”ä¾‹çš„ã€‚<br>
å…·ä½“çš„ï¼Œä¸æƒ³çœ‹äº†ã€‚ã€‚ã€‚å°±éšç¼˜å§</p>
<h2 id="å…³ç³»å’Œä¸€é˜¶æ¦‚ç‡æ¨¡å‹-relational-and-first-order-probability-models">å…³ç³»å’Œä¸€é˜¶æ¦‚ç‡æ¨¡å‹(Relational and first-order probability models)</h2>
<h2 id="å…¶ä»–ä¸ç¡®å®šæ€§æ¨ç†çš„æ–¹æ³•-other-approaches-to-uncertain-reasoning">å…¶ä»–ä¸ç¡®å®šæ€§æ¨ç†çš„æ–¹æ³•(Other approaches to uncertain reasoning)</h2>
<h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h2>
<p>1.<a href="http://aima.cs.berkeley.edu/" target="_blank" rel="noopener">Artificial Intelligence A Modern Approach Third Edition,Stuart Russell,Peter Norvig.</a><br>
2.<a href="https://en.wikipedia.org/wiki/Chain_rule_(probability)" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Chain_rule_(probability)</a><br>
3.<a href="https://en.wikipedia.org/wiki/Consistent_estimator" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Consistent_estimator</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/01/03/linear-algebra-singular-value-decomposition/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/03/linear-algebra-singular-value-decomposition/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/15/index.html">singular value decompositionï¼ˆå¥‡å¼‚å€¼åˆ†è§£ï¼‰</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-01-03 15:19:54" itemprop="dateCreated datePublished" datetime="2019-01-03T15:19:54+08:00">2019-01-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-09 16:53:25" itemprop="dateModified" datetime="2019-09-09T16:53:25+08:00">2019-09-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/çº¿æ€§ä»£æ•°/" itemprop="url" rel="index"><span itemprop="name">çº¿æ€§ä»£æ•°</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ç‰¹å¾å€¼åˆ†è§£-eigen-value-decomposition">ç‰¹å¾å€¼åˆ†è§£(eigen value decomposition)</h2>
<p>è¦è°ˆå¥‡å¼‚å€¼åˆ†è§£ï¼Œé¦–å…ˆè¦ä»ç‰¹å¾å€¼åˆ†è§£(eigen value decomposition, EVD)è°ˆèµ·ã€‚<br>
çŸ©é˜µçš„ä½œç”¨æœ‰ä¸‰ä¸ªï¼šä¸€ä¸ªæ˜¯æ—‹è½¬ï¼Œä¸€ä¸ªæ˜¯æ‹‰ä¼¸ï¼Œä¸€ä¸ªæ˜¯å¹³ç§»ï¼Œéƒ½æ˜¯çº¿æ€§æ“ä½œã€‚å¦‚æœä¸€ä¸ª$n\times n$æ–¹é˜µ$A$å¯¹æŸä¸ªå‘é‡$x$åªäº§ç”Ÿæ‹‰ä¼¸å˜æ¢ï¼Œè€Œä¸äº§ç”Ÿæ—‹è½¬å’Œå¹³ç§»å˜æ¢ï¼Œé‚£ä¹ˆè¿™ä¸ªå‘é‡å°±ç§°ä¸ºæ–¹é˜µ$A$çš„ç‰¹å¾å‘é‡(eigenvector)ï¼Œå¯¹åº”çš„ä¼¸ç¼©æ¯”ä¾‹å«åšç‰¹å¾å€¼(eigenvalue)ï¼Œå³æ»¡è¶³ç­‰å¼$Ax = \lambda x$ã€‚å…¶ä¸­$A$æ˜¯æ–¹é˜µï¼Œ$x$æ˜¯æ–¹é˜µ$A$çš„ä¸€ä¸ªç‰¹å¾å‘é‡ï¼Œ$\lambda$æ˜¯æ–¹é˜µ$A$å¯¹åº”ç‰¹å¾å‘é‡$x$çš„ç‰¹å¾å€¼ã€‚<br>
å‡è®¾$S$æ˜¯ç”±æ–¹é˜µ$A$çš„$n$ä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡æ„æˆçš„æ–¹é˜µï¼Œ$\Lambda$æ˜¯æ–¹é˜µ$A$çš„$n$ä¸ªç‰¹å¾å€¼æ„æˆçš„å¯¹è§’çŸ©é˜µï¼Œåˆ™$A=S\Lambda S^{-1}$ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšå¯¹è§’åŒ–è¿‡ç¨‹ã€‚<br>
è¯æ˜ï¼š<br>
å› ä¸º$Ax_1 = \lambda_1 x_1,\cdots,Ax_n = \lambda_n x_n$,<br>
æ‰€ä»¥<br>
\begin{align*}AS &amp;= A\begin{bmatrix}x_1&amp; \cdots&amp;x_n\end{bmatrix}\\<br>
&amp;=\begin{bmatrix} \lambda_1x_1&amp;\cdots&amp;\lambda x_n\end{bmatrix}\\<br>
&amp;= \begin{bmatrix}x_1&amp; \cdots&amp;x_n\end{bmatrix} \begin{bmatrix}\lambda_1&amp; &amp; &amp;\\&amp;\lambda_2&amp;&amp;\\&amp;&amp;\cdots&amp;\\&amp;&amp;&amp;\lambda_n\end{bmatrix}\<br>
&amp;= S\Lambda<br>
\end{align*}<br>
æ‰€ä»¥$AS=S\Lambda, A=S\Lambda S^{-1}, S^{-1}AS=\Lambda$ã€‚<br>
è‹¥æ–¹é˜µ$A$ä¸ºå¯¹ç§°çŸ©é˜µï¼ŒçŸ©é˜µ$A$çš„ç‰¹å¾å‘é‡æ˜¯æ­£äº¤çš„ï¼Œå°†å…¶å•ä½åŒ–ä¸º$Q$ï¼Œåˆ™$A=Q\Lambda Q^T$ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«åšç‰¹å¾å€¼åˆ†è§£ã€‚</p>
<h2 id="å¥‡å¼‚å€¼åˆ†è§£-singular-value-decomposition">å¥‡å¼‚å€¼åˆ†è§£(singular value decomposition)</h2>
<p>ç‰¹å¾å€¼åˆ†è§£æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„åˆ†è§£ï¼Œå› ä¸ºå®ƒèƒ½æŠŠä¸€ä¸ªæ–¹é˜µåˆ†è§£ç§°ä¸¤ç±»éå¸¸å¥½çš„çŸ©é˜µï¼Œä¸€ä¸ªæ˜¯æ­£äº¤é˜µï¼Œä¸€ä¸ªæ˜¯å¯¹è§’é˜µï¼Œè¿™äº›çŸ©é˜µéƒ½ä¾¿äºè¿›è¡Œå„ç§è®¡ç®—ï¼Œä½†æ˜¯å®ƒå¯¹äºåŸå§‹çŸ©é˜µçš„è¦æ±‚å¤ªä¸¥æ ¼äº†ï¼Œå¿…é¡»è¦æ±‚çŸ©é˜µæ˜¯å¯¹ç§°æ­£å®šçŸ©é˜µï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆè‹›åˆ»çš„æ¡ä»¶ã€‚æ‰€ä»¥å°±äº§ç”Ÿäº†å¥‡å¼‚å€¼åˆ†è§£ï¼Œå¥‡å¼‚å€¼åˆ†è§£å¯ä»¥çœ‹ä½œç‰¹å¾å€¼åˆ†è§£åœ¨$m\times n$ç»´çŸ©é˜µä¸Šçš„æ¨å¹¿ã€‚å¯¹äºå¯¹ç§°æ­£å®šçŸ©é˜µæ¥è¯´ï¼Œæœ‰ç‰¹å¾å€¼ï¼Œå¯¹äºå…¶ä»–ä¸€èˆ¬çŸ©é˜µï¼Œæœ‰å¥‡å¼‚å€¼ã€‚</p>
<p>å¥‡å¼‚å€¼åˆ†è§£å¯ä»¥çœ‹ä½œå°†ä¸€ç»„æ­£äº¤åŸºæ˜ å°„åˆ°å¦ä¸€ç»„æ­£äº¤åŸºçš„å˜æ¢ã€‚æ™®é€šçŸ©é˜µ$A$ä¸æ˜¯å¯¹ç§°æ­£å®šçŸ©é˜µï¼Œä½†æ˜¯$AA^T $å’Œ$A^TA $ä¸€å®šæ˜¯å¯¹ç§°çŸ©é˜µï¼Œä¸”è‡³å°‘æ˜¯åŠæ­£å®šçš„ã€‚ä»å¯¹$A^TA $è¿›è¡Œç‰¹å¾å€¼åˆ†è§£å¼€å§‹ï¼Œ$A^T A=V\Sigma_1V^T $ï¼Œ$V$æ˜¯ä¸€ç»„æ­£äº¤çš„å•ä½åŒ–ç‰¹å¾å‘é‡${v_1,\cdots,v_n}$ï¼Œåˆ™$Av_1,\cdots,Av_n$ä¹Ÿæ˜¯æ­£äº¤çš„ã€‚<br>
è¯æ˜ï¼š<br>
\begin{align*}Av_1\cdot Av_2 &amp;=(Av_1)^T Av_2\\<br>
&amp;=v_1^T A^T Av_2\\<br>
&amp;=v_1^T \lambda v_2\\<br>
&amp;=\lambda v_1^T v_2\\<br>
&amp;=0<br>
\end{align*}<br>
æ‰€ä»¥$Av_1,Av_2$æ˜¯æ­£äº¤çš„ï¼ŒåŒç†å¯å¾—$Av_1,\cdots,Av_n$éƒ½æ˜¯æ­£äº¤çš„ã€‚<br>
è€Œï¼š<br>
\begin{align*}<br>
Av_i\cdot Av_i &amp;= v_i^T A^T Av_i\\<br>
&amp;=v_i \lambda v_i\\<br>
&amp;=\lambda v_i^2\\<br>
&amp;=\lambda<br>
\end{align*}<br>
å°†$Av_i$å•ä½åŒ–ä¸º$u_i$ï¼Œå¾—$u_i = \frac{Av_i}{|Av_i|} = \frac{Av_i}{\sqrt{\lambda_i}}$ï¼Œæ‰€ä»¥$Av_i = \sqrt{\lambda_i}u_i$ã€‚<br>
å°†å‘é‡ç»„${v_1,\cdots,v_r}$æ‰©å……åˆ°$R^n $ä¸­çš„æ ‡å‡†æ­£äº¤åŸº${v_1,\cdots,v_n}$ï¼Œå°†å‘é‡ç»„${u_1,\cdots,u_r}$æ‰©å……åˆ°$R^n $ä¸­çš„æ ‡å‡†æ­£äº¤åŸº${u_1,\cdots,u_n}$ï¼Œåˆ™$AV = U\Sigma$ï¼Œ$A=U\sigma V^T $ã€‚</p>
<p>äº‹å®ä¸Šï¼Œå¥‡å¼‚å€¼åˆ†è§£å¯ä»¥çœ‹ä½œå°†è¡Œç©ºé—´çš„ä¸€ç»„æ­£äº¤åŸºåŠ ä¸Šé›¶ç©ºé—´çš„ä¸€ç»„åŸºæ˜ å°„åˆ°åˆ—ç©ºé—´çš„ä¸€ç»„æ­£äº¤åŸºåŠ ä¸Šå·¦é›¶ç©ºé—´çš„ä¸€ç»„åŸºçš„å˜æ¢ã€‚å¯¹ä¸€çŸ©é˜µ$A,A\in \mathbb{R}^{m\times n} $ï¼Œè‹¥$r(A)=r$ï¼Œå–è¡Œç©ºé—´çš„ä¸€ç»„ç‰¹æ®Šæ­£äº¤åŸº${v_1,\cdots,v_r}$ï¼Œå½“çŸ©é˜µ$A$ä½œç”¨åˆ°è¿™ç»„åŸºä¸Šï¼Œä¼šå¾—åˆ°å¦ä¸€ç»„æ­£äº¤åŸº${u_1,\cdots,u_r}$ï¼Œå³$Av_i = \sigma_iu_i$ã€‚<br>
çŸ©é˜µè¡¨ç¤ºæ˜¯ï¼š<br>
\begin{align*}<br>
AV &amp;= A\begin{bmatrix}v_1&amp;\cdots&amp;v_r\end{bmatrix}\\<br>
&amp;= \begin{bmatrix}\sigma_1u_1 &amp; \cdots &amp; \sigma_ru_r\end{bmatrix}\\<br>
&amp;= \begin{bmatrix}u_1&amp;u_2&amp;\cdots&amp;u_r\end{bmatrix}\begin{bmatrix}\sigma_1&amp;&amp;&amp;\\&amp;\sigma_2&amp;&amp;\\&amp;&amp;\cdots&amp;\\&amp;&amp;&amp;\sigma_n\end{bmatrix}\\<br>
&amp;=U\Sigma<br>
\end{align*}<br>
å…¶ä¸­$A\in \mathbb{R}^{m\times n}, V\in \mathbb{R}^{n\times r},U\in \mathbb{R}^{m\times r}, \Sigma \in \mathbb{R}^{r\times n}$ã€‚<br>
å½“æœ‰é›¶ç©ºé—´çš„æ—¶å€™ï¼Œè¡Œç©ºé—´çš„ä¸€ç»„åŸºæ˜¯$r$ç»´ï¼ŒåŠ ä¸Šé›¶ç©ºé—´çš„$n-r$ç»´ï¼Œæ„æˆ$R^n $ç©ºé—´ä¸­çš„ä¸€ç»„æ ‡å‡†æ­£äº¤åŸºã€‚åˆ—ç©ºé—´çš„ä¸€ç»„åŸºä¹Ÿæ˜¯$r$ç»´çš„ï¼ŒåŠ ä¸Šå·¦é›¶ç©ºé—´çš„$m-r$ç»´ï¼Œæ„æˆ$R^m $ç©ºé—´çš„ä¸€ç»„æ ‡å‡†æ­£äº¤åŸºã€‚é›¶ç©ºé—´ä¸­çš„å‘é‡åœ¨å¯¹è§’çŸ©é˜µ$\Sigma$ä¸­ä½“ç°ä¸º$0$ï¼Œ<br>
åˆ™$A=U\Sigma V^{-1} $ï¼Œ$V$æ˜¯æ­£äº¤çš„ï¼Œæ‰€ä»¥$A=U\Sigma V^T $ï¼Œå…¶ä¸­$V\in \mathbb{R}^{n\times n}, U\in \mathbb{R}^{m\times m}, \Sigma \in \mathbb{R}^{m\times n}$ã€‚</p>
<p>$A=U\Sigma V^T $,<br>
$A^T = V\Sigma^T U^T $,<br>
$AA^T = U\Sigma V^T V\Sigma^T U^T $,<br>
$A^T A = V\Sigma^T U^T U\Sigma V^T $<br>
å¯¹$A A^T $å’Œ$A^T A$ä½œç‰¹å¾å€¼åˆ†è§£ï¼Œåˆ™$A A^T = U\Sigma_1U^T $,$A^T A=V\Sigma_2V^T $ï¼Œæ‰€ä»¥å¯¹$AA^T $ä½œç‰¹å¾å€¼åˆ†è§£æ±‚å‡ºæ¥çš„$U$å’Œå¯¹$A^T A$ä½œç‰¹å¾å€¼åˆ†è§£æ±‚å‡ºæ¥çš„$V$å°±æ˜¯å¯¹$A$ä½œå¥‡å¼‚å€¼åˆ†è§£æ±‚å‡ºæ¥çš„$U$å’Œ$V$ï¼Œ$AA^T $å’Œ$A^T A$ä½œç‰¹å¾å€¼åˆ†è§£æ±‚å‡ºæ¥çš„$\Sigma$çš„éé›¶å€¼æ˜¯ç›¸ç­‰çš„ï¼Œéƒ½æ˜¯å¯¹$A$ä½œå¥‡å¼‚å€¼åˆ†è§£çš„$\Sigma$çš„å¹³æ–¹ã€‚</p>
<h3 id="a-t-a-å’Œ-aa-t-çš„éé›¶ç‰¹å¾å€¼æ˜¯ç›¸ç­‰çš„">$A^T A$å’Œ$AA^T $çš„éé›¶ç‰¹å¾å€¼æ˜¯ç›¸ç­‰çš„</h3>
<p>è¯æ˜ï¼šå¯¹äºä»»æ„çš„$m\times n$çŸ©é˜µ$A$ï¼Œ$A^T A$å’Œ$AA^T $çš„éé›¶ç‰¹å¾å€¼ç›¸åŒçš„ã€‚ è®¾$A^T A$çš„ç‰¹å¾å€¼ä¸º$\lambda_i$ï¼Œå¯¹åº”çš„ç‰¹å¾å‘é‡ä¸º$v_i$ï¼Œå³$A^T Av_i = \lambda_i v_i$ã€‚<br>
åˆ™$AA^T Av_i = A\lambda_iv_i = \lambda_i Av_i$ã€‚<br>
æ‰€ä»¥$AA^T $çš„ç‰¹å¾å€¼ä¸º$\lambda_i$ï¼Œå¯¹åº”çš„ç‰¹å¾å‘é‡ä¸º$Av_i$ã€‚<br>
å› æ­¤$A^T A$å’Œ$AA^T $çš„éé›¶ç‰¹å¾å€¼ç›¸ç­‰ã€‚</p>
<h3 id="å‡ ä½•æ„ä¹‰">å‡ ä½•æ„ä¹‰</h3>
<p>å¯¹äºä»»æ„ä¸€ä¸ªçŸ©é˜µï¼Œæ‰¾åˆ°å…¶è¡Œç©ºé—´(åŠ ä¸Šé›¶ç©ºé—´)çš„ä¸€ç»„æ­£äº¤å‘é‡ï¼Œä½¿å¾—è¯¥çŸ©é˜µä½œç”¨åœ¨è¯¥å‘é‡åºåˆ—ä¸Šå¾—åˆ°çš„æ–°çš„å‘é‡åºåˆ—ä¿æŒä¸¤ä¸¤æ­£äº¤ã€‚å¥‡å¼‚å€¼çš„å‡ ä½•æ„ä¹‰å°±æ˜¯è¿™ç»„å˜åŒ–åçš„æ–°çš„å‘é‡åºåˆ—çš„é•¿åº¦ã€‚</p>
<h3 id="ç‰©ç†æ„ä¹‰">ç‰©ç†æ„ä¹‰</h3>
<p>å¥‡å¼‚å€¼å¾€å¾€å¯¹åº”ç€çŸ©é˜µéšå«çš„é‡è¦ä¿¡æ¯ï¼Œä¸”é‡è¦æ€§å’Œå¥‡å¼‚å€¼å¤§å°æ­£ç›¸å…³ã€‚æ¯ä¸ªçŸ©é˜µéƒ½å¯ä»¥è¡¨ç¤ºä¸ºä¸€ç³»åˆ—ç§©ä¸º$1$çš„â€œå°çŸ©é˜µâ€çš„å’Œï¼Œè€Œå¥‡å¼‚å€¼åˆ™è¡¡é‡äº†è¿™äº›ç§©ä¸€çŸ©é˜µå¯¹$A$çš„æƒé‡ã€‚<br>
å¥‡å¼‚å€¼åˆ†è§£çš„ç‰©ç†æ„ä¹‰å¯ä»¥é€šè¿‡å›¾åƒå‹ç¼©è¡¨ç°å‡ºæ¥ã€‚ç»™å®šä¸€å¼ $m\times n$åƒç´ çš„ç…§ç‰‡$A$ï¼Œç”¨å¥‡å¼‚å€¼åˆ†è§£å°†çŸ©é˜µåˆ†è§£ä¸ºè‹¥å¹²ä¸ªç§©ä¸€çŸ©é˜µä¹‹å’Œï¼Œå³ï¼š<br>
\begin{align*}<br>
A&amp;=\sigma_1 u_1v_1^T +\sigma_2 u_2v_2^T +\cdots+\sigma_r u_rv_r^T\\<br>
&amp;= \begin{bmatrix}u_1&amp;u_2&amp;\cdots&amp;u_r\end{bmatrix}\begin{bmatrix}\sigma_1&amp;&amp;&amp;\&amp;\sigma_2&amp;&amp;\&amp;&amp;\cdots&amp;\&amp;&amp;&amp;\sigma_n\end{bmatrix}\begin{bmatrix}v_1<sup>T\v_2</sup>T\ \vdots\v_r^T\end{bmatrix}\\<br>
&amp;=U\Sigma V^T<br>
\end{align*}</p>
<p>è¿™ä¸ªä¹Ÿå«éƒ¨åˆ†å¥‡å¼‚å€¼åˆ†è§£ã€‚å…¶ä¸­$V\in R^{r\times n}, U\in R^{m\times r}, \Sigma \in R^{r\times r}$ã€‚å› ä¸ºä¸å«æœ‰é›¶ç©ºé—´å’Œå·¦é›¶ç©ºé—´çš„åŸºï¼Œå¦‚æœåŠ ä¸Šé›¶ç©ºé—´çš„$n-r$ç»´å’Œå·¦é›¶ç©ºé—´çš„$m-r$ç»´ï¼Œå°±æ˜¯å¥‡å¼‚å€¼åˆ†è§£ã€‚<br>
è¾ƒå¤§çš„å¥‡å¼‚å€¼ä¿å­˜äº†å›¾ç‰‡çš„ä¸»è¦ä¿¡æ¯ï¼Œç‰¹åˆ«å°çš„å¥‡å¼‚å€¼æœ‰æ—¶å¯èƒ½æ˜¯å™ªå£°ï¼Œæˆ–è€…å¯¹äºå›¾ç‰‡çš„æ•´ä½“ä¿¡æ¯ä¸æ˜¯ç‰¹åˆ«é‡è¦ã€‚åšå›¾åƒå‹ç¼©çš„æ—¶å€™ï¼Œå¯ä»¥åªå–ä¸€éƒ¨åˆ†è¾ƒå¤§çš„å¥‡å¼‚å€¼ï¼Œæ¯”å¦‚å–å‰å…«ä¸ªå¥‡å¼‚å€¼ä½œä¸ºå‹ç¼©åçš„å›¾ç‰‡ï¼š<br>
$$A = \sigma_1 u_1v_1^T +\sigma_2 u_2v_2^T + \cdots + \sigma_8 u_8v_8^T$$<br>
ç°å®ä¸­å¸¸ç”¨çš„åšæ³•æœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li>ä¿ç•™çŸ©é˜µä¸­$90%$çš„ä¿¡æ¯ï¼šå°†å¥‡å¼‚å€¼å¹³æ–¹å’Œç´¯åŠ åˆ°æ€»å€¼çš„%90%ä¸ºæ­¢ã€‚</li>
<li>å½“çŸ©é˜µæœ‰ä¸Šä¸‡ä¸ªå¥‡å¼‚å€¼çš„æ—¶å€™ï¼Œå–å‰é¢çš„$2000$æˆ–è€…$3000$ä¸ªå¥‡å¼‚å€¼ã€‚ã€‚</li>
</ol>
<h2 id="å‚è€ƒæ–‡çŒ®-references">å‚è€ƒæ–‡çŒ®(references)</h2>
<p>1.Gilbert Strang, MIT Open courseï¼šLinear Algebra<br>
2.<a href="https://www.cnblogs.com/pinard/p/6251584.html" target="_blank" rel="noopener">https://www.cnblogs.com/pinard/p/6251584.html</a><br>
3.<a href="http://www.ams.org/publicoutreach/feature-column/fcarc-svd" target="_blank" rel="noopener">http://www.ams.org/publicoutreach/feature-column/fcarc-svd</a><br>
4.<a href="https://www.zhihu.com/question/22237507/answer/53804902" target="_blank" rel="noopener">https://www.zhihu.com/question/22237507/answer/53804902</a><br>
5.<a href="http://charleshm.github.io/2016/03/Singularly-Valuable-Decomposition/" target="_blank" rel="noopener">http://charleshm.github.io/2016/03/Singularly-Valuable-Decomposition/</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2018/12/24/convex-optimization-chapter-2-Convex-sets/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/24/convex-optimization-chapter-2-Convex-sets/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/15/index.html">convex optimization chapter 2 Convex sets</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-12-24 16:28:45" itemprop="dateCreated datePublished" datetime="2018-12-24T16:28:45+08:00">2018-12-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-09 16:25:28" itemprop="dateModified" datetime="2019-09-09T16:25:28+08:00">2019-09-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/å‡¸ä¼˜åŒ–/" itemprop="url" rel="index"><span itemprop="name">å‡¸ä¼˜åŒ–</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ä»¿å°„é›†-affine-sets-å’Œå‡¸é›†-convex-sets">ä»¿å°„é›†(affine sets)å’Œå‡¸é›†(convex sets)</h2>
<h3 id="ç›´çº¿-line-å’Œçº¿æ®µ-line-segmens">ç›´çº¿(line)å’Œçº¿æ®µ(line segmens)</h3>
<p>å‡è®¾$x_1,x_2 \in \mathbb{R}^n $æ˜¯nç»´ç©ºé—´ä¸­ä¸é‡åˆ$(x_1 \ne x_2)$çš„ä¸¤ç‚¹ï¼Œç»™å®šï¼š<br>
$$y = \theta x_1 + (1 - \theta)x_2,$$<br>
å½“$\theta\in R$æ—¶ï¼Œ$y$æ˜¯ç»è¿‡ç‚¹$x_1$å’Œç‚¹$x_2$çš„ç›´çº¿ã€‚å½“$\theta=1$æ—¶ï¼Œ$y=x_1$,å½“$\theta=0$æ—¶ï¼Œ$y=x_2$ã€‚å½“$\theta\in[0,1]$æ—¶ï¼Œ$y$æ˜¯$x_1$å’Œ$x_2$ä¹‹é—´çš„çº¿æ®µ(line segment)ã€‚ æŠŠ$y$æ”¹å†™æˆå¦‚ä¸‹å½¢å¼ï¼š $$y = x_2 + \theta(x_1 - x_2)$$ï¼Œå¯ä»¥ç»™å‡ºå¦ä¸€ç§è§£é‡Šï¼Œ$y$æ˜¯ç‚¹$x_2$å’Œæ–¹å‘$x_1 - x_2$(ä»$x_2$åˆ°$x_1$çš„æ–¹å‘)ä¹˜ä¸Šä¸€ä¸ªç¼©æ”¾å› å­$\theta$çš„å’Œã€‚<br>
å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯ä»¥å°†yçœ‹æˆ$\theta$çš„å‡½æ•°ã€‚<br>
<img src="https://ws1.sinaimg.cn/large/006wtfMEly1fyhy7m4llij30mz0alwep.jpg" alt="line_line-segment"></p>
<h3 id="ä»¿å°„é›†-affine-sets">ä»¿å°„é›†(affine sets)</h3>
<h4 id="ä»¿å°„é›†çš„å®šä¹‰">ä»¿å°„é›†çš„å®šä¹‰</h4>
<p>ç»™å®šä¸€ä¸ªé›†åˆ$C\subset \mathbb{R}^n $,å¦‚æœç»è¿‡$C$ä¸­ä»»æ„ä¸¤ä¸ªä¸åŒç‚¹çš„ç›´çº¿ä»ç„¶åœ¨$C$ä¸­ï¼Œé‚£ä¹ˆ$C$å°±æ˜¯ä¸€ä¸ªä»¿å°„é›†ã€‚å³ï¼Œå¯¹äºä»»æ„$x_1,x_2\in C$å’Œ$\theta\in R$ï¼Œéƒ½æœ‰$\theta x_1 + (1 - \theta)x_2 \in C$ã€‚æ¢å¥è¯è¯´ï¼Œç»™å®šçº¿æ€§ç»„åˆçš„ç³»æ•°å’Œä¸º$1$ï¼Œ$C$ä¸­ä»»æ„ä¸¤ç‚¹çš„çº¿æ€§ç»„åˆä»ç„¶åœ¨$C$ä¸­ï¼Œæˆ‘ä»¬å°±ç§°è¿™æ ·çš„é›†åˆæ˜¯ä»¿å°„çš„(affine)ã€‚</p>
<h4 id="ä»¿å°„ç»„åˆ-affine-combination">ä»¿å°„ç»„åˆ(affine combination)</h4>
<p>æˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªç‚¹çš„çº¿æ€§ç»„åˆæ¨å¹¿åˆ°å¤šä¸ªç‚¹çš„çº¿æ€§ç»„åˆï¼Œè¿™é‡Œç§°å®ƒä¸ºä»¿å°„ç»„åˆã€‚<br>
ä»¿å°„ç»„åˆçš„å®šä¹‰ï¼šç»™å®š$\theta_1+\cdots+\theta_k = 1$,åˆ™$\theta_1 x_1 + \cdots + \theta_k x_k$æ˜¯ç‚¹$x_1,\cdots,x_k$çš„ä»¿å°„ç»„åˆ(affine combination)ã€‚<br>
æ ¹æ®ä»¿å°„é›†çš„å®šä¹‰ï¼Œä¸€ä¸ªä»¿å°„é›†(affine set)åŒ…å«é›†åˆä¸­ä»»æ„ä¸¤ä¸ªç‚¹çš„ä»¿å°„ï¼ˆçº¿æ€§ï¼‰ç»„åˆï¼Œé‚£ä¹ˆå¯ä»¥æ¨å¯¼å‡ºä»¿å°„é›†åŒ…å«é›†åˆä¸­ä»»æ„ç‚¹ï¼ˆå¤§äºç­‰äºä¸¤ä¸ªï¼‰çš„ä»¿å°„ç»„åˆï¼Œå³ï¼šå¦‚æœ$C$æ˜¯ä¸€ä¸ªä»¿å°„é›†ï¼Œ$x_1,\cdots,x_k\in C$,ä¸”$\theta_1 x_1 + \cdots + \theta_k x_k = 1$,é‚£ä¹ˆç‚¹$\theta_1 x_1 + \cdots + \theta_k x_k$ä»ç„¶å±äº$C$ã€‚</p>
<h4 id="ä»¿å°„é›†çš„å­ç©ºé—´-subspce">ä»¿å°„é›†çš„å­ç©ºé—´(subspce)</h4>
<p>å¦‚æœ$C$æ˜¯ä¸€ä¸ªä»¿å°„é›†ï¼Œ$x_0 \in C$,é‚£ä¹ˆé›†åˆ<br>
$$V = C - x_0 = {x - x_0\big|x \in C}$$<br>
æ˜¯ä¸€ä¸ªå­ç©ºé—´(subspace),å› ä¸º$V$æ˜¯åŠ æ³•å°é—­å’Œæ•°ä¹˜å°é—­çš„ã€‚<br>
è¯æ˜ï¼š<br>
å‡è®¾$v_1, v_2 \in V$ï¼Œå¹¶ä¸”$\alpha,\beta \in R$ã€‚<br>
è¦è¯æ˜Væ˜¯ä¸€ä¸ªå­ç©ºé—´ï¼Œé‚£ä¹ˆåªéœ€è¦è¯æ˜$\alpha v_1 + \beta v_2 \in V$å³å¯ã€‚<br>
å› ä¸º$v_1, v_2 \in V$ï¼Œåˆ™$v_1+x_0, v_2+x_0 \in C$ã€‚<br>
è€Œ$x_0 \in C$ï¼Œæ‰€ä»¥æœ‰<br>
$$\alpha(v_1+x_0) + \beta(v_2+x_0) + (1 - \alpha - \beta)x_0 \in C$$<br>
å³ï¼š<br>
\begin{align*}<br>
\alpha v_1 + \beta v_2 + (\alpha + \beta + 1 - \alpha - \beta)x_0 &amp;\in C\\<br>
\alpha v_1 + \beta v_2 + x_0 &amp;\in C<br>
\end{align*}<br>
æ‰€ä»¥$\alpha v_1 + \beta v_2 \in V$ã€‚<br>
æ‰€ä»¥ï¼Œä»¿å°„é›†$C$å¯ä»¥å†™æˆï¼š<br>
$$C = V + x_0 = { v + x_0\big| v \in V},$$<br>
å³ï¼Œä¸€ä¸ªå­ç©ºé—´åŠ ä¸Šä¸€ä¸ªåç§»(offset)ã€‚è€Œä¸ä»¿å°„é›†$C$ç›¸å…³çš„å­ç©ºé—´$V$ä¸$x_0$çš„é€‰æ‹©æ— å…³ï¼Œå³$x_0$å¯ä»¥ä¸º$C$ä¸­ä»»æ„ä¸€ç‚¹ã€‚</p>
<h4 id="ç¤ºä¾‹">ç¤ºä¾‹</h4>
<p>çº¿æ€§æ–¹ç¨‹ç»„çš„è§£ã€‚ä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ç»„çš„è§£å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªä»¿å°„é›†:$C={x\big|Ax = b}$,å…¶ä¸­ $A\in \mathbb{R}^{m \times n}, b \in \mathbb{R}^m $ã€‚<br>
è¯æ˜ï¼š<br>
è®¾$x_1, x_2 \in C$,å³$Ax_1 = b, Ax_2 = b$ã€‚å¯¹äºä»»æ„$\theta \in R$,æœ‰:<br>
\begin{align*}<br>
A(\theta x_1 + (1-\theta x_2) &amp;= \theta Ax_1 + (1-\theta)Ax_2\\<br>
&amp;= \theta b + (1 - \theta) b\\<br>
&amp;= b \end{align*}<br>
æ‰€ä»¥çº¿æ€§æ–¹ç¨‹ç»„çš„è§£æ˜¯ä¸€ä¸ªä»¿å°„ç»„åˆï¼š$\theta x_1 + (1 - \theta) x_2$ï¼Œè¿™ä¸ªä»¿å°„ç»„åˆåœ¨é›†åˆ$C$ä¸­ï¼Œæ‰€ä»¥çº¿æ€§æ–¹ç¨‹ç»„çš„è§£é›†$C$æ˜¯ä¸€ä¸ªä»¿å°„é›†ã€‚<br>
å’Œè¯¥ä»¿å°„é›†$C$ç›¸å…³çš„å­ç©ºé—´$V$æ˜¯$A$çš„é›¶ç©ºé—´(nullspace)ã€‚å› ä¸ºä»¿å°„é›†$C$ä¸­çš„ä»»æ„ç‚¹éƒ½æ˜¯æ–¹ç¨‹$Ax = b$çš„è§£ï¼Œè€Œ$V = C - x_0 = {x - x_0\big|x \in C}$ï¼Œæœ‰$Ax = b, Ax_0 = b$ï¼Œåˆ™$Ax - Ax_0 = A(x - x_0) = b - b = 0$ï¼Œæ‰€ä»¥$V$æ˜¯$A$çš„é›¶ç©ºé—´ã€‚</p>
<h4 id="ä»¿å°„åŒ…-affine-hull">ä»¿å°„åŒ…(affine hull)</h4>
<p>ç»™å®šé›†åˆ$C\subset \mathbb{R}^n $ï¼Œé›†åˆä¸­ç‚¹çš„ä»¿å°„ç»„åˆç§°ä¸ºé›†åˆ$C$çš„ä»¿å°„åŒ…(affine hull),è¡¨ç¤ºä¸º$aff C$:<br>
$aff C = {\theta_1 x_1 + \cdots + \theta_k x_k\big| x_1,\cdots,x_k \in C, \theta_1 + \cdots + \theta_k = 1}$<br>
é›†åˆ$C$å¯ä»¥æ˜¯ä»»æ„é›†åˆã€‚ä»¿å°„åŒ…æ˜¯åŒ…å«é›†åˆ$C$çš„æœ€å°ä»¿å°„é›†ï¼ˆä¸€ä¸ªé›†åˆçš„ä»¿å°„åŒ…åªæœ‰ä¸€ä¸ªï¼Œæ˜¯ä¸å˜çš„ï¼‰ã€‚å³å¦‚æœ$S$æ˜¯ä»»æ„ä»¿å°„é›†ï¼Œæ»¡è¶³$C\subset S$ï¼Œé‚£ä¹ˆæœ‰$aff C \subset S$ã€‚æˆ–è€…è¯´ä»¿å°„åŒ…æ˜¯æ‰€æœ‰åŒ…å«é›†åˆ$C$çš„ä»¿å°„é›†çš„äº¤é›†ã€‚</p>
<h3 id="ä»¿å°„çº¬åº¦-affine-dimension-å’Œç›¸å¯¹å†…éƒ¨-relative-interior">ä»¿å°„çº¬åº¦(affine dimension)å’Œç›¸å¯¹å†…éƒ¨(relative interior)</h3>
<h4 id="æ‹“æ‰‘-topology">æ‹“æ‰‘(topology)</h4>
<p>æ‹“æ‰‘(topology)ï¼Œå¼€é›†(open sets),é—­é›†(close sets),å†…éƒ¨(interior),è¾¹ç•Œ(boundary),é—­åŒ…(closure),é‚»åŸŸ(neighbood),ç›¸å¯¹å†…éƒ¨(relative interior)<br>
åŒä¸€ä¸ªé›†åˆå¯ä»¥æœ‰å¾ˆå¤šä¸ªä¸åŒçš„æ‹“æ‰‘ã€‚</p>
<h5 id="å®šä¹‰">å®šä¹‰</h5>
<p>ç»™å®šä¸€ä¸ªé›†åˆ$X$,$\tau$æ˜¯$X$çš„ä¸€ç³»åˆ—å­é›†ï¼Œå¦‚æœ$\tau$æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<ol>
<li>ç©ºé›†(empty set)å’Œå…¨é›†Xéƒ½æ˜¯$\tau$çš„å…ƒç´ ;</li>
<li>$\tau$ä¸­ä»»æ„å…ƒç´ çš„å¹¶é›†(union)ä»ç„¶æ˜¯$\tau$çš„å…ƒç´ ;</li>
<li>$\tau$ä¸­ä»»æ„æœ‰é™å¤šä¸ªå…ƒç´ çš„äº¤é›†(intersection)ä»ç„¶æ˜¯$\tau$ä¸­çš„å…ƒç´ ã€‚</li>
</ol>
<p>åˆ™ç§°$\tau$æ˜¯é›†åˆ$X$ä¸Šçš„ä¸€ä¸ªæ‹“æ‰‘ã€‚<br>
å¦‚æœ$\tau$æ˜¯$X$ä¸Šçš„ä¸€ä¸ªæ‹“æ‰‘ï¼Œé‚£ä¹ˆ$(X,\tau)$å¯¹ç§°ä¸ºä¸€ä¸ªæ‹“æ‰‘ç©ºé—´(topological space)ã€‚<br>
å¦‚æœ$X$çš„ä¸€ä¸ªå­é›†åœ¨$\tau$ä¸­ï¼Œè¿™ä¸ªå­é›†è¢«ç§°ä¸ºå¼€é›†(open set)ã€‚<br>
å¦‚æœ$X$çš„ä¸€ä¸ªå­é›†çš„è¡¥é›†æ˜¯åœ¨$\tau$ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªå­é›†æ˜¯é—­é›†(closed set)ã€‚<br>
$X$çš„å­é›†å¯èƒ½æ˜¯å¼€é›†ï¼Œé—­é›†ï¼Œæˆ–è€…éƒ½æ˜¯ï¼Œéƒ½ä¸æ˜¯ã€‚<br>
ç©ºé›†å’Œå…¨é›†æ˜¯å¼€é›†ï¼Œä¹Ÿæ˜¯é—­é›†ï¼ˆå®šä¹‰ï¼‰ã€‚</p>
<h5 id="ç¤ºä¾‹-v2">ç¤ºä¾‹</h5>
<ol>
<li>ç»™å®šé›†åˆ$X={1,2,3,4}$, é›†åˆ$\tau = { {},{1,2,3,4} }$å°±æ˜¯$X$ä¸Šçš„ä¸€ä¸ªæ‹“æ‰‘ã€‚</li>
<li>ç»™å®šé›†åˆ$X={1,2,3,4}$, é›†åˆ$\tau = { {},{1}, {3,4},{1,3,4},{1,2,3,4} }$å°±æ˜¯$X$ä¸Šçš„å¦ä¸€ä¸ªæ‹“æ‰‘ã€‚</li>
<li>ç»™å®šé›†åˆ$X={1,2,3,4}$, $X$çš„å¹‚é›†(power set)ä¹Ÿæ˜¯$X$ä¸Šçš„å¦ä¸€ä¸ªæ‹“æ‰‘ã€‚</li>
</ol>
<p><strong>é€šå¸¸å¦‚æœä¸è¯´çš„è¯ï¼Œé»˜è®¤æ˜¯åœ¨æ¬§å¼ç©ºé—´(1ç»´ï¼Œ2ç»´,â€¦,nç»´æ¬§å¼ç©ºé—´)çš„æ‹“æ‰‘ï¼Œå³æ¬§å¼æ‹“æ‰‘ã€‚ä»¥ä¸‹è®²çš„ä¸€äº›æ¦‚å¿µæ˜¯åœ¨æ¬§å¼ç©ºé—´çš„æ‹“æ‰‘ï¼ˆé€šå¸¸æ‹“æ‰‘ï¼‰ä¸Šçš„å®šä¹‰å’Œä¸€èˆ¬æ‹“æ‰‘ç›´è§‚ä¸Šå¯èƒ½ä¸å¤ªä¸€æ ·ï¼Œä½†å®é™…ä¸Šæ„ä¹‰æ˜¯ç›¸åŒçš„ã€‚</strong></p>
<h4 id="epsilon-disc-æˆ–-epsilon-é‚»åŸŸ">$\epsilon-disc$æˆ–$\epsilon$é‚»åŸŸ</h4>
<h5 id="å®šä¹‰-v2">å®šä¹‰</h5>
<p>ç»™å®š$x\in \mathbb{R}^n $ä»¥åŠ$\epsilon\gt 0$ï¼Œé›†åˆ<br>
$$D(x,\epsilon) = {y\in \mathbb{R}^n \big|d(x,y) \lt \epsilon}$$<br>
ç§°ä¸ºå…³äº$x$çš„$\epsilon-disc$æˆ–è€…$\epsilon$é‚»åŸŸ(neighbood)æˆ–è€…$\epsilon$çƒ(ball)ã€‚å³æ‰€æœ‰ç¦»ç‚¹$x$è·ç¦»å°äº$\epsilon$çš„ç‚¹$y$çš„é›†åˆã€‚</p>
<h4 id="å¼€é›†-open-sets">å¼€é›†(open sets)</h4>
<h5 id="å®šä¹‰-v3">å®šä¹‰</h5>
<p><strong>ç»™å®šé›†åˆ$A\subset \mathbb{R}^n $ï¼Œå¯¹äº$A$ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå³$\forall x\in A$ï¼Œéƒ½å­˜åœ¨$\epsilon \gt 0$ä½¿å¾—$D(x,\epsilon)\subset A$ï¼Œé‚£ä¹ˆå°±ç§°è¯¥é›†åˆæ˜¯å¼€çš„ã€‚</strong><br>
å³é›†åˆ$A$ä¸­æ‰€æœ‰å…ƒç´ çš„$spsilon$é‚»åŸŸéƒ½è¿˜åœ¨é›†åˆ$A$ä¸­ï¼ˆå®šç†$1$ï¼‰ã€‚<br>
<strong>æ³¨æ„ï¼šå¿…é¡»æ»¡è¶³$\epsilon \gt 0$</strong></p>
<h5 id="å®šç†">å®šç†</h5>
<h6 id="å®šç†-1-epsilon-é‚»åŸŸæ˜¯å¼€é›†">å®šç†$1$ $epsilon$é‚»åŸŸæ˜¯å¼€é›†</h6>
<ul>
<li>åœ¨$\mathbb{R}^n $ä¸­ï¼Œå¯¹äºä¸€ä¸ª$\epsilon \gt 0, x\in \mathbb{R}^n $,é‚£ä¹ˆé›†åˆ$x$çš„$\epsilon$é‚»åŸŸ$D(x,\epsilon)$æ˜¯å¼€çš„ï¼Œç»™å®šä¸€ä¸ª$\epsilon$ï¼Œèƒ½æ‰¾åˆ°ä¸€ä¸ªæ›´å°çš„$epsilon$é‚»åŸŸã€‚</li>
</ul>
<h6 id="å®šç†-2">å®šç†$2$</h6>
<ul>
<li>$\mathbb{R}^n $ä¸­æœ‰é™ä¸ªå¼€å­é›†çš„äº¤é›†æ˜¯$\mathbb{R}^n $çš„å¼€å­é›†ã€‚</li>
<li>$\mathbb{R}^n $ä¸­ä»»æ„ä¸ªå¼€å­é›†çš„å¹¶é›†æ˜¯$\mathbb{R}^n $çš„å¼€å­é›†ã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼šä»»æ„å¼€é›†çš„äº¤å¯èƒ½ä¸æ˜¯å¼€é›†ï¼Œä¸€ä¸ªç‚¹ä¸æ˜¯å¼€é›†ï¼Œä½†æ˜¯å®ƒæ˜¯æ‰€æœ‰åŒ…å«å®ƒçš„å¼€é›†çš„äº¤ã€‚</strong></p>
<h5 id="ç¤ºä¾‹-v3">ç¤ºä¾‹</h5>
<p><img src="/2018/12/24/convex-optimization-chapter-2-Convex-sets/unit_circle.png" alt="unit_circle"></p>
<ol>
<li>$\mathbb{R}^2 $ä¸­çš„ä¸åŒ…å«è¾¹ç•Œçš„çƒæ˜¯å¼€çš„ï¼Œå¦‚å›¾ã€‚</li>
<li>è€ƒè™‘ä¸€ä¸ª$\mathbb{R}^1 $ä¸­çš„å¼€åŒºé—´ï¼Œå¦‚$(0,1)$ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¼€é›†ï¼Œä½†æ˜¯å¦‚æœæŠŠå®ƒæ”¾åœ¨äºŒç»´æ¬§å¼ç©ºé—´ä¸­(æ˜¯xè½´ä¸Šçš„ä¸€ä¸ªçº¿æ®µ)ï¼Œå®ƒä¸æ˜¯å¼€çš„ï¼Œä¸æ»¡è¶³å®šä¹‰ï¼Œæ‰€ä»¥å¼€é›†æ˜¯å¿…é¡»é’ˆå¯¹äºæŸä¸€ä¸ªç»™å®šçš„é›†åˆ$X$ã€‚</li>
<li>$\mathbb{R}^2 $ä¸Šçš„åŒ…å«è¾¹ç•Œçš„å•ä½åœ†$X = {x\in \mathbb{R}^2 \big||x|\le 1}$ä¸æ˜¯å¼€çš„ã€‚å› ä¸ºè¾¹ç•Œä¸Šçš„ç‚¹$x$ä¸æ»¡è¶³$\epsilon \gt 0, D(x,\epsilon) \subset X$ã€‚</li>
<li>é›†åˆ$S={(x,y) \in \mathbb{R}^2 \big|0 \lt x \lt 1}$æ˜¯å¼€é›†ã€‚å¯¹äºæ¯ä¸ªç‚¹$(x,y)\in S$,æˆ‘ä»¬å¯ä»¥ç”»å‡ºåŠå¾„$r = min{x,1-x}$çš„é‚»åŸŸå¹¶ä¸”å…¶å…¨éƒ¨å«äº$S$ï¼Œæ‰€ä»¥$S$æ˜¯å¼€é›†ã€‚</li>
<li>é›†åˆ$S={(x,y) \in \mathbb{R}^2 \big|0 \lt x \le 1}$ä¸æ˜¯å¼€é›†ã€‚å› ä¸ºç‚¹$(1,0) \in S$çš„é‚»åŸŸåŒ…å«ç‚¹$(x,0)$,å…¶ä¸­$x\gt 1$ã€‚</li>
</ol>
<h4 id="å†…éƒ¨-interior">å†…éƒ¨(interior)</h4>
<h5 id="å®šä¹‰-v4">å®šä¹‰</h5>
<p><strong>ç»™å®šé›†åˆ$A\subset \mathbb{R}^n $,ç‚¹$x \in A$ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå¼€é›†$U$ä½¿å¾—$x \in U\subset A$,é‚£ä¹ˆè¯¥ç‚¹å°±ç§°ä¸º$A$çš„ä¸€ä¸ªå†…ç‚¹ã€‚æˆ–è€…è¯´å¯¹äº$x\in A$ï¼Œæœ‰ä¸€ä¸ª$\epsilon \gt 0$ä½¿å¾—$D(x,\epsilon)\subset A$ã€‚$A$çš„æ‰€æœ‰å†…ç‚¹ç»„æˆçš„é›†åˆå«åš$A$çš„å†…éƒ¨(interior)ï¼Œè®°åš$int(A)$ã€‚</strong></p>
<h5 id="å±æ€§">å±æ€§</h5>
<ol>
<li>é›†åˆå†…éƒ¨å¯èƒ½æ˜¯ç©ºçš„ï¼Œå•ç‚¹çš„å†…éƒ¨å°±æ˜¯ç©ºçš„ã€‚</li>
<li>å•ä½åœ†çš„å†…éƒ¨æ˜¯ä¸åŒ…å«è¾¹ç•Œçš„å•ä½åœ†ã€‚</li>
<li>äº‹å®ä¸Š$A$çš„å†…éƒ¨æ˜¯$A$æ‰€æœ‰å¼€å­é›†çš„å¹¶ï¼Œç”±å¼€é›†çš„å®šç†å¾—$A$çš„å†…éƒ¨æ˜¯å¼€çš„ï¼Œä¸”$A$çš„å†…éƒ¨æ˜¯$A$çš„æœ€å¤§çš„å¼€é›†ã€‚</li>
<li>å½“ä¸”ä»…å½“$A$çš„å†…éƒ¨ç­‰äº$A$çš„æ—¶å€™ï¼Œ$A$æ˜¯å¼€é›†ï¼ˆ$A$å¯èƒ½æ˜¯é—­é›†ï¼‰ã€‚</li>
<li>åªéœ€è¦å¯»æ‰¾é›†åˆå†…$\epsilon$é‚»åŸŸè¿˜åœ¨è¿™ä¸ªé›†åˆå†…çš„ç‚¹å³å¯ã€‚</li>
</ol>
<h5 id="ç¤ºä¾‹-v4">ç¤ºä¾‹</h5>
<ol>
<li>ç»™å®šé›†åˆ$S={(x,y)\in \mathbb{R}^2 \big| 0 \lt x \le 1}$ï¼Œ$int(S) = {(x,y)\big|0 \lt x \lt 1}$ã€‚å› ä¸ºåŒºé—´$(0,1)$ä¸­çš„ç‚¹éƒ½æ»¡è¶³å®ƒä»¬çš„$\epsilon$é‚»åŸŸåœ¨$S$ä¸­ã€‚</li>
<li>$int(A) \cup int(B) \ne int(A\cup B)$ã€‚åœ¨å®æ•°è½´ä¸Šï¼Œ$A=[0,1],B=[1,2]$ï¼Œé‚£ä¹ˆ$int(A) = (0,1),int(B) = (1,2)$ï¼Œæ‰€ä»¥$int(A) \cup int(B) = (0,1)\cup (1,2) = (0,2)\backslash {1}$ï¼Œè€Œ$int(A\cup B) = int[0,2] = (0,2)$ã€‚</li>
</ol>
<h4 id="é—­é›†-closed-set">é—­é›†(closed set)</h4>
<h5 id="å®šä¹‰-v5">å®šä¹‰</h5>
<p><strong>å¯¹äº$\mathbb{R}^n $ä¸­çš„é›†åˆ$B$ï¼Œå¦‚æœå®ƒåœ¨$\mathbb{R}^n $çš„è¡¥ï¼ˆå³é›†åˆ$\mathbb{R}^n \backslash B$ï¼‰æ˜¯å¼€é›†ï¼Œé‚£ä¹ˆå®ƒæ˜¯é—­é›†ã€‚</strong><br>
å•ç‚¹æ˜¯é—­é›†ã€‚å«æœ‰è¾¹ç•Œçš„å•ä½åœ†ç»„æˆçš„é›†åˆæ˜¯é—­é›†ï¼Œå› ä¸ºå®ƒçš„è¡¥é›†ä¸åŒ…å«è¾¹ç•Œã€‚ä¸€ä¸ªé›†åˆå¯èƒ½æ—¢ä¸æ˜¯å¼€é›†ä¹Ÿä¸æ˜¯é—­é›†ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ç»´æ¬§å‡ é‡Œå¾—ç©ºé—´ï¼ŒåŠå¼€åŠé—­åŒºé—´ï¼ˆå¦‚$(0,1]$ï¼‰æ—¢ä¸æ˜¯å¼€é›†ä¹Ÿä¸æ˜¯é—­é›†ã€‚</p>
<h5 id="å®šç†-v2">å®šç†</h5>
<ol>
<li>$\mathbb{R}^n $ä¸­æœ‰é™ä¸ªé—­å­é›†çš„å¹¶æ˜¯é—­é›†ã€‚</li>
<li>$\mathbb{R}^n $ä¸­ä»»æ„ä¸ªé—­å­é›†çš„äº¤æ˜¯é—­é›†ã€‚</li>
</ol>
<p>è¿™ä¸ªå®šç†æ˜¯ä»å¼€é›†çš„å®šç†ä¸­å¾—å‡ºçš„ï¼Œåœ¨å¯¹å¼€é›†å–è¡¥å˜æˆé—­é›†æ—¶å€™ï¼Œå¹¶ä¸äº¤ç›¸äº’å˜æ¢å³å¯ã€‚</p>
<h5 id="ç¤ºä¾‹-v5">ç¤ºä¾‹</h5>
<ol>
<li>ç»™å®šé›†åˆ$S={(x,y) \in \mathbb{R}^2 \big| 0 \lt x \le 1, 0 \lt y \lt 1}$ï¼Œ$S$ä¸æ˜¯é—­é›†ã€‚å› ä¸ºç›®æ ‡åŒºåŸŸçš„ä¸‹è¾¹ç•Œä¸åœ¨Sä¸­ã€‚</li>
<li>ç»™å®šé›†åˆ$S={(x,y) \in \mathbb{R}^2 \big| x^2 +y^2 \le 1}$ï¼Œ$S$æ˜¯é—­é›†ï¼Œå› ä¸ºå®ƒçš„é—­é›†æ˜¯$\mathbb{R}^2 $ä¸­çš„å¼€é›†ã€‚</li>
<li>$\mathbb{R}^n $ä¸­ä»»ä½•æœ‰é™é›†æ˜¯é—­é›†ã€‚å› ä¸ºå•ç‚¹æ˜¯é—­é›†ï¼Œæœ‰é™é›†å¯ä»¥çœ‹æˆå¾ˆå¤šä¸ªå•ç‚¹çš„å¹¶ï¼Œç”±å®šç†$1$å¯ä»¥å¾—å‡ºã€‚</li>
</ol>
<h4 id="èšç‚¹-accumulation-point">èšç‚¹(accumulation point)</h4>
<h5 id="å®šä¹‰-v6">å®šä¹‰</h5>
<p>å¯¹äºç‚¹$x\in \mathbb{R}^n $ï¼Œå¦‚æœåŒ…å«$x$çš„æ¯ä¸ªå¼€é›†$U$åŒ…å«ä¸åŒäº$x$ä½†ä¾ç„¶å±äºé›†åˆ$A$ä¸­çš„ç‚¹ï¼Œé‚£ä¹ˆå°±ç§°$x$æ˜¯$A$çš„ä¸€ä¸ªèšç‚¹(accumulation points)ï¼Œä¹Ÿå«èšç±»ç‚¹(cluster points)ã€‚**æ³¨æ„è¿™é‡Œæ˜¯åŒ…å«é›†åˆ$A$ä¸­çš„ç‚¹ï¼Œè€Œä¸æ˜¯å…¨éƒ¨æ˜¯é›†åˆ$A$ä¸­çš„ç‚¹ï¼Œæ‰€ä»¥é›†åˆçš„èšç‚¹ä¸ä¸€å®šå¿…é¡»åœ¨é›†åˆä¸­ã€‚**å¦‚ï¼Œåœ¨ä¸€ç»´æ¬§å¼ç©ºé—´ä¸­ï¼Œå•ç‚¹é›†åˆæ²¡æœ‰èšç‚¹ï¼Œå¼€åŒºé—´$(0,1)$çš„èšç‚¹æ˜¯$[0,1]$ï¼Œ${0,1}$ä¸åœ¨åŒºé—´å†…ï¼Œä½†æ˜¯æ˜¯èšç‚¹ã€‚<br>
æ­¤å¤–ï¼Œ$x$æ˜¯èšç±»ç‚¹ç­‰ä»·äºï¼šå¯¹äºæ¯ä¸ª$\epsilon \gt 0$ï¼Œ$D(x,\epsilon)$åŒ…å«$A$ä¸­çš„æŸç‚¹$y$ä¸”$y\ne x$ã€‚</p>
<h5 id="å®šç†-v3">å®šç†</h5>
<p>å½“ä¸”ä»…å½“é›†åˆ$S$çš„æ‰€æœ‰èšç‚¹å±äº$S$æ—¶ï¼Œ$S\subset \mathbb{R}^n $æ˜¯é—­é›†ã€‚</p>
<h5 id="ç¤ºä¾‹-v6">ç¤ºä¾‹</h5>
<ol>
<li>ç»™å®šé›†åˆ$S={x\in R\big|x\in [0,1]ä¸”xæ˜¯æœ‰ç†æ•°}$ï¼Œ$S$çš„èšç‚¹ä¸º$[0,1]$ä¸­æ‰€æœ‰ç‚¹ã€‚ä»»ä½•ä¸å±äº$[0,1]$çš„ç‚¹éƒ½ä¸æ˜¯èšç‚¹ï¼Œå› ä¸ºè¿™ç±»ç‚¹æœ‰ä¸€ä¸ªåŒ…å«å®ƒçš„$\epsilon$é‚»åŸŸä¸$[0,1]$ä¸ç›¸äº¤ã€‚</li>
<li>ç»™å®šé›†åˆ$S={(x,y)\in \mathbb{R}^2 \big| 0 \le  x\le 1\ or\ \ x = 2}$, å®ƒçš„èšç‚¹æ˜¯å®ƒæœ¬èº«ï¼Œå› ä¸ºå®ƒæ˜¯é—­é›†ã€‚</li>
<li>ç»™å®šé›†åˆ$S={(x,y)\in \mathbb{R}^2 \big|y \lt x^2 + 1}$ï¼ŒSçš„èšç‚¹ä¸ºé›†åˆ${(x,y)\in \mathbb{R}^2 \big|y \le x^2 + 1}$ï¼Œ</li>
</ol>
<h4 id="é—­åŒ…-closure">é—­åŒ…(closure)</h4>
<h5 id="å®šä¹‰-v7">å®šä¹‰</h5>
<p>ç»™å®šé›†åˆ$A\subset \mathbb{R}^n $,é›†åˆ$A$çš„é—­åŒ…$cl(A)$å®šä¹‰æˆæ‰€æœ‰åŒ…å«$A$çš„é—­é›†çš„äº¤ï¼Œæ‰€ä»¥$cl(A)$æ˜¯ä¸€ä¸ªé—­é›†ã€‚å®šä»·çš„å®šä¹‰æ˜¯ç»™å®šé›†åˆ$A$ï¼ŒåŒ…å«$A$çš„æœ€å°é—­é›†å«åšè¿™ä¸ªé›†åˆ$X$çš„é—­åŒ…(closure)ï¼Œç”¨$cl(A)$æˆ–è€…${\overline{A}}$è¡¨ç¤ºã€‚</p>
<h5 id="å®šç†-v4">å®šç†</h5>
<p>ç»™å®š$A\subset \mathbb{R}^n $ï¼Œé‚£ä¹ˆ$cl(A)$ç”±$A$å’Œ$A$çš„æ‰€æœ‰èšç‚¹ç»„æˆã€‚</p>
<h5 id="ç¤ºä¾‹-v7">ç¤ºä¾‹</h5>
<ol>
<li>$R$ä¸­$S=[0,1)\cup {2}$çš„é—­åŒ…æ˜¯$[0,1]$å’Œ${2}$ã€‚$S$çš„èšç‚¹æ˜¯$[0,1]$ï¼Œå†å¹¶ä¸Š$S$å¾—åˆ°$S$çš„é—­åŒ…æ˜¯$[0,1]\cup{2}$ã€‚</li>
<li>å¯¹äºä»»æ„$S\subset \mathbb{R}^n $ï¼Œ$\mathbb{R}^n \backslash cl(S)$æ˜¯å¼€é›†ã€‚å› ä¸º$cl(S)$æ˜¯é—­é›†ï¼Œæ‰€ä»¥å®ƒçš„è¡¥é›†æ˜¯å¼€é›†ã€‚</li>
<li>$cl(A\cap B) \ne cl(A)\cap cl(B)$ã€‚æ¯”å¦‚$A=(0,1),B(1,2),cl(A)=[0,1],cl(B)=[1,2]$,$A\cap B = \varnothing$,$cl(A\cap B) = \varnothing$,è€Œ$cl(A)\cap cl(B) = {1}$ã€‚</li>
</ol>
<h4 id="è¾¹ç•Œ-boundary">è¾¹ç•Œ(boundary)</h4>
<h5 id="å®šä¹‰-v8">å®šä¹‰</h5>
<p>å¯¹äº$\mathbb{R}^n $ä¸­çš„é›†åˆ$A$ï¼Œè¾¹ç•Œå®šä¹‰ä¸ºé›†åˆï¼š<br>
$bd(A) = cl(A)\cap cl(\mathbb{R}^n \backslash A)$<br>
å³é›†åˆ$A$çš„è¡¥é›†çš„é—­åŒ…å’Œ$A$çš„é—­åŒ…çš„äº¤é›†ï¼Œæ‰€ä»¥$bd(A)$æ˜¯é—­é›†ã€‚$bd(A)$æ˜¯$A$ä¸$\mathbb{R}^n \backslash A$ä¹‹é—´çš„è¾¹ç•Œã€‚</p>
<h5 id="å®šç†-v5">å®šç†</h5>
<p>ç»™å®š$A\subset \mathbb{R}^n $ï¼Œå½“ä¸”ä»…å½“å¯¹äºæ¯ä¸ª$\epsilon \gt 0$ï¼Œ$D(x,\epsilon)$åŒ…å«$A$ä¸$\mathbb{R}^n \backslash A$çš„ç‚¹ï¼Œ$x\in bd(A)$ã€‚</p>
<h5 id="ç¤ºä¾‹-v8">ç¤ºä¾‹</h5>
<ol>
<li>ç»™å®šé›†åˆ$S={x\in R\big|x\in [0,1],xæ˜¯æœ‰ç†æ•°}$ï¼Œ$bd(S) = [0,1]$ã€‚å› ä¸ºå¯¹äºä»»æ„$\epsilon \gt 0, x\in [0,1],D(x,\epsilon) = (x-\epsilon, x+\epsilon)$åŒ…å«æœ‰ç†æ•°å’Œæ— ç†æ•°ï¼Œå³xæ˜¯æœ‰ç†æ•°å’Œæ— ç†æ•°ä¹‹é—´çš„è¾¹ç•Œã€‚</li>
<li>ç»™å®š$x\in bd(S)$ï¼Œ$x$ä¸ä¸€å®šæ˜¯èšç‚¹ã€‚ç»™å®šé›†åˆ$S = {0} \subset R$ï¼Œ$bd(S) = {0}$ï¼Œä½†æ˜¯å•ç‚¹æ²¡æœ‰èšç‚¹ã€‚</li>
<li>ç»™å®šé›†åˆ$S={(x,y)\in \mathbb{R}^2 \big| x^2 -y^2 \gt 1 }$ï¼Œ$bd(S)={(x,y)\big|x^2 - y^2 = 1}$ã€‚</li>
</ol>
<h4 id="ä»¿å°„ç»´åº¦-affine-dimension">ä»¿å°„ç»´åº¦(affine dimension)</h4>
<h5 id="å®šä¹‰-v9">å®šä¹‰</h5>
<p>ç»™å®šä¸€ä¸ªä»¿å°„é›†$C$ï¼Œä»¿å°„ç»´åº¦æ˜¯å®ƒçš„ä»¿å°„åŒ…çš„ç»´åº¦ã€‚<br>
ä»¿å°„ç»´åº¦å’Œå…¶ä»–ç»´åº¦çš„å®šä¹‰ä¸æ€»æ˜¯ç›¸åŒçš„ï¼Œå…·ä½“å¯ä»¥çœ‹ä»¥ä¸‹çš„ç¤ºä¾‹ã€‚</p>
<h5 id="ç¤ºä¾‹-v9">ç¤ºä¾‹</h5>
<p>ç»™å®šä¸€ä¸ªäºŒç»´æ¬§å‡ é‡Œå¾—ç©ºé—´çš„å•ä½åœ†ï¼Œ${x\in C\big|x_1^2 +x_2^2 =1}$ã€‚å®ƒçš„ä»¿å°„åŒ…æ˜¯æ•´ä¸ª$\mathbb{R}^2$ï¼Œæ‰€ä»¥äºŒç»´å¹³é¢çš„å•ä½åœ†ä»¿å°„ç»´åº¦æ˜¯$2$ã€‚ä½†æ˜¯åœ¨å¾ˆå¤šå®šä¹‰ä¸­ï¼ŒäºŒç»´å¹³é¢çš„å•ä½åœ†çš„ç»´åº¦æ˜¯$1$ã€‚</p>
<h4 id="ç›¸å¯¹å†…éƒ¨-relative-interior">ç›¸å¯¹å†…éƒ¨(relative interior)</h4>
<p>ç»™å®šä¸€ä¸ªé›†åˆ$C\subset \mathbb{R}^n $ï¼Œå®ƒçš„ä»¿å°„ç»´åº¦å¯èƒ½å°äº$n$ï¼Œè¿™ä¸ªæ—¶å€™ä»¿å°„é›†$aff\ C \ne \mathbb{R}^n $ã€‚</p>
<h5 id="å®šä¹‰-v10">å®šä¹‰</h5>
<p>ç»™å®šé›†åˆ$C$ï¼Œç›¸å¯¹å†…éƒ¨çš„å®šä¹‰å¦‚ä¸‹ï¼š<br>
$relint\ C = {x\in C\big|(B(x,r)\cup aff\ C) \subset C, \exists \ r \gt 0}.$<br>
å°±æ˜¯é›†åˆ$C$å†…æ‰€æœ‰$\epsilon$çƒåœ¨$C$çš„ä»¿å°„é›†å†…çš„ç‚¹çš„é›†åˆã€‚<br>
å…¶ä¸­$B(x,r)={y \big|\Vert y- x\Vert \le r}$ï¼Œæ˜¯ä»¥$x$ä¸ºä¸­å¿ƒï¼Œä»¥$r$ä¸ºåŠå¾„çš„åœ†ã€‚è¿™é‡Œçš„èŒƒæ•°å¯ä»¥æ˜¯ä»»ä½•èŒƒæ•°ï¼Œå®ƒä»¬å®šä¹‰çš„ç›¸å¯¹å†…éƒ¨æ˜¯ç›¸åŒçš„ã€‚</p>
<h5 id="ç¤ºä¾‹-v10">ç¤ºä¾‹</h5>
<p>ç»™å®šä¸€ä¸ª$\mathbb{R}^3 $ç©ºé—´ä¸­$(x_1,x_2)$å¹³é¢ä¸Šçš„æ­£æ–¹å½¢ï¼Œ$C={x\in \mathbb{R}^3 \big|-1 \le x_1 \le 1, -1\le x_2 \le 1, x_3 = 0}$ã€‚å®ƒçš„ä»¿å°„åŒ…æ˜¯$(x_1,x_2)$å¹³é¢ï¼Œ$aff\ C = {x\in \mathbb{R}^3 \big|x_3=0}$ã€‚$C$çš„å†…éƒ¨æ˜¯ç©ºçš„ï¼Œä½†æ˜¯ç›¸å¯¹å†…éƒ¨æ˜¯ï¼š<br>
$relint\ C = {x \in \mathbb{R}^3 \big|-1 \le x_1 \le 1, -1\le x_2 \le 1,x_3=0}$ã€‚</p>
<h4 id="ç›¸å¯¹è¾¹ç•Œ-relative-boundary">ç›¸å¯¹è¾¹ç•Œ(relative boundary)</h4>
<h5 id="å®šä¹‰-v11">å®šä¹‰</h5>
<p>ç»™å®šé›†åˆ$C$ï¼Œç›¸å¯¹è¾¹ç•Œ(relative boundary)å®šä¹‰ä¸º$cl\ C \backslash relint\ C$ï¼Œå…¶ä¸­$cl\ C$æ˜¯é›†åˆ$C$çš„é—­åŒ…(closure)ã€‚</p>
<h5 id="ç¤ºä¾‹-v11">ç¤ºä¾‹</h5>
<p>å¯¹äºä¸Šä¾‹ï¼ˆç›¸å¯¹å†…éƒ¨çš„ç¤ºä¾‹ï¼‰æ¥è¯´ï¼Œå®ƒçš„è¾¹ç•Œ(boundary)æ˜¯å®ƒæœ¬èº«ã€‚å®ƒçš„ç›¸å¯¹å†…éƒ¨æ˜¯è¾¹æ¡†ï¼Œ${x\in \mathbb{R}^3 \big|max{|x_1|,|x_2|}=1,x_3=0}$ã€‚</p>
<h3 id="å‡¸é›†-convex-sets">å‡¸é›†(convex sets)</h3>
<h4 id="å‡¸é›†å®šä¹‰">å‡¸é›†å®šä¹‰</h4>
<p>ç»™å®šä¸€ä¸ªé›†åˆ$C$ï¼Œå¦‚æœé›†åˆ$C$ä¸­ç»è¿‡ä»»æ„ä¸¤ç‚¹çš„çº¿æ®µä»ç„¶åœ¨$C$ä¸­ï¼Œè¿™ä¸ªé›†åˆå°±æ˜¯ä¸€ä¸ªå‡¸é›†ã€‚<br>
ç»™å®š$\forall x_1,x_2 \in C, 0 \le \theta \le 1$ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰$\theta x_1 + (1-\theta)x_2 \in C$ã€‚<br>
æ¯ä¸€ä¸ªä»¿å°„é›†éƒ½æ˜¯å‡¸çš„ï¼Œå› ä¸ºå®ƒåŒ…å«ç»è¿‡ä»»æ„ä¸¤ä¸ªä¸åŒç‚¹çš„ç›´çº¿ï¼Œæ‰€ä»¥è‚¯å®šå°±åŒ…å«è¿‡é‚£ä¸¤ä¸ªç‚¹çš„çº¿æ®µã€‚</p>
<h4 id="å‡¸ç»„åˆ-convex-combination">å‡¸ç»„åˆ(convex combination)</h4>
<p>ç»™å®š$k$ä¸ªç‚¹$x_1,x_2,\cdots,x_k$ï¼Œå¦‚æœå…·æœ‰$\theta_1 x_1 + \cdots, \theta_k x_k$å½¢å¼ä¸”æ»¡è¶³$\theta_1 + \cdots + \theta_k=1, \theta_i \ge 0,i=1,\cdots,k$,é‚£ä¹ˆå°±ç§°è¿™æ˜¯$x_1,\cdots,x_k$çš„ä¸€ä¸ªå‡¸ç»„åˆã€‚<br>
å½“ä¸”ä»…å½“ä¸€ä¸ªé›†åˆåŒ…å«å…¶ä¸­æ‰€æœ‰ç‚¹çš„å‡¸ç»„åˆï¼Œè¿™ä¸ªé›†åˆæ˜¯ä¸€ä¸ªå‡¸é›†ã€‚ç‚¹çš„ä¸€ä¸ªå‡¸ç»„åˆå¯ä»¥çœ‹æˆç‚¹çš„æ··åˆæˆ–è€…åŠ æƒï¼Œ$\theta_i$æ˜¯ç¬¬$i$ä¸ªç‚¹$x_i$çš„æƒé‡ã€‚<br>
å‡¸ç»„åˆå¯ä»¥æ¨å¹¿åˆ°æ— é™ç»´æ±‚å’Œï¼Œç§¯åˆ†ï¼Œæ¦‚ç‡åˆ†å¸ƒç­‰ç­‰ã€‚å‡è®¾$\theta_1,\theta_2,\cdots$æ»¡è¶³ï¼š<br>
$$\theta_i \le 0, i = 1,2,\cdots, \sum_{i=1}^{\infty}\theta_i = 1$$<br>
å¹¶ä¸”$x_1,x_2,\cdots \in C$ï¼Œ$C\subset \mathbb{R}^n $æ˜¯å‡¸çš„ï¼Œå¦‚æœ(series)$\sum_{i=1}^{\infty} \theta_i x_i$æ”¶æ•›ï¼Œé‚£ä¹ˆ$\sum_{i=1}^{\infty} \theta_i x_i \in C$ã€‚<br>
æ›´ä¸€èˆ¬çš„ï¼Œå‡è®¾æ¦‚ç‡åˆ†å¸ƒ$p$ï¼Œ$\mathbb{R}^n \rightarrow R$æ»¡è¶³$p(x)\le 0 for\ all\ x\in C, \int_{C}p(x)dx = 1$,å…¶ä¸­$C\subset \mathbb{R}^n $æ˜¯å‡¸çš„ï¼Œå¦‚æœ$\int_{C}p(x)xdx$å­˜åœ¨çš„è¯ï¼Œé‚£ä¹ˆ$\int_{C}p(x)xdx\in C$ã€‚</p>
<h4 id="å‡¸åŒ…-convex-hull">å‡¸åŒ…(convex hull)</h4>
<p>ç»™å®šä¸€ä¸ªé›†åˆ$C$ï¼Œå‡¸åŒ…çš„å®šä¹‰ä¸ºåŒ…å«é›†åˆ$C$ä¸­æ‰€æœ‰ç‚¹çš„å‡¸ç»„åˆçš„ç»“åˆï¼Œè®°ä¸º$conv\ C$ï¼Œå…¬å¼å¦‚ä¸‹ï¼š<br>
$conv\ C = {\theta_1 x_1 + \cdots + \theta_k x_k\big|x_i \in C, \theta_i \ge 0, i = 1,\cdots,k,\theta_1 +\cdots + \theta_k = 1}$<br>
ä»»æ„é›†åˆéƒ½æ˜¯æœ‰å‡¸åŒ…çš„ã€‚ä¸€ä¸ªé›†åˆçš„å‡¸åŒ…æ€»æ˜¯å‡¸çš„ã€‚é›†åˆ$C$çš„å‡¸åŒ…æ˜¯åŒ…å«é›†åˆ$C$çš„æœ€å°å‡¸é›†ã€‚å¦‚æœé›†åˆ$B$æ˜¯ä»»æ„åŒ…å«$C$çš„å‡¸é›†ï¼Œé‚£ä¹ˆ$conv\ C \subset B$ã€‚</p>
<h4 id="ç¤ºä¾‹-v12">ç¤ºä¾‹</h4>
<p><img src="/2018/12/24/convex-optimization-chapter-2-Convex-sets/figure2_2.png" alt="figure 2.2"><br>
<img src="/2018/12/24/convex-optimization-chapter-2-Convex-sets/figure2_3.png" alt="figure 2.3"></p>
<h3 id="é”¥-cones">é”¥(cones)</h3>
<h4 id="é”¥-cones-å’Œå‡¸é”¥-convex-cones-çš„å®šä¹‰">é”¥(cones)å’Œå‡¸é”¥(convex cones)çš„å®šä¹‰</h4>
<p>ç»™å®šé›†åˆ$C$ï¼Œå¦‚æœ$\forall x \in C, \theta \ge 0$ï¼Œéƒ½æœ‰$\theta x\in C$ï¼Œè¿™æ ·çš„é›†åˆå°±ç§°ä¸ºä¸€ä¸ªé”¥(cone)ï¼Œæˆ–è€…éè´ŸåŒè´¨(nonnegative homogeneour)ã€‚<br>
ä¸€ä¸ªé›†åˆ$C$å¦‚æœæ—¢æ˜¯é”¥åˆæ˜¯å‡¸çš„ï¼Œé‚£è¿™ä¸ªé›†åˆæ˜¯ä¸€ä¸ªå‡¸é”¥(convex cone)ï¼Œå³ï¼š$\forall x_1,x_2 \in C, \theta_1,\theta_2 \ge 0$,é‚£ä¹ˆæœ‰$\theta_1 x_1+\theta_2 x_2 \in C$ã€‚å‡ ä½•ä¸Šå¯ä»¥çœ‹æˆç»è¿‡é¡¶ç‚¹ä¸ºåŸç‚¹ï¼Œä¸¤æ¡è¾¹åˆ†åˆ«ç»è¿‡ç‚¹$x_1$å’Œ$x_2$çš„$2$ç»´æ‰‡å½¢ã€‚</p>
<h4 id="é”¥ç»„åˆ-conic-combination">é”¥ç»„åˆ(conic combination)</h4>
<p>ç»™å®š$k$ä¸ªç‚¹$x_1,x_2,\cdots,x_k$ï¼Œå¦‚æœå…·æœ‰$\theta_1 x_1 + \cdots, \theta_k x_k$å½¢å¼ä¸”æ»¡è¶³$\theta_i \ge 0,i=1,\cdots,k$,é‚£ä¹ˆå°±ç§°è¿™æ˜¯$x_1,\cdots,x_k$çš„ä¸€ä¸ªé”¥ç»„åˆ(conic combination)æˆ–è€…éè´Ÿçº¿æ€§ç»„åˆ(nonnegative combination)ã€‚<br>
ç»™å®šé›†åˆ$C$æ˜¯å‡¸é”¥ï¼Œé‚£ä¹ˆé›†åˆ$C$ä¸­ä»»æ„ç‚¹$x_i$çš„é”¥ç»„åˆä»ç„¶åœ¨é›†åˆ$C$ä¸­ã€‚åè¿‡æ¥ï¼Œå½“ä¸”ä»…å½“é›†åˆ$C$åŒ…å«å®ƒçš„ä»»æ„å…ƒç´ çš„å‡¸ç»„åˆæ—¶ï¼Œè¿™ä¸ªé›†åˆæ˜¯ä¸€ä¸ªå‡¸é”¥(convex cone)ã€‚</p>
<h4 id="é”¥åŒ…-conic-hull">é”¥åŒ…(conic hull)</h4>
<p>ç»™å®šé›†åˆ$C$ï¼Œå®ƒçš„é”¥åŒ…(conic hull)æ˜¯é›†åˆ$C$ä¸­æ‰€æœ‰ç‚¹çš„é”¥ç»„åˆã€‚å³ï¼š<br>
$conic\ C = {\theta_1 x_1 + \cdots + \theta_k x_k\big|x_i \in C, \theta_i \ge 0, i = 1,\cdots,k}$<br>
é›†åˆ$C$çš„é”¥åŒ…æ˜¯åŒ…å«é›†åˆ$C$çš„æœ€å°å‡¸é”¥ã€‚</p>
<h4 id="ç¤ºä¾‹-v13">ç¤ºä¾‹</h4>
<p><img src="/2018/12/24/convex-optimization-chapter-2-Convex-sets/figure2_4.png" alt="figure 2.4"><br>
<img src="/2018/12/24/convex-optimization-chapter-2-Convex-sets/figure2_5.png" alt="figure 2.5"></p>
<h3 id="ä¸€äº›æƒ³æ³•">ä¸€äº›æƒ³æ³•</h3>
<p>åœ¨æˆ‘è‡ªå·±çœ‹æ¥ï¼Œåœ¨å‡ ä½•ä¸Š<br>
ä»¿å°„é›†å¯ä»¥çœ‹æˆæ˜¯é›†åˆä¸­ä»»æ„ä¸¤ä¸ªç‚¹çš„ç›´çº¿çš„é›†åˆã€‚<br>
å‡¸é›†å¯ä»¥çœ‹æˆæ˜¯é›†åˆä¸­ä»»æ„ä¸¤ä¸ªç‚¹çš„çº¿æ®µçš„é›†åˆï¼Œå› ä¸ºç›´çº¿ä¸€å®šåŒ…å«çº¿æ®µï¼Œæ‰€ä»¥ä»¿å°„é›†ä¸€å®šæ˜¯å‡¸é›†ã€‚<br>
é”¥é›†å¯ä»¥çœ‹æˆæ˜¯é›†åˆä¸­ä»»æ„ä¸€ä¸ªç‚¹å’ŒåŸç‚¹æ„æˆçš„å°„çº¿çš„é›†åˆï¼Œé”¥é›†ä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼ˆä¸¤æ¡å°„çº¿ä¹Ÿæ˜¯é”¥é›†ï¼‰ï¼Œæ‰€ä»¥é”¥é›†ä¸ä¸€å®šæ˜¯å‡¸é›†ã€‚<br>
è€Œå‡¸é”¥æ—¢æ˜¯å‡¸é›†åˆæ˜¯é”¥é›†ã€‚<br>
æˆ‘åœ¨stackexchangeçœ‹åˆ°è¿™æ ·ä¸€å¥è¯è§‰å¾—è¯´çš„æŒºå¥½çš„ã€‚</p>
<blockquote>
<p>What basically distinguishes the definitions of convex, affine and cone, is the domain of the coefficients and the constraints that relate them.</p>
</blockquote>
<p>åŒºåˆ«å‡¸é›†ï¼Œä»¿å°„å’Œé”¥çš„æ˜¯ç³»æ•°çš„å–å€¼èŒƒå›´å’Œä¸€äº›å…¶ä»–é™åˆ¶ã€‚ä»¿å°„é›†è¦æ±‚$\theta_1+\cdots+\theta_k = 1$ï¼Œå‡¸é›†è¦æ±‚$\theta_1 +\cdots +\theta_k = 1, 0\le \theta \le 1$ï¼Œé”¥çš„è¦æ±‚æ˜¯$\theta \ge 0$ï¼Œå‡¸é”¥çš„è¦æ±‚æ˜¯$\theta_i \ge 0,i=1,\cdots,k$ã€‚<br>
ä»¿å°„é›†ä¸æ˜¯å‡¸é›†çš„å­é›†ï¼Œå‡¸é›†ä¹Ÿä¸æ˜¯ä»¿å°„é›†çš„å­é›†ã€‚æ‰€æœ‰ä»¿å°„é›†çš„é›†åˆæ˜¯æ‰€æœ‰å‡¸é›†çš„é›†åˆçš„å­é›†ï¼Œä¸€ä¸ªä»¿å°„é›†æ˜¯ä¸€ä¸ªå‡¸é›†ã€‚</p>
<h2 id="ç¤ºä¾‹-v14">ç¤ºä¾‹</h2>
<ul>
<li>$\emptyset$ï¼Œå•ç‚¹(single point)${x_0}$ï¼Œæ•´ä¸ª$\mathbb{R}^n $ç©ºé—´éƒ½æ˜¯$\mathbb{R}^n $ä¸­çš„ä»¿å°„å­é›†ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯å‡¸é›†ï¼Œç‚¹ä¸ä¸€å®šæ˜¯å‡¸é”¥ï¼ˆåœ¨åŸç‚¹ç†µæ˜¯å‡¸é”¥ï¼‰ï¼Œç©ºé›†æ˜¯å‡¸é”¥ï¼Œ$\mathbb{R}^n $ç»´ç©ºé—´ä¹Ÿæ˜¯å‡¸é”¥ã€‚<strong>æ ¹æ®å®šä¹‰è¯æ˜ã€‚</strong></li>
<li>ä»»æ„ä¸€æ¡ç›´çº¿éƒ½æ˜¯ä»¿å°„çš„ï¼Œæ‰€ä»¥æ˜¯å‡¸é›†ã€‚å¦‚æœç»è¿‡åŸç‚¹ï¼Œå®ƒæ˜¯ä¸€ä¸ªå­ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå‡¸é”¥ï¼Œå¦åˆ™ä¸æ˜¯ã€‚</li>
<li>ä»»æ„ä¸€æ¡çº¿æ®µéƒ½æ˜¯å‡¸é›†ï¼Œä¸æ˜¯ä»¿å°„é›†ï¼Œå½“å®ƒé€€åŒ–æˆä¸€ç‚¹çš„æ—¶å€™ï¼Œå®ƒæ˜¯ä»¿å°„çš„ï¼Œçº¿æ®µä¸æ˜¯å‡¸é”¥ã€‚</li>
<li>ä¸€æ¡å°„çº¿${x_0 + \theta v\big| \theta \ge 0}$æ˜¯å‡¸çš„ï¼Œä½†æ˜¯ä¸æ˜¯ä»¿å°„çš„ï¼Œå½“$x_0=0$æ—¶ï¼Œå®ƒæ˜¯å‡¸é”¥ã€‚</li>
<li>ä»»æ„å­ç©ºé—´éƒ½æ˜¯ä»¿å°„çš„ï¼Œä¹Ÿæ˜¯å‡¸é”¥ï¼Œæ‰€ä»¥æ˜¯å‡¸çš„ã€‚</li>
</ul>
<p>è¡¥å……æœ€åä¸€æ¡ï¼Œä»»æ„å­ç©ºé—´éƒ½æ˜¯ä»¿å°„çš„ï¼Œä¹Ÿæ˜¯å‡¸é”¥ã€‚<br>
å¦‚æœ$V$æ˜¯ä¸€ä¸ªå­ç©ºé—´ï¼Œé‚£ä¹ˆ$V$ä¸­ä»»æ„ä¸¤ä¸ªå‘é‡çš„çº¿æ€§ç»„åˆè¿˜åœ¨$V$ä¸­ã€‚å³å¦‚æœ$x_1,x_2\in V$ï¼Œå¯¹äº$\theta_1,\theta_2 \in R$ï¼Œéƒ½æœ‰$\theta_1 x_1 + \theta_2 x_2 \in V$ã€‚æ­£å¦‚å‰é¢è¯´çš„ï¼Œå­ç©ºé—´æ˜¯åŠ æ³•å’Œæ•°ä¹˜å°é—­çš„ã€‚<br>
è€Œæ ¹æ®ä»¿å°„é›†çš„å®šä¹‰ï¼Œå¦‚æœ$x_1,x_2$åœ¨ä¸€ä¸ªä»¿å°„é›†$C$ä¸­ï¼Œé‚£ä¹ˆå¯¹äº$\theta_1+\theta_2 = 1$ï¼Œéƒ½æœ‰$\theta_1 x_1 + \theta_2 x_2 \in C$ã€‚æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼Œå¦‚æœå–å­ç©ºé—´ä¸­çº¿æ€§ç»„åˆçš„ç³»æ•°å’Œä¸º$1$ï¼Œé‚£ä¹ˆå°±æˆäº†ä»¿å°„é›†ã€‚å¦‚æœå–å­ç©ºé—´ä¸­çš„ç³»æ•°$\theta_1,\theta_2 \in R_+$,é‚£ä¹ˆå°±æˆäº†é”¥ï¼Œå¦‚æœåŒæ—¶æ»¡è¶³$\theta_1+\theta_2 = 1$ï¼Œé‚£ä¹ˆå°±æˆå‡¸é”¥ã€‚é‚£ä¹ˆå¦‚æœåŠ ä¸Šè¿™äº›é™åˆ¶æ¡ä»¶ï¼Œå³å–å­ç©ºé—´ä¸­çº¿æ€§ç»„åˆçš„ç³»æ•°å’Œä¸º$1$ï¼Œæˆ–è€…å–å­ç©ºé—´ä¸­çš„ç³»æ•°$\theta_1,\theta_2 \in R_+$,åŒæ—¶æ»¡è¶³$\theta_1+\theta_2 = 1$ã€‚<br>
äº‹å®ä¸Šï¼Œå­ç©ºé—´è¦æ±‚çš„æ¡ä»¶æ¯”ä»¿å°„é›†å’Œå‡¸é”¥çš„æ¡ä»¶è¦æ›´ä¸¥æ ¼ã€‚ä»¿å°„é›†å’Œå‡¸é”¥åªè¦æ±‚åœ¨ç³»æ•°$\theta_i$æ»¡è¶³ç›¸åº”çš„æ¡ä»¶æ—¶,æœ‰$\theta_1 x_1 + \theta_2 x_2 \in \mathbb{R}^n $ï¼›è€Œå­ç©ºé—´è¦æ±‚çš„æ˜¯åœ¨ç³»æ•°$\theta_i$å–ä»»æ„å€¼çš„æ—¶å€™ï¼Œéƒ½æœ‰$\theta_1 x_1 + \theta_2 x_2 \in \mathbb{R}^n $ï¼Œæ‰€ä»¥å­ç©ºé—´ä¸€å®šæ˜¯ä»¿å°„é›†ï¼Œä¹Ÿä¸€å®šæ˜¯å‡¸é”¥ã€‚ï¼ˆæ‹¿äºŒç»´çš„ä¸¾ä¸ªä¾‹å­ï¼Œç»™å®š$x_1$å’Œ$x_2$ï¼Œä»¿å°„é›†å¯ä»¥çœ‹æˆæ˜¯$\theta_1$çš„å‡½æ•°ï¼Œå› ä¸º$\theta_2=1-\theta_1$ï¼Œè€Œå­ç©ºé—´å¯ä»¥çœ‹æˆ$\theta_1$å’Œ$\theta_2$çš„å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯ä¸€å…ƒå‡½æ•°ï¼Œä¸€ä¸ªæ˜¯äºŒå…ƒå‡½æ•°ï¼‰</p>
<h3 id="è¶…å¹³é¢-hyperplane-å’ŒåŠç©ºé—´-halfspace">è¶…å¹³é¢(hyperplane)å’ŒåŠç©ºé—´(halfspace)</h3>
<p>è¶…å¹³é¢æ˜¯ä¸€ä¸ªä»¿å°„é›†ï¼Œä¹Ÿæ˜¯å‡¸é›†ï¼Œä½†ä¸ä¸€å®šæ˜¯é”¥é›†(è¿‡åŸç‚¹æ‰æ˜¯é”¥é›†ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå­ç©ºé—´)ã€‚<br>
é—­çš„åŠç©ºé—´æ˜¯ä¸€ä¸ªå‡¸é›†ï¼Œä¸æ˜¯ä»¿å°„é›†ã€‚</p>
<h4 id="è¶…å¹³é¢-hyperplane">è¶…å¹³é¢(hyperplane)</h4>
<p>è¶…å¹³é¢é€šå¸¸å…·æœ‰ä»¥ä¸‹å½¢å¼ï¼š<br>
$${x\big|a^T x=b},$$<br>
å…¶ä¸­$a\in \mathbb{R}^n ,a\ne 0,b\in R$ï¼Œå®ƒå…¶å®æ˜¯ä¸€ä¸ªå¹³å‡¡(nontrivial)çº¿æ€§æ–¹ç¨‹ç»„çš„è§£ï¼Œå› æ­¤ä¹Ÿæ˜¯ä¸€ä¸ªä»¿å°„é›†ã€‚å‡ ä½•ä¸Šï¼Œè¶…å¹³é¢å¯ä»¥è§£é‡Šä¸ºå’Œä¸€ä¸ªç»™å®šå‘é‡$a$å…·æœ‰ç›¸åŒå†…ç§¯(inner product)çš„ç‚¹é›†ï¼Œæˆ–è€…è¯´æ˜¯æ³•å‘é‡ä¸º$a$çš„ä¸€ä¸ªè¶…å¹³é¢ã€‚å¸¸æ•°$b$æ˜¯è¶…å¹³é¢å’ŒåŸç‚¹ä¹‹é—´çš„è·ç¦»(offset)ã€‚<br>
å‡ ä½•æ„ä¹‰å¯ä»¥è¢«è¡¨ç¤ºæˆå¦‚ä¸‹å½¢å¼ï¼š<br>
$${x\big|a^T (x-x_0) = 0},$$<br>
å…¶ä¸­$x_0$æ˜¯è¶…å¹³é¢ä¸Šçš„ä¸€ç‚¹ï¼Œå³æ»¡è¶³$a^T x_0=0$ã€‚å¯ä»¥è¢«è¡¨ç¤ºæˆå¦‚ä¸‹å½¢å¼ï¼š<br>
$${x\big|a^T (x-x_0)=0} = x_0+a^{\perp},$$<br>
å…¶ä¸­$a^{\perp} $æ˜¯$a$çš„æ­£äº¤è¡¥ï¼Œå³æ‰€æœ‰ä¸$a$æ­£äº¤çš„å‘é‡çš„é›†åˆï¼Œæ»¡è¶³$a^{\perp} ={v\big|a^T v=0}$ã€‚æ‰€ä»¥ï¼Œè¶…å¹³é¢çš„å‡ ä½•è§£é‡Šå¯ä»¥çœ‹åšä¸€ä¸ªåç§»(åŸç‚¹åˆ°è¿™ä¸ªè¶…å¹³é¢çš„è·ç¦»)åŠ ä¸Šæ‰€æœ‰å‚ç›´äºä¸€ä¸ªç‰¹å®šå‘é‡$a$(æ­£äº¤å‘é‡)çš„å‘é‡ï¼Œå³è¿™äº›å‚ç›´äº$a$çš„å‘é‡æ„æˆäº†ä¸€ä¸ªè¿‡åŸç‚¹çš„è¶…å¹³é¢ï¼Œå†åŠ ä¸Šè¿™ä¸ªåç§»é‡å°±æ˜¯æˆ‘ä»¬è¦çš„è¶…å¹³é¢ã€‚å‡ ä½•è¡¨ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚<br>
<img src="/2018/12/24/convex-optimization-chapter-2-Convex-sets/figure2_6.png" alt="figure 2.6"></p>
<h4 id="åŠç©ºé—´-halfspace">åŠç©ºé—´(halfspace)</h4>
<p>ä¸€ä¸ªè¶…å¹³é¢å°†$\mathbb{R}^n $åˆ’åˆ†ä¸ºä¸¤ä¸ªåŠç©ºé—´(halfspaces)ï¼Œä¸€ä¸ªæ˜¯é—­(closed)åŠç©ºé—´ï¼Œä¸€ä¸ªæ˜¯å¼€åŠç©ºé—´ã€‚é—­çš„åŠç©ºé—´å¯ä»¥è¡¨ç¤ºæˆ${x\big|a^T x\le b}$ï¼Œå…¶ä¸­$a\ne 0$ï¼ŒåŠç©ºé—´æ˜¯å‡¸çš„ï¼Œä½†ä¸æ˜¯ä»¿å°„çš„ã€‚ä¸‹å›¾ä¾¿æ˜¯ä¸€ä¸ªé—­çš„åŠç©ºé—´ã€‚<br>
<img src="/2018/12/24/convex-optimization-chapter-2-Convex-sets/figure2_7.png" alt="figure 2.7"><br>
è¿™ä¸ªåŠç©ºé—´ä¹Ÿå¯ä»¥å†™æˆï¼š<br>
$${x\big|a^T (x-x_0)\le 0},$$<br>
å…¶ä¸­$x_0$æ˜¯åˆ’åˆ†ä¸¤ä¸ªåŠç©ºé—´çš„è¶…å¹³é¢ä¸Šçš„ä¸€ç‚¹ï¼Œå³æ»¡è¶³$a^T x_0=b$ã€‚ä¸€ä¸ªå‡ ä½•è§£é‡Šæ˜¯ï¼šåŠç©ºé—´ç”±ä¸€ä¸ªåç§»$x_0$åŠ ä¸Šæ‰€æœ‰å’Œä¸€ä¸ªç‰¹å®šå‘é‡$a$(è¶…å¹³é¢çš„å¤–(outward)æ³•å‘é‡)æˆé’è§’(obtuse)æˆ–è€…ç›´è§’(right)çš„æ‰€æœ‰å‘é‡ç»„æˆã€‚<br>
è¿™ä¸ªåŠç©ºé—´çš„è¾¹ç•Œæ˜¯è¶…å¹³é¢${x\big|a^T x=b}$ã€‚è¿™ä¸ªåŠç©ºé—´${x\big|a^T x\le b}$çš„å†…éƒ¨æ˜¯${x\big|a^T x\lt b}$ï¼Œä¹Ÿè¢«ç§°ä¸ºä¸€ä¸ªå¼€åŠå¹³é¢ã€‚</p>
<h3 id="æ¬§å‡ é‡Œå¾—çƒ-euclidean-ball-å’Œæ¤­çƒ-ellipsoid">æ¬§å‡ é‡Œå¾—çƒ(Euclidean ball)å’Œæ¤­çƒ(ellipsoid)</h3>
<h4 id="æ¬§å‡ é‡Œå¾—çƒ">æ¬§å‡ é‡Œå¾—çƒ</h4>
<p>$\mathbb{R}^n $ç©ºé—´ä¸­çš„æ¬§å‡ é‡Œå¾—çƒæˆ–è€…å«çƒï¼Œæœ‰å¦‚ä¸‹çš„å½¢å¼ï¼š<br>
$$B(x_r,r = {x\big|\Vert x-x_c\Vert_2\le r}={x \big|(x-x_c)^T (x-x_c)\le \mathbb{R}^2 },$$<br>
å…¶ä¸­$r\gt 0$,$\Vert \cdot\Vert_2$æ˜¯æ¬§å‡ é‡Œå¾—èŒƒæ•°(ç¬¬äºŒèŒƒæ•°)ï¼Œå³$\Vert u\Vert_2=(u^T u)^{\frac{1}{2}} $ã€‚å‘é‡$x_c$æ˜¯çƒå¿ƒï¼Œæ ‡é‡$r$æ˜¯åŠå¾„ã€‚$B(x_c,r)$åŒ…å«æ‰€æœ‰å’Œåœ†å¿ƒ$x_c$è·ç¦»å°äº$r$çš„çƒã€‚<br>
æ¬§å‡ é‡Œå¾—çƒçš„å¦ä¸€ç§è¡¨ç¤ºå½¢å¼æ˜¯ï¼š<br>
$$B(x_c,r)={x_c + ru\big| \Vert u \Vert_2 \le 1},$$<br>
ä¸€ä¸ªæ¬§å‡ é‡Œå¾—çƒæ˜¯å‡¸é›†ï¼Œå¦‚æœ$\Vert x_1-x_c\Vert_2 \le r,\Vert x_2-x_c\Vert_2\le r, 0\le\theta\le1$ï¼Œé‚£ä¹ˆï¼š<br>
\begin{align*}<br>
\Vert\theta x_1 + (1-\theta)x_2 - x_c\Vert_2 &amp;= \Vert\theta(x_1-x_c)+(1-\theta)(x_2-x_c)\Vert_2\\<br>
&amp;\le\theta\Vert x_1-x_c\Vert_2 + (1-\theta)\Vert x_2 - x_c \Vert_2\\<br>
&amp;\le r<br>
\end{align*}<br>
ç”¨å…¶æ¬¡æ€§å’Œä¸‰è§’ä¸ç­‰å¼å¯è¯æ˜</p>
<h4 id="æ¤­çƒ">æ¤­çƒ</h4>
<p>å¦ä¸€ç±»å‡¸é›†æ˜¯æ¤­çƒï¼Œå®ƒä»¬æœ‰å¦‚ä¸‹çš„å½¢å¼ï¼š<br>
$$\varepsilon ={x\big|(x-x_c)^T P^{-1} (x-x_c) \le 1},$$<br>
å…¶ä¸­$P=P^T \succ 0$å³$P$æ˜¯å¯¹ç§°å’Œæ­£å®šçš„ã€‚å‘é‡$x_c\in \mathbb{R}^n $æ˜¯æ¤­çƒçš„ä¸­å¿ƒã€‚çŸ©é˜µ$P$å†³å®šäº†æ¤­çƒä»$x_c$å‘å„ä¸ªæ–¹å‘æ‰©å±•çš„è·ç¦»ã€‚æ¤­çƒ$\varepsilon$çš„åŠè½´ç”±çŸ©é˜µ$P$çš„ç‰¹å¾å€¼$\lambda_i$ç®—å‡ºï¼Œ$\sqrt{\lambda_i}$ï¼Œçƒæ˜¯$P=\mathbb{R}^2 I$çš„æ¤­çƒã€‚<br>
<strong>è¿™é‡Œè¿™ç§è¡¨ç¤ºå½¢å¼ä¸ºä»€ä¹ˆè¦ç”¨$P^{-1} $ï¼Ÿ</strong><br>
æ¤­çƒçš„å¦ä¸€ç§è¡¨ç¤ºæ˜¯ï¼š<br>
$$\varepsilon = {x_c + Au\big| \Vert u \Vert_2 \le 1},$$<br>
å…¶ä¸­$A$æ˜¯ä¸€ä¸ªéå¥‡å¼‚æ–¹é˜µã€‚å‡è®¾$A$æ˜¯å¯¹ç§°æ­£å®šçš„ï¼Œå–$A=P^{\frac{1}{2}} $ï¼Œè¿™ç§è¡¨ç¤ºå°±å’Œä¸Šé¢çš„è¡¨ç¤ºæ˜¯ä¸€æ ·çš„ã€‚ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ç§è¡¨ç¤ºçš„æ—¶å€™ï¼Œæˆ‘åœ¨æƒ³ï¼Œæ¤­çƒçš„è¾¹ç•Œä¸Šæœ‰æ— æ•°ä¸ªç‚¹ï¼Œä¸€ä¸ªæ–¹é˜µ$A$æ˜¯æ€ä¹ˆå®ç°å¯¹è¿™æ— æ•°ä¸ªæ“ä½œçš„ï¼Œåæ¥å’Œçƒåšäº†å¯¹æ¯”ï¼Œå‘ç°è‡ªå·±ä¸€ç›´éƒ½æƒ³é”™äº†ï¼Œè¿™æ— æ•°ä¸ªç‚¹æ˜¯é€šè¿‡èŒƒæ•°å®ç°çš„è€Œä¸æ˜¯é€šè¿‡çŸ©é˜µ$A$å®ç°çš„ï¼Œåˆ°çƒå¿ƒè·ç¦»ä¸º$\Vert u\Vert_2\le 1$çš„ç‚¹æœ‰æ— æ•°ä¸ªï¼Œ$A$å¯¹è¿™æ— æ•°ä¸ªç‚¹çš„åæ ‡éƒ½åšäº†ä»¿å°„å˜æ¢ï¼Œå°†ä¸€ä¸ªçƒå˜æ¢æˆäº†æ¤­çƒï¼Œç‰¹æ®Šæƒ…å†µä¸‹å°±æ˜¯çƒã€‚å½“çŸ©é˜µ$A$æ˜¯å¯¹ç§°åŠæ­£å®šä½†æ˜¯æ˜¯å¥‡å¼‚çš„æ—¶å€™ï¼Œè¿™ä¸ªæƒ…å†µä¸‹ç§°ä¸ºé€€åŒ–æ¤­çƒ(degenerate ellipsoid)ï¼Œå®ƒçš„ä»¿å°„ç»´åº¦å’ŒçŸ©é˜µ$A$çš„ç§©(rank)æ˜¯ç›¸åŒçš„ã€‚é€€åŒ–æ¤­çƒä¹Ÿæ˜¯å‡¸çš„ã€‚</p>
<h3 id="èŒƒæ•°çƒ-norm-ball-å’ŒèŒƒæ•°é”¥-norm-cone">èŒƒæ•°çƒ(norm ball)å’ŒèŒƒæ•°é”¥(norm cone)</h3>
<h4 id="èŒƒæ•°çƒ-norm-ball">èŒƒæ•°çƒ(norm ball)</h4>
<h5 id="å®šä¹‰-v12">å®šä¹‰</h5>
<p>$\Vert \cdot\Vert$æ˜¯$\mathbb{R}^n $ä¸Šçš„èŒƒæ•°ã€‚ä¸€ä¸ªèŒƒæ•°çƒ(norm ball)å¯ä»¥çœ‹æˆä¸€ä¸ªä»¥$x_c$ä¸ºä¸­å¿ƒï¼Œä»¥$r$ä¸ºåŠå¾„çš„é›†åˆï¼Œä½†æ˜¯è¿™ä¸ª$r$å¯ä»¥æ˜¯ä»»ä½•èŒƒæ•°ï¼Œå³${x\big|\Vert x-x_c \Vert \le r}$ï¼Œå®ƒæ˜¯å‡¸çš„ã€‚</p>
<h5 id="ç¤ºä¾‹-v15">ç¤ºä¾‹</h5>
<p>æˆ‘ä»¬å¸¸è§çš„çƒæ˜¯äºŒèŒƒæ•°ï¼ˆæ¬§å‡ é‡Œå¾—èŒƒæ•°ï¼‰å¯¹åº”çš„èŒƒæ•°çƒã€‚</p>
<h4 id="èŒƒæ•°é”¥">èŒƒæ•°é”¥</h4>
<h5 id="å®šä¹‰-v13">å®šä¹‰</h5>
<p>å’ŒèŒƒæ•°ç›¸å…³çš„èŒƒæ•°é”¥æ˜¯é›†åˆï¼š$C = {(x,t)\big|\Vert x\Vert \le t} \subset \mathbb{R}^{n+1} $ï¼Œå®ƒä¹Ÿæ˜¯å‡¸é”¥ã€‚</p>
<h5 id="ç¤ºä¾‹-v16">ç¤ºä¾‹</h5>
<p><img src="/2018/12/24/convex-optimization-chapter-2-Convex-sets/figure2_10.png" alt="figure 2.10"><br>
äºŒé˜¶é”¥(second-order cone)æ˜¯æ¬§å‡ é‡Œå¾—èŒƒæ•°å¯¹åº”çš„èŒƒæ•°é”¥ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œå…¶è¡¨è¾¾å¼ä¸ºï¼š<br>
\begin{align*}<br>
C &amp;={(x,t)\in \mathbb{R}^{n+1} \big| \Vert x\Vert_2 \le t}\\<br>
&amp;= \left{ \begin{bmatrix}x\\t\end{bmatrix} \big| \begin{bmatrix}x\\t\end{bmatrix}^T \begin{bmatrix}I&amp;0\\ 0&amp;-1\end{bmatrix} \begin{bmatrix}x\\t\end{bmatrix}\le 0, t \gt 0 \right}<br>
\end{align*}<br>
è¿™ä¸ªäºŒé˜¶é”¥ä¹Ÿè¢«ç§°ä¸ºäºŒæ¬¡é”¥(quadratic cone)ï¼Œå› ä¸ºå®ƒæ˜¯é€šè¿‡ä¸€ä¸ªäºŒæ¬¡ä¸ç­‰å¼å®šä¹‰çš„ï¼Œä¹Ÿè¢«å«åšLorentz coneæˆ–è€…å†°æ¿€å‡Œé”¥(ice-cream cone)ã€‚</p>
<h4 id="èŒƒæ•°é”¥å’ŒèŒƒæ•°çƒçš„åŒºåˆ«">èŒƒæ•°é”¥å’ŒèŒƒæ•°çƒçš„åŒºåˆ«</h4>
<p>èŒƒæ•°çƒæ˜¯æ‰€æœ‰ç‚¹åˆ°åœ†å¿ƒ$x_c$çš„èŒƒæ•°å°äºä¸€ä¸ªè·ç¦»$r$ã€‚<br>
èŒƒæ•°é”¥æ˜¯å¾ˆå¤šç›´çº¿ç»„æˆçš„é”¥ã€‚</p>
<h3 id="å¤šé¢ä½“-polyhedra">å¤šé¢ä½“(polyhedra)</h3>
<h4 id="å®šä¹‰-v14">å®šä¹‰</h4>
<p>å¤šé¢ä½“(polyhedron)æ˜¯æœ‰é™ä¸ªçº¿æ€§ä¸ç­‰å¼æˆ–è€…çº¿æ€§æ–¹ç¨‹ç»„çš„è§£é›†çš„é›†åˆï¼š<br>
$P = {x\big|a_j^T x\le b_j, j=1,\cdots,m,c_j^T x=d_j,j=1,\cdots,p}$<br>
å¤šé¢ä½“å› æ­¤ä¹Ÿæ˜¯æœ‰é™ä¸ªåŠç©ºé—´æˆ–è€…è¶…å¹³é¢çš„äº¤é›†ã€‚ä»¿å°„é›†(å¦‚ï¼Œå­ç©ºé—´ï¼Œè¶…å¹³é¢ï¼Œç›´çº¿)ï¼Œå°„çº¿ï¼Œçº¿æ®µï¼ŒåŠç©ºé—´ç­‰ç­‰éƒ½æ˜¯å¤šé¢ä½“ï¼Œå¤šé¢ä½“ä¹Ÿæ˜¯å‡¸é›†ã€‚æœ‰ç•Œçš„polyhedronæœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºpolytopeï¼Œä¸€äº›ä½œè€…ä¼šæŠŠå®ƒä»¬ä¸¤ä¸ªåè¿‡æ¥å«ã€‚<br>
ä¸Šå¼çš„ç´§å‡‘(compact)è¡¨ç¤ºæ˜¯ï¼š<br>
$$P={x\big|Ax\preceq b, Cx=d}$$<br>
å…¶ä¸­$A=\begin{bmatrix}a_1^T \\ \vdots\\ a_m^T \end{bmatrix},C=\begin{bmatrix}c_1^T \\ \vdots\\c_p^T \end{bmatrix}$ï¼Œ$\preceq$è¡¨ç¤º$\mathbb{R}^m $ç©ºé—´ä¸­çš„å‘é‡ä¸ç­‰å¼(vector ineuqalitied)æˆ–è€…åˆ†é‡å¤§å°çš„ä¸ç­‰å¼ï¼Œ$u\preceq v$ä»£è¡¨ç€$u_i\le v_i, i=1,\cdots,m$ã€‚</p>
<h5 id="simplexes">simplexes</h5>
<p>simplexesæ˜¯å¦ä¸€ç±»å¾ˆé‡è¦çš„å¤šé¢ä½“ã€‚å‡è®¾$\mathbb{R}^n $ç©ºé—´ä¸­çš„$k+1$ä¸ªç‚¹æ˜¯ä»¿å°„ç‹¬ç«‹(affinely independent)ï¼Œæ„å‘³ç€$v_1-v_0, \cdots,v_k-v_0$æ˜¯çº¿æ€§ç‹¬ç«‹çš„ã€‚ç”±$k+1$ä¸ªä»¿å°„ç‹¬ç«‹çš„ç‚¹ç¡®å®šçš„simplexæ˜¯ï¼š<br>
$$C = conv{v_0,\cdots,v_k} = {\theta_0v_0+\cdots+\theta_kv_k\big| \theta \succeq 0, \mathcal{1}\theta=1 },$$<br>
å…¶ä¸­$\mathcal{1}$æ˜¯å…¨ä¸º$1$çš„åˆ—å‘é‡ã€‚è¿™ä¸ªsimplexçš„ä»¿å°„ç»´åº¦æ˜¯$k$ï¼Œæ‰€ä»¥å®ƒä¹Ÿå«$\mathbb{R}^n $ç©ºé—´ä¸­çš„$k$ç»´simplexã€‚ä¸ºä»€ä¹ˆä»¿å°„ç»´åº¦æ˜¯$k$ï¼Œæˆ‘çš„ç†è§£æ˜¯simplexæ˜¯å‡¸é›†ï¼Œè€Œå‡¸é›†ä¸æ˜¯å­ç©ºé—´ï¼Œå‡¸é›†å»æ‰å…¶ä¸­ä»»æ„ä¸€ä¸ªå…ƒç´ æ‰æ˜¯å­ç©ºé—´ï¼Œæ‰€ä»¥å°±æ˜¯$k$ç»´è€Œä¸æ˜¯$k+1$ç»´ã€‚<br>
ä¸ºäº†å°†simplexè¡¨è¾¾æˆä¸€ä¸ªç´§å‡‘å½¢å¼çš„å¤šé¢ä½“ã€‚å®šä¹‰$y=(\theta_1,\cdots,\theta_k)$å’Œ$B=[v_1-v_0\ \cdots\ v_k-v_0]\in \mathbb{R}^{n\times k} $ï¼Œå½“ä¸”ä»…å½“å­˜åœ¨$y\succeq 0, \mathcal{1}^T y\le 1$ï¼Œ$x=v_0+By$æœ‰$x\in C$ï¼Œ<strong>ç–‘é—®ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆå˜æˆäº†$\mathcal{1}^T y\le 1$ï¼Œéš¾é“æ˜¯å› ä¸ºå°‘äº†ä¸ª$v_0$å—</strong>ã€‚ç‚¹$v_0,\cdots,v_k$è¡¨æ˜çŸ©é˜µ$B$çš„ç§©ä¸º$k$ã€‚å› æ­¤å­˜åœ¨ä¸€ä¸ªéå¥‡å¼‚çŸ©é˜µ$A=(A_1,A_2)\in \mathbb{R}^{n\times n} $ä½¿å¾—ï¼š<br>
$$AB = \begin{bmatrix}A_1\\A_2\end{bmatrix}B= \begin{bmatrix}I\\0\end{bmatrix}.$$<br>
å¯¹$x = v_0+By$åŒæ—¶å·¦ä¹˜$A$ï¼Œå¾—åˆ°ï¼š<br>
$$A_1x = A_1v_0+y, A_2x=A_xv_0.$$<br>
ä»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå¦‚æœ$A_2x=A_2v_0$ï¼Œä¸”å‘é‡$y=A_1x-A_1v_0$æ»¡è¶³$y\succeq 0, \mathcal{1}^T y\le1$æ—¶ï¼Œ$x\in C$ã€‚æ¢å¥è¯è¯´ï¼Œå½“ä¸”ä»…å½“$x$æ»¡è¶³ä»¥ä¸‹ç­‰å¼å’Œä¸ç­‰å¼æ—¶ï¼š<br>
$$A_2x = A_2v_0,A_1x\succeq A_1v_0, \mathcal{1}A_1x\le1+\mathcal{1}^T A_1v_0,$$<br>
æœ‰$x\in C$ã€‚</p>
<h5 id="å¤šé¢ä½“çš„å‡¸åŒ…æè¿°">å¤šé¢ä½“çš„å‡¸åŒ…æè¿°</h5>
<p>ä¸€ä¸ªæœ‰é™é›†åˆ${v_1,\cdots,v_k}$çš„å‡¸åŒ…æ˜¯ï¼š<br>
$$conv{v_1,\cdots,v_k} = {\theta_1 v_1 +\cdots +\theta_k v_k\big| \theta \succeq 0, \mathcal{1}^T \theta = 1}.$$<br>
è¿™ä¸ªé›†åˆæ˜¯ä¸€ä¸ªå¤šé¢ä½“ï¼Œå¹¶ä¸”æœ‰ç•Œã€‚ä½†æ˜¯å®ƒï¼ˆé™¤äº†simplexï¼‰ä¸å®¹æ˜“åŒ–æˆå¤šé¢ä½“çš„ç´§å‡‘è¡¨ç¤ºï¼Œå³ä¸ç­‰å¼å’Œç­‰å¼çš„é›†åˆã€‚<br>
ä¸€ä¸ªä¸€èˆ¬åŒ–çš„å‡¸åŒ…æè¿°æ˜¯ï¼š<br>
$${\theta_1 v_1 +\cdots +\theta_k v_k\big| \theta_1+\cdots + \theta_m = 1,\theta_i \ge 0,i=1,\cdots,k}.$$<br>
å…¶ä¸­$m\le k$ï¼Œå®ƒå¯ä»¥çœ‹åšæ˜¯ç‚¹$v_1,\cdots,v_m$çš„å‡¸åŒ…åŠ ä¸Šç‚¹$v_{m+1},\cdots,v_{k}$çš„é”¥åŒ…ã€‚è¿™ä¸ªé›†åˆå®šä¹‰äº†ä¸€ä¸ªå¤šé¢ä½“ï¼Œåè¿‡æ¥ï¼Œä»»æ„ä¸€ä¸ªå¤šé¢ä½“å¯ä»¥çœ‹åšå‡¸åŒ…åŠ ä¸Šé”¥åŒ…ã€‚<br>
ä¸€ä¸ªå¤šé¢ä½“å¦‚ä½•è¡¨ç¤ºæ˜¯å¾ˆæœ‰æŠ€å·§çš„ã€‚æ¯”å¦‚ä¸€ä¸ª$\mathbb{R}^n $ç©ºé—´ä¸Šçš„æ— ç©·èŒƒæ•°å•ä½çƒ$C$ï¼š<br>
$$C={x\big|\ |x_i|\le 1,i = 1,\cdots,n}.$$<br>
é›†åˆ$C$å¯ä»¥è¢«è¡¨ç¤ºæˆ$2n$ä¸ªçº¿æ€§ä¸ç­‰å¼$\pm e_i^T x\le 1$ï¼Œå…¶ä¸­$e_i$æ˜¯ç¬¬$i$ä¸ªå•ä½å‘é‡ã€‚ç„¶è€Œç”¨å‡¸åŒ…å½¢å¼æè¿°è¿™ä¸ªé›†åˆéœ€è¦ç”¨è‡³å°‘$2^n $ä¸ªç‚¹ï¼š<br>
$$C = conv{v_{1},\cdots,v_{2^n }},$$<br>
å…¶ä¸­$v_{1},\cdots,v_{2n}$æ˜¯$2^n $ä¸ªå‘é‡ï¼Œæ¯ä¸ªå‘é‡çš„å…ƒç´ éƒ½æ˜¯$1$æˆ–$-1$ã€‚å› æ­¤å‡¸åŒ…æè¿°å’Œä¸ç­‰å¼æè¿°æœ‰å¾ˆå¤§å·®å¼‚ï¼Œå°¤å…¶æ˜¯$n$å¾ˆå¤§çš„æ—¶å€™ã€‚<br>
è¿™é‡Œä¸ºä»€ä¹ˆæ˜¯$2^n $ä¸ªç‚¹å‘¢ï¼Ÿå› ä¸ºæ˜¯æ— ç©·èŒƒæ•°æ„æˆçš„å•ä½åœ†ï¼Œåœ¨æ•°è½´ä¸Šæ˜¯åŒºé—´$[-1,1]$ï¼Œåœ¨$\mathbb{R}^2 $æ˜¯æ­£æ–¹å½¢${(x,)\big|-1 \le x\le 1,-1\le y\le 1}$ï¼Œå¯¹åº”çš„å››ä¸ªç‚¹æ˜¯${(1,1),(1,-1),(-1,1),(-1,-1)}$ï¼Œè€Œåœ¨$\mathbb{R}^3 $æ˜¯ç«‹æ–¹ä½“${(x,y,z)\big|-1 \le x\le 1,-1\le y\le 1, -1\le z\le 1}$ï¼Œå¯¹åº”çš„æ˜¯ç«‹æ–¹ä½“çš„å…«ä¸ªé¡¶ç‚¹${(1,1,1),(1,1,-1),(1,-1,1),(1,-1,-1),(-1,1,1),(-1,1,-1),(-1,-1,1),(-1,-1,-1)}$ã€‚</p>
<h4 id="ç¤ºä¾‹-v17">ç¤ºä¾‹</h4>
<ol>
<li>å¦‚å›¾æ‰€ç¤ºï¼Œæ˜¯äº”ä¸ªåŠå¹³é¢çš„äº¤é›†å®šä¹‰çš„å¤šé¢ä½“ã€‚<br>
<img src="/2018/12/24/convex-optimization-chapter-2-Convex-sets/figure2_11.png" alt="figure 2.11"></li>
<li>éè´Ÿè±¡é™(nonnegative orthant)æ˜¯éè´Ÿç‚¹çš„é›†åˆï¼Œå³ï¼š<br>
$$R_{+}^n = {x\in \mathbb{R}^n \big| x_i\ge 0, i = 1,\cdots,n} = {x\in \mathbb{R}^n \big| x\succeq 0}.$$<br>
éè´Ÿè±¡é™æ˜¯ä¸€ä¸ªå¤šé¢ä½“ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªé”¥ï¼Œæ‰€ä»¥ä¹Ÿå«å¤šé¢ä½“é”¥(polyhedral cone)ï¼Œä¹Ÿå«éè´Ÿè±¡é™é”¥ã€‚</li>
<li>ä¸€ä¸ª1ç»´çš„simplexæ˜¯ä¸€æ¡çº¿æ®µã€‚ä¸€ä¸ªäºŒç»´çš„simplexæ˜¯ä¸€ä¸ªä¸‰è§’å½¢ï¼ˆåŒ…å«å®ƒçš„å†…éƒ¨ï¼‰ã€‚ä¸€ä¸ªä¸‰ç»´çš„simpleæ˜¯ä¸€ä¸ªå››é¢ä½“(tetrahedron)ã€‚</li>
<li>ç”±$\mathbb{R}^n $ä¸­çš„é›¶å‘é‡å’Œå•ä½å‘é‡ç¡®å®šçš„simplexæ˜¯$n$ç»´unit simplexã€‚å®ƒæ˜¯å‘é‡é›†åˆï¼š<br>
$$x\succeq 0, \mathcal{1}^T x \le 1.$$</li>
<li>ç”±$\mathbb{R}^n $ä¸­çš„å•ä½å‘é‡ç¡®å®šçš„simplexæ˜¯$n-1$ç»´probability simplexã€‚å®ƒæ˜¯å‘é‡é›†åˆï¼š<br>
$$x\succeq 0, \mathcal{1}^T x = 1.$$<br>
Probability simplexæ˜¯ä¸­çš„å‘é‡å¯ä»¥çœ‹æˆå…·æœ‰$n$ä¸ªå…ƒç´ çš„é›†åˆçš„æ¦‚ç‡åˆ†å¸ƒï¼Œ$x_i$è§£é‡Šä¸ºç¬¬$i$ä¸ªå…ƒç´ çš„æ¦‚ç‡ã€‚</li>
</ol>
<h3 id="åŠæ­£å®šé”¥-positive-sefidefinite-cone">åŠæ­£å®šé”¥(positive sefidefinite cone)</h3>
<h4 id="å®šä¹‰-v15">å®šä¹‰</h4>
<p>ç”¨$S^n $è¡¨ç¤º$n\times n$çš„å¯¹ç§°çŸ©é˜µï¼š$S^n ={X\in \mathbb{R}^{n\times n} \big| X = X^T }$ï¼Œ$S^n $æ˜¯ä¸€ä¸ª$n(n+1)/2$ç»´åŸºçš„å‘é‡ç©ºé—´ã€‚æ¯”å¦‚ï¼Œä¸‰ç»´ç©ºé—´ä¸­å¯¹ç§°çŸ©é˜µçš„ä¸€ç»„åŸºæ˜¯ï¼š<br>
$$\begin{bmatrix}1&amp;0&amp;0\\0&amp;0&amp;0\\0&amp;0&amp;0\end{bmatrix}\begin{bmatrix}0&amp;0&amp;0\\1&amp;0&amp;0\\0&amp;0&amp;0\end{bmatrix}\begin{bmatrix}0&amp;0&amp;0\\0&amp;1&amp;0\\0&amp;0&amp;0\end{bmatrix}\begin{bmatrix}0&amp;0&amp;0\\0&amp;0&amp;0\\1&amp;0&amp;0\end{bmatrix}\begin{bmatrix}0&amp;0&amp;0\\0&amp;0&amp;0\\0&amp;1&amp;0\end{bmatrix}\begin{bmatrix}0&amp;0&amp;0\\0&amp;0&amp;0\\0&amp;0&amp;1\end{bmatrix}.$$<br>
ç”¨$S_{+}^n $è¡¨ç¤ºåŠæ­£å®šçš„å¯¹ç§°çŸ©é˜µé›†åˆï¼š<br>
$$S_{+}^n = {X\in S^n \big| X\succeq 0},$$<br>
ç”¨$S_{++}^n $è¡¨ç¤ºæ­£å®šçš„å¯¹ç§°çŸ©é˜µé›†åˆï¼š<br>
$$S_{+}^n = {X\in S^n \big| X\succ 0},$$<br>
é›†åˆ$S_{+}^n $æ˜¯å‡¸é”¥ï¼šå¦‚æœ$\theta_1,\theta_2 \ge 0$ä¸”$A,B\in S_{+}^n $ï¼Œé‚£ä¹ˆ$\theta_1 A+\theta_{2} B\in S_{+}^n $ã€‚è¿™ä¸ªå¯ä»¥ç›´æ¥ä»ä¾é åŠæ­£å®šçš„å®šä¹‰æ¥è¯æ˜ï¼Œå¦‚æœ$A,B\in S_{+}^n ,\theta_1,\theta_2\ge 0$ï¼Œ(<strong>è¿™é‡ŒåŸä¹¦ä¸­ç”¨çš„æ˜¯$A,B\succeq 0$,æˆ‘è§‰å¾—åº”è¯¥æ˜¯å†™é”™äº†å§</strong>)ï¼Œå¯¹ä»»æ„$\forall x \in \mathbb{R}^n $ï¼Œéƒ½æœ‰ï¼š<br>
$$x^T (\theta_1A+\theta_2B)x = \theta_1x^T Ax + \theta_2x^T Bx.$$</p>
<h4 id="ç¤ºä¾‹-v18">ç¤ºä¾‹</h4>
<p>å¯¹äº$S^2 $ç©ºé—´ä¸­çš„åŠæ­£å®šé”¥ï¼Œæœ‰<br>
$$X=\begin{bmatrix}x&amp;y\\y&amp;z\end{bmatrix}\in S_{+}^2 \Leftrightarrow x\ge 0,z\ge 0, xz\ge y^2 $$<br>
è¿™ä¸ªé”¥çš„è¾¹ç•Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚<br>
<img src="/2018/12/24/convex-optimization-chapter-2-Convex-sets/figure2_12.png" alt="figure 2.12"></p>
<h3 id="å¸¸è§çš„å‡ ç§é”¥">å¸¸è§çš„å‡ ç§é”¥</h3>
<p>èŒƒæ•°é”¥ï¼Œéè´Ÿè±¡é™é”¥ï¼ŒåŠæ­£å®šé”¥ï¼Œå®ƒä»¬éƒ½è¿‡åŸç‚¹ã€‚<br>
æƒ³æƒ³å¯¹åº”çš„å›¾åƒæ˜¯ä»€ä¹ˆæ ·çš„ã€‚<br>
èŒƒæ•°é”¥å’Œéè´Ÿè±¡é™é”¥å›¾åƒè¿˜å¥½ç†è§£ä¸€äº›ï¼Œéè´Ÿè±¡é™é”¥æ˜¯$\mathbb{R}^n $ç©ºé—´æ‰€æœ‰éè´ŸåŠè½´å›´æˆçš„é”¥ï¼ŒèŒƒæ•°é”¥çš„è¾¹ç•Œåƒä¸€ä¸ªæ²™æ¼ï¼Œä½†æ˜¯æ˜¯æ— é™å»¶ä¼¸çš„ã€‚åŠæ­£å®šé”¥æ€ä¹ˆç†è§£ï¼Œè¿˜æ²¡æœ‰å¤ªå¥½çš„ç±»æ¯”ã€‚</p>
<h2 id="ä¿å‡¸è¿ç®—-operations-that-preserve-convexity">ä¿å‡¸è¿ç®—(operations that preserve convexity)</h2>
<p>è¿™ä¸€å°èŠ‚ä»‹ç»çš„æ˜¯ä¸€äº›ä¿ç•™é›†åˆå‡¸æ€§ï¼Œæˆ–è€…ä»ä¸€äº›é›†åˆä¸­æ„é€ å‡¸é›†çš„è¿ç®—ã€‚è¿™äº›è¿ç®—å’Œsimplexå½¢æˆäº†å‡¸é›†çš„ç§¯åˆ†å»ç¡®å®šæˆ–è€…å»ºç«‹é›†åˆçš„å‡¸æ€§ã€‚</p>
<h3 id="é›†åˆäº¤-intersection">é›†åˆäº¤(intersection)</h3>
<p>å‡¸é›†æ±‚äº¤é›†å¯ä»¥ä¿ç•™å‡¸æ€§ï¼šå¦‚æœ$S_1$å’Œ$S_2$æ˜¯å‡¸é›†ï¼Œé‚£ä¹ˆ$S_1\cup S_2$æ˜¯å‡¸é›†ã€‚æ‰©å±•åˆ°æ— é™ä¸ªé›†åˆå°±æ˜¯ï¼šå¦‚æœ$\forall \alpha \in A,S_{\alpha}$éƒ½æ˜¯å‡¸çš„ï¼Œé‚£ä¹ˆ$\cup_{\alpha\in A S_{\alpha}}$æ˜¯å‡¸çš„</p>
<h3 id="ä»¿å°„å‡½æ•°-affine-functions">ä»¿å°„å‡½æ•°(affine functions)</h3>
<h3 id="çº¿æ€§åˆ†å¼-linear-fractional-å’Œè§†è§’å‡½æ•°-perspective-functions">çº¿æ€§åˆ†å¼(linear-fractional)å’Œè§†è§’å‡½æ•°(perspective functions)</h3>
<h4 id="çº¿æ€§åˆ†å¼-linear-fractional">çº¿æ€§åˆ†å¼(linear-fractional)</h4>
<h4 id="è§†è§’å‡½æ•°-perspective-functions">è§†è§’å‡½æ•°(perspective functions)</h4>
<h2 id="å¹¿ä¹‰ä¸ç­‰å¼-generalized-inequalities">å¹¿ä¹‰ä¸ç­‰å¼ï¼ˆGeneralized inequalities)</h2>
<h3 id="çœŸé”¥-proper-cones-å’Œå¹¿ä¹‰ä¸ç­‰å¼-generalized-inequalities">çœŸé”¥(Proper cones)å’Œå¹¿ä¹‰ä¸ç­‰å¼ï¼ˆGeneralized inequalities)</h3>
<h3 id="æœ€å°-minimum-å’Œæœ€å°å…ƒç´ -minimal-elemetns">æœ€å°(Minimum)å’Œæœ€å°å…ƒç´ (minimal elemetns)</h3>
<h2 id="separatingå’Œsupporting-hyperplanes">Separatingå’Œsupporting hyperplanes</h2>
<h3 id="separating-hyperplane-theorem">Separating hyperplane theorem</h3>
<h3 id="supporting-hyperplanes">Supporting Hyperplanes</h3>
<h2 id="å¯¹å¶é”¥-dual-cones-å’Œå¹¿ä¹‰ä¸ç­‰å¼-generalized-inequalities">å¯¹å¶é”¥(dual cones)å’Œå¹¿ä¹‰ä¸ç­‰å¼(generalized inequalities)</h2>
<h3 id="none"></h3>
<h2 id="ç¬¦å·å®šä¹‰">ç¬¦å·å®šä¹‰</h2>
<p>$\preceq$è¡¨ç¤º$\mathbb{R}^m $ç©ºé—´ä¸­çš„å‘é‡ä¸ç­‰å¼(vector ineuqalitied)æˆ–è€…element-wiseçš„ä¸ç­‰å¼ï¼Œ$u\preceq v$ä»£è¡¨ç€$u_i\le v_i, i=1,\cdots,m$ã€‚</p>
<h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h2>
<p>1.stephen boyd. Convex optimization<br>
2.<a href="https://en.wikipedia.org/wiki/Topology" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Topology</a><br>
3.<a href="https://en.wikipedia.org/wiki/Topological_space" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Topological_space</a><br>
4.<a href="https://en.wikipedia.org/wiki/Power_set" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Power_set</a><br>
5.<a href="https://en.wikipedia.org/wiki/Open_set" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Open_set</a><br>
6.<a href="https://en.wikipedia.org/wiki/Closed_set" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Closed_set</a><br>
7.<a href="https://en.wikipedia.org/wiki/Clopen_set" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Clopen_set</a><br>
8.<a href="https://en.wikipedia.org/wiki/Interior_(topology)" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Interior_(topology)</a><br>
9.<a href="https://en.wikipedia.org/wiki/Closure_(topology)" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Closure_(topology)</a><br>
10.<a href="https://en.wikipedia.org/wiki/Boundary_(topology)" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Boundary_(topology)</a><br>
11.<a href="https://en.wikipedia.org/wiki/Ball_(mathematics)" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Ball_(mathematics)</a><br>
12.<a href="https://blog.csdn.net/u010182633/article/details/53792588" target="_blank" rel="noopener">https://blog.csdn.net/u010182633/article/details/53792588</a><br>
13.<a href="https://blog.csdn.net/u010182633/article/details/53819910" target="_blank" rel="noopener">https://blog.csdn.net/u010182633/article/details/53819910</a><br>
14.<a href="https://blog.csdn.net/u010182633/article/details/53983642" target="_blank" rel="noopener">https://blog.csdn.net/u010182633/article/details/53983642</a><br>
15.<a href="https://blog.csdn.net/u010182633/article/details/53997843" target="_blank" rel="noopener">https://blog.csdn.net/u010182633/article/details/53997843</a><br>
16.<a href="https://blog.csdn.net/u010182633/article/details/54093987" target="_blank" rel="noopener">https://blog.csdn.net/u010182633/article/details/54093987</a><br>
17.<a href="https://blog.csdn.net/u010182633/article/details/54139896" target="_blank" rel="noopener">https://blog.csdn.net/u010182633/article/details/54139896</a><br>
18.<a href="https://math.stackexchange.com/questions/1168898/why-is-any-subspace-a-convex-cone" target="_blank" rel="noopener">https://math.stackexchange.com/questions/1168898/why-is-any-subspace-a-convex-cone</a><br>
19.<a href="https://www.zhihu.com/question/22799760/answer/139753685" target="_blank" rel="noopener">https://www.zhihu.com/question/22799760/answer/139753685</a><br>
20.<a href="https://www.zhihu.com/question/22799760/answer/34282205" target="_blank" rel="noopener">https://www.zhihu.com/question/22799760/answer/34282205</a><br>
21.<a href="https://www.zhihu.com/question/22799760/answer/137768096" target="_blank" rel="noopener">https://www.zhihu.com/question/22799760/answer/137768096</a><br>
22.<a href="https://en.wikipedia.org/wiki/Positive-definite_matrix" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Positive-definite_matrix</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2018/12/22/convex-optimization-chapter-1-Introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
      <meta itemprop="description" content="è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/22/convex-optimization-chapter-1-Introduction/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/15/index.html">convex optimization chapter 1 Introduction</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-12-22 13:44:11" itemprop="dateCreated datePublished" datetime="2018-12-22T13:44:11+08:00">2018-12-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-09-04 20:51:00" itemprop="dateModified" datetime="2019-09-04T20:51:00+08:00">2019-09-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/å‡¸ä¼˜åŒ–/" itemprop="url" rel="index"><span itemprop="name">å‡¸ä¼˜åŒ–</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æ•°å­¦ä¼˜åŒ–-mathematical-optimization">æ•°å­¦ä¼˜åŒ–(mathematical optimization)</h2>
<h3 id="å®šä¹‰">å®šä¹‰</h3>
<p>ä¸€ä¸ªæ•°å­¦ä¼˜åŒ–é—®é¢˜ï¼ˆæˆ–è€…ç§°ä¸ºä¼˜åŒ–é—®é¢˜ï¼‰é€šå¸¸æœ‰å¦‚ä¸‹çš„å½¢å¼ï¼š<br>
\begin{align*}<br>
&amp;minimize \quad f_0(x)\\<br>
&amp;subject \ to \quad f_i(x) \le b_i, i = 1,\cdots,m.<br>
\end{align*}<br>
å…¶ä¸­$x = (x_1, \cdots, x_m)$è¢«ç§°ä¸ºä¼˜åŒ–å˜é‡(optimization variables), æˆ–è€…å†³ç­–å˜é‡(decision variables)ã€‚ $f_0(x):\mathbb{R}^n \rightarrow \mathbb{R}$æ˜¯ç›®æ ‡å‡½æ•°(object function), $f_i(x):\mathbb{R}^n \rightarrow \mathbb{R},i =1,\cdots,m$æ˜¯çº¦æŸå‡½æ•°(constraint functions)ã€‚ å¸¸é‡(constraints) $b_1,\cdots,b_m$æ˜¯çº¦æŸçš„é™ç•Œ(limits)æˆ–è€…è¾¹ç•Œ(bounds), $b_i$å¯ä»¥ä¸º$0$ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡ç§»é¡¹æ„é€ å‡ºæ–°çš„$f_i(x)$å®ç°ã€‚å¦‚æœå‘é‡$x$ä½¿å¾—ç›®æ ‡å‡½æ•°å–å¾—æœ€å°çš„å€¼ï¼Œå¹¶ä¸”æ»¡è¶³æ‰€æœ‰çš„çº¦æŸæ¡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªå‘é‡è¢«ç§°ä¸ºæœ€ä¼˜è§£$x^{*} $ã€‚</p>
<h4 id="çº¿æ€§ä¼˜åŒ–-linear-program">çº¿æ€§ä¼˜åŒ–(linear program)</h4>
<p>ç›®æ ‡å‡½æ•°å’Œçº¦æŸå‡½æ•°$f_0,\cdots,f_m$æ˜¯çº¿æ€§çš„, å®ƒä»¬æ»¡è¶³ä¸ç­‰å¼ï¼š<br>
$$f_i(\alpha x+\beta y) = \alpha f_i(x) + \beta f_i(y)$$<br>
å¯¹äºæ‰€æœ‰çš„$x,y \in \mathbb{R}^n $å’Œæ‰€æœ‰çš„$\alpha, \beta \in\mathbb{R}$ã€‚<br>
çº¿æ€§ä¼˜åŒ–æ˜¯å‡¸ä¼˜åŒ–çš„ä¸€ä¸ªç‰¹æ®Šå½¢å¼, å®ƒçš„ç›®æ ‡å‡½æ•°å’Œçº¦æŸå‡½æ•°éƒ½æ˜¯çº¿æ€§çš„ç­‰å¼ã€‚</p>
<h4 id="éçº¿æ€§é—®é¢˜-non-linear-problem">éçº¿æ€§é—®é¢˜(non-linear problem)</h4>
<p>å¦‚æœä¼˜åŒ–é—®é¢˜ä¸æ˜¯çº¿æ€§çš„ï¼Œå°±æ˜¯éçº¿æ€§é—®é¢˜ã€‚åªè¦ç›®æ ‡å‡½æ•°æˆ–è€…çº¦æŸå‡½æ•°è‡³å°‘æœ‰ä¸€ä¸ªä¸æ˜¯çº¿æ€§çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªä¼˜åŒ–é—®é¢˜å°±æ˜¯éçº¿æ€§ä¼˜åŒ–é—®é¢˜ã€‚</p>
<h4 id="å‡¸é—®é¢˜-convex-problem">å‡¸é—®é¢˜(convex problem)</h4>
<p>å‡¸é—®é¢˜æ˜¯ç›®æ ‡å‡½æ•°å’Œçº¦æŸå‡½æ•°éƒ½æ˜¯å‡¸çš„çš„ä¼˜åŒ–é—®é¢˜ï¼Œå®ƒä»¬æ»¡è¶³ï¼š<br>
$$f_i(\alpha x + \beta y) \le \alpha f_i(x) + \beta f_i(y)$$<br>
å¯¹äºæ‰€æœ‰çš„$x,y \in \mathbb{r}^n $å’Œæ‰€æœ‰çš„$\alpha, \beta \in \mathbb{r}$ä¸”$\alpha + \beta = 1, \alpha \ge 0, \beta \ge 0$ã€‚<br>
å‡¸æ€§æ¯”çº¿æ€§çš„èŒƒå›´æ›´å¹¿ï¼Œä¸ç­‰å¼å–ä»£äº†æ›´åŠ ä¸¥æ ¼çš„ç­‰å¼ï¼Œä¸ç­‰å¼åªæœ‰åœ¨$\alpha$å’Œ$\beta$å–ä¸€äº›ç‰¹å®šå€¼æ—¶æ‰æˆç«‹ã€‚å‡¸ä¼˜åŒ–å’Œçº¿æ€§é—®é¢˜ä»¥åŠéçº¿æ€§é—®é¢˜éƒ½æœ‰äº¤é›†ï¼Œå®ƒæ˜¯çº¿æ€§é—®é¢˜çš„è¶…é›†(superset)ï¼Œæ˜¯éçº¿æ€§é—®é¢˜çš„å­é›†(subset)ã€‚æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œnonlinear problemåŒ…æ‹¬convex optimization(é™¤äº†linear programming), å¯ä»¥ç”¨æ¥æè¿°ä¸ç¡®å®šæ˜¯éå‡¸çš„é—®é¢˜ã€‚<br>
Nonlinear program &gt; convex problem &gt; linear problem</p>
<h3 id="ç¤ºä¾‹">ç¤ºä¾‹</h3>
<h4 id="ç»„åˆä¼˜åŒ–-portfolio-optimization">ç»„åˆä¼˜åŒ–(portfolio optimization)</h4>
<p>å˜é‡ï¼šä¸åŒèµ„äº§çš„æŠ•èµ„æ•°é‡<br>
çº¦æŸï¼šé¢„ç®—ï¼Œæ¯ä¸ªèµ„äº§æœ€å¤§/æœ€å°æŠ•èµ„æ•°é‡ï¼Œè‡³å°‘è¦å¾—åˆ°çš„å›æŠ¥<br>
ç›®æ ‡ï¼šæ‰€æœ‰çš„é£é™©ï¼Œè·åˆ©çš„å˜åŒ–</p>
<h4 id="ç”µå­è®¾å¤‡çš„å…ƒä»¶å¤§å°-device-sizing-in-electronic-circuits">ç”µå­è®¾å¤‡çš„å…ƒä»¶å¤§å°(device sizing in electronic circuits)</h4>
<p>å˜é‡ï¼šå…ƒä»¶çš„å®½åº¦å’Œé•¿åº¦<br>
çº¦æŸï¼šç”Ÿäº§å·¥è‰ºçš„ç‚¼åˆ¶ï¼Œæ—¶é—´è¦æ±‚ï¼Œé¢ç§¯ç­‰<br>
ç›®æ ‡ï¼šèŠ‚çº¦èƒ½è€—</p>
<h4 id="æ•°æ®æ‹Ÿåˆ-data-fitting">æ•°æ®æ‹Ÿåˆ(data fitting)</h4>
<p>å˜é‡ï¼šæ¨¡å‹å‚æ•°<br>
çº¦æŸï¼šå…ˆéªŒçŸ¥è¯†ï¼Œå‚æ•°çº¦æŸæ¡ä»¶<br>
ç›®æ ‡ï¼šé”™è¯¯ç‡</p>
<h3 id="ä¼˜åŒ–é—®é¢˜æ±‚è§£-solving-optimization-problems">ä¼˜åŒ–é—®é¢˜æ±‚è§£(solving optimization problems)</h3>
<p>æ‰€æœ‰çš„é—®é¢˜éƒ½æ˜¯ä¼˜åŒ–é—®é¢˜ã€‚<br>
ç»å¤§éƒ¨åˆ†ä¼˜åŒ–é—®é¢˜æˆ‘ä»¬è§£ä¸å‡ºæ¥ã€‚</p>
<h4 id="ä¸€èˆ¬çš„ä¼˜åŒ–é—®é¢˜-general-optimization-problem">ä¸€èˆ¬çš„ä¼˜åŒ–é—®é¢˜(general optimization problem)</h4>
<ul>
<li>å¾ˆéš¾è§£å‡ºæ¥ã€‚</li>
<li>åšä¸€äº›compromiseï¼Œæ¯”å¦‚è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½è§£å‡ºæ¥ï¼Œæˆ–è€…å¹¶ä¸æ€»èƒ½æ‰¾åˆ°è§£ã€‚</li>
</ul>
<h4 id="ä¸€äº›ä¾‹å¤–-some-exceptions">ä¸€äº›ä¾‹å¤–(some exceptions)</h4>
<ul>
<li>æœ€å°äºŒä¹˜é—®é¢˜(least-squares problems)</li>
<li>çº¿æ€§è§„åˆ’é—®é¢˜(linear programming problems)</li>
<li>å‡¸ä¼˜åŒ–é—®é¢˜(convex optimization problems)</li>
</ul>
<h2 id="æœ€å°äºŒä¹˜-least-squares-å’Œçº¿æ€§è§„åˆ’-linear-programming">æœ€å°äºŒä¹˜(least-squares)å’Œçº¿æ€§è§„åˆ’(linear programming)</h2>
<p>least-squareså’Œlinear programmingæ˜¯å‡¸ä¼˜åŒ–é—®é¢˜ä¸­æœ€æœ‰åçš„ä¸¤ä¸ªå­é—®é¢˜ã€‚</p>
<h3 id="æœ€å°äºŒä¹˜é—®é¢˜-least-squares-problems">æœ€å°äºŒä¹˜é—®é¢˜(least-squares problems)</h3>
<p>æœ€å°äºŒä¹˜é—®é¢˜æ˜¯ä¸€ä¸ªæ— çº¦æŸçš„ä¼˜åŒ–é—®é¢˜ï¼Œå®ƒçš„ç›®æ ‡å‡½æ•°æ˜¯é¡¹$a_i^T x-b_i$çš„å¹³æ–¹å’Œã€‚<br>
\begin{align*}<br>
minimize \quad f_0(x) &amp;= {||Ax-b||}^2_2 \\<br>
&amp;=\sum_{i=1}^k (a_i^T x-b_i)^2<br>
\end{align*}</p>
<h4 id="æ±‚è§£-solving-least-squares-problems">æ±‚è§£(solving least-squares problems)</h4>
<ul>
<li>æœ€å°äºŒä¹˜é—®é¢˜çš„è§£å¯ä»¥è½¬æ¢ä¸ºæ±‚çº¿æ€§æ–¹ç¨‹ç»„$(A^T A)x = A^T b$çš„è§£ã€‚çº¿æ€§ä»£æ•°ä¸Šæˆ‘ä»¬å­¦è¿‡è¯¥æ–¹ç¨‹ç»„çš„è§£æè§£ä¸º$x=(A^T A)^{-1} A^T b$ã€‚</li>
<li>æ—¶é—´å¤æ‚åº¦æ˜¯$n^2 k = n*k*n+n*k+n*n*n, (k &gt; n)$(è½¬ç½®ï¼Œæ±‚é€†ï¼ŒçŸ©é˜µä¹˜æ³•)ã€‚</li>
<li>è¯¥é—®é¢˜å…·æœ‰å¯é ä¸”é«˜æ•ˆçš„æ±‚è§£ç®—æ³•ã€‚</li>
<li>æ˜¯ä¸€ä¸ªå¾ˆæˆç†Ÿçš„ç®—æ³•</li>
</ul>
<h4 id="åº”ç”¨-using-least-squares">åº”ç”¨(using least-squares)</h4>
<p>å¾ˆå®¹æ˜“å°±å¯ä»¥çœ‹å‡ºæ¥ä¸€ä¸ªé—®é¢˜æ˜¯æœ€å°äºŒä¹˜é—®é¢˜ï¼Œæˆ‘ä»¬åªéœ€è¦éªŒè¯ç›®æ ‡å‡½æ•°æ˜¯ä¸æ˜¯äºŒæ¬¡å‡½æ•°ï¼Œä»¥åŠå¯¹åº”çš„äºŒæ¬¡å‹æ˜¯ä¸æ˜¯æ­£å®šçš„å³å¯ã€‚</p>
<h5 id="åŠ æƒæœ€å°äºŒä¹˜-weighted-least-squares">åŠ æƒæœ€å°äºŒä¹˜(weighted least-squares)</h5>
<p>åŠ æƒæœ€å°äºŒä¹˜å½¢å¼å¦‚ä¸‹:<br>
$$\sum_{i=1}^k \omega_i(a_i^T x-b_i)^2 ,$$<br>
å…¶ä¸­$\omega_1,\cdots,\omega_k$æ˜¯æ­£çš„ï¼Œè¢«æœ€å°åŒ–ã€‚ è¿™é‡Œé€‰å‡ºæƒé‡$\omega$æ¥ä½“ç°ä¸åŒé¡¹$a_i^T x-b_i$çš„æ¯”é‡, æˆ–è€…ä»…ä»…ç”¨æ¥å½±å“ç»“æœã€‚</p>
<h5 id="æ­£åˆ™åŒ–-regularization">æ­£åˆ™åŒ–(regularization)</h5>
<p>ç›®æ ‡å‡½æ•°ä¸­è¢«åŠ å…¥äº†é¢å¤–é¡¹, å½¢å¼å¦‚ä¸‹ï¼š<br>
$$\sum_{i=1}^k (a_i^T x-b_i)^2 + \rho \sum_{i=1}^n x_i^2 ,$$<br>
æ­£åˆ™é¡¹æ˜¯ç”¨æ¥æƒ©ç½šå¤§çš„$x$, æ±‚å‡ºä¸€ä¸ªä»…ä»…æœ€å°åŒ–ç¬¬ä¸€ä¸ªæ±‚å’Œé¡¹çš„ä¸å‡ºæ¥çš„å¥½ç»“æœã€‚åˆç†çš„é€‰æ‹©å‚æ•°$\rho$åœ¨åŸå§‹çš„ç›®æ ‡å‡½æ•°å’Œæ­£åˆ™åŒ–é¡¹ä¹‹é—´åšä¸€ä¸ªtrade-off, ä½¿å¾—$\sum_{k=1}^i (a_i^T - b_i)^2 $å’Œ$\rho \sum_{k=1}^n  x_i^2 $éƒ½å¾ˆå°ã€‚<br>
æ­£åˆ™åŒ–é¡¹å’ŒåŠ æƒæœ€å°äºŒä¹˜ä¼šåœ¨ç¬¬å…­ç« ä¸­è®²åˆ°ï¼Œå®ƒä»¬çš„ç»Ÿè®¡è§£é‡Šåœ¨ç¬¬ä¸ƒç« ç»™å‡ºã€‚</p>
<h3 id="çº¿æ€§è§„åˆ’-linear-programming">çº¿æ€§è§„åˆ’(linear programming)</h3>
<p>çº¿æ€§è§„åˆ’é—®é¢˜è£…ç›®æ ‡å‡½æ•°å’Œçº¦æŸå‡½æ•°éƒ½æ˜¯çº¿æ€§çš„ï¼š<br>
\begin{align*}<br>
&amp;minimize \quad c^T x\\<br>
&amp;subject \ to \quad a_i^T \le b_i, i = 1, \cdots, m.<br>
\end{align*}<br>
å…¶ä¸­å‘é‡$c,a_1,\cdots,a_m \in \mathbb{R}^n $, å’Œæ ‡é‡$b_1,\cdots, b_m \in \mathbb{R}$æ˜¯æŒ‡å®šç›®æ ‡å‡½æ•°å’Œçº¦æŸå‡½æ•°æ¡ä»¶çš„å‚æ•°ã€‚</p>
<h4 id="æ±‚è§£çº¿æ€§è§„åˆ’-solving-linear-programs">æ±‚è§£çº¿æ€§è§„åˆ’(solving linear programs)</h4>
<ul>
<li>é™¤äº†ä¸€ä¸ªç‰¹ä¾‹ï¼Œæ²¡æœ‰è§£æè§£å…¬å¼(å’Œleast-squaresä¸åŒ)ï¼›</li>
<li>æœ‰å¯é ä¸”é«˜æ•ˆçš„ç®—æ³•å®ç°ï¼›</li>
<li>æ—¶é—´å¤æ‚åº¦æ˜¯$O(n^2 m)$, mæ˜¯çº¦æŸæ¡ä»¶çš„ä¸ªæ•°, mæ˜¯ç»´åº¦$ï¼›</li>
<li>æ˜¯ä¸€ä¸ªæˆç†Ÿçš„æ–¹æ³•ã€‚</li>
</ul>
<h4 id="åº”ç”¨-using-linear-programs">åº”ç”¨(using linear programs)</h4>
<p>ä¸€äº›åº”ç”¨ç›´æ¥ä½¿ç”¨çº¿æ€§è§„åˆ’çš„æ ‡å‡†å½¢å¼,æˆ–è€…å…¶ä¸­ä¸€ä¸ªæ ‡å‡†å½¢å¼ã€‚åœ¨å¾ˆå¤šæ—¶å€™ï¼ŒåŸå§‹çš„ä¼˜åŒ–é—®é¢˜æ²¡æœ‰ä¸€ä¸ªæ ‡å‡†çš„çº¿æ€§è§„åˆ’å½¢å¼ï¼Œä½†æ˜¯å¯ä»¥è¢«è½¬åŒ–ä¸ºç­‰ä»·çš„çº¿æ€§è§„åˆ’å½¢å¼ã€‚æ¯”å¦‚åˆ‡ç±³é›ªå¤«è¿‘ä¼¼é—®é¢˜(Chebyshev approximation problem)ã€‚å®ƒçš„å½¢å¼å¦‚ä¸‹ï¼š<br>
$$minimize \quad max_{i=1,\cdots,k}|a_i^T x-b_i|$$<br>
å…¶ä¸­$x\in \mathbb{R}^n $æ˜¯å˜é‡ï¼Œ$a_1,\cdots,a_k \in \mathbb{R}^n , b_1,\cdots,b_k \in \mathbb{R}$æ˜¯å®ä¾‹åŒ–çš„é—®é¢˜å‚æ•°,å’Œleast-squaresç›¸ä¼¼çš„æ˜¯ï¼Œå®ƒä»¬çš„ç›®æ ‡å‡½æ•°éƒ½æ˜¯é¡¹$a^T_i x-b_i$ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œleast-squaresç”¨çš„æ˜¯è¯¥é¡¹çš„å¹³æ–¹å’Œä½œä¸ºç›®æ ‡å‡½æ•°ï¼Œè€ŒChebyshev approximationä¸­ç”¨çš„æ˜¯ç»å¯¹å€¼çš„æœ€å¤§å€¼ã€‚Chebyshev approximation problemçš„ç›®æ ‡å‡½æ•°æ˜¯ä¸å¯å¯¼çš„(max operation), least-squares problemçš„ç›®æ ‡å‡½æ•°æ˜¯äºŒæ¬¡çš„(quadratic), å› æ­¤å¯å¯¼çš„(differentiable)ã€‚</p>
<h2 id="å‡¸ä¼˜åŒ–-convex-optimization">å‡¸ä¼˜åŒ–(Convex optimization)</h2>
<p>å‡¸ä¼˜åŒ–é—®é¢˜æ˜¯ä¼˜åŒ–é—®é¢˜çš„ä¸€ç§,å®ƒçš„ç›®æ ‡å‡½æ•°å’Œä¼˜åŒ–å‡½æ•°éƒ½æ˜¯å‡¸çš„ã€‚<br>
å…·æœ‰ä»¥ä¸‹å½¢å¼çš„é—®é¢˜æ˜¯ä¸€ç§å‡¸ä¼˜åŒ–é—®é¢˜ï¼š<br>
\begin{align*}<br>
&amp;minimize \quad f_0(x)\\<br>
&amp;subject \ to \quad f_i(x) \le b_i, i = 1,\cdots,m.<br>
\end{align*}<br>
å…¶ä¸­å‡½æ•°$f_0,\cdots,f_m:\mathbb{R}^n \rightarrow \mathbb{R}$æ˜¯å‡¸çš„(convex), å¦‚æ»¡è¶³<br>
$$f_i(\alpha x+ \beta y) \le \alpha f_i(x) + \beta f_i(y)$$<br>
å¯¹äºæ‰€æœ‰çš„$x,y \in \mathbb{R}^n $å’Œæ‰€æœ‰çš„$\alpha, \beta \in \mathbb{R}$ä¸”$\alpha + \beta = 1, \alpha \ge 0, \beta \ge 0$ã€‚<br>
æˆ–è€…ï¼š<br>
$$f_i(\theta x+ (1-\theta) y) \le \theta f_i(x) + (1 - \theta) f_i(y)$$<br>
å…¶ä¸­$\theta \in [0,1]$ã€‚<br>
è¯¾ä¸Šæœ‰äººé—®è¿™é‡Œä¸º$\theta$æ˜¯0å’Œ1, æœ‰æ²¡æœ‰ä»€ä¹ˆç‰©ç†æ„ä¹‰ï¼ŒStephen Boydå›ç­”è¯´è¿™æ˜¯å®šä¹‰ï¼Œå°±æ˜¯è¿™ä¹ˆå®šä¹‰çš„ã€‚<br>
The least-squareså’Œlinear programming probleméƒ½æ˜¯convex optimization problemçš„ç‰¹æ®Šå½¢å¼ã€‚çº¿æ€§å‡½æ•°(linear functions)ä¹Ÿæ˜¯convexï¼Œå®ƒä»¬æ­£å¤„åœ¨è¾¹ç•Œä¸Šï¼Œå®ƒä»¬çš„æ›²ç‡(curvature)ä¸º0ã€‚ä¸€ç§æ–¹å¼æ˜¯ç”¨æ­£æ›²ç‡å»æè¿°å‡¸æ€§ã€‚</p>
<h3 id="å‡¸ä¼˜åŒ–æ±‚è§£-solving-convex-optimization-problems">å‡¸ä¼˜åŒ–æ±‚è§£(solving convex optimization problems)</h3>
<ul>
<li>æ²¡æœ‰è§£æè§£ï¼›</li>
<li>æœ‰å¯é ä¸”æœ‰æ•ˆçš„ç®—æ³•ï¼›</li>
<li>æ—¶é—´å¤æ‚åº¦æ­£æ¯”äº$max{n^3 , n^2 m,F},$F$æ˜¯è¯„ä¼°$f$å’Œè®¡ç®—ä¸€é˜¶å¯¼æ•°å’ŒäºŒé˜¶å¯¼æ•°çš„æ—¶é—´ï¼›</li>
<li>æœ‰æˆç†Ÿçš„æ–¹æ³•ï¼Œå¦‚interior-point methodsã€‚</li>
</ul>
<h3 id="å‡¸ä¼˜åŒ–çš„åº”ç”¨-using-convex-optimization">å‡¸ä¼˜åŒ–çš„åº”ç”¨(using convex optimization)</h3>
<p>å°†å®é™…é—®é¢˜å½¢å¼åŒ–ç§°å‡¸ä¼˜åŒ–é—®é¢˜ã€‚</p>
<h2 id="éçº¿æ€§ä¼˜åŒ–-nonlinear-optimization">éçº¿æ€§ä¼˜åŒ–(Nonlinear optimization)</h2>
<h3 id="éçº¿æ€§ä¼˜åŒ–">éçº¿æ€§ä¼˜åŒ–</h3>
<p>éçº¿æ€§ä¼˜åŒ–ç”¨æ¥æè¿°ç›®æ ‡å‡½æ•°å’Œçº¦æŸå‡½æ•°éƒ½æ˜¯éçº¿æ€§å‡½æ•°(ä½†ä¸æ˜¯å‡¸çš„)ä¼˜åŒ–é—®é¢˜ã€‚å› ä¸ºå‡¸ä¼˜åŒ–é—®é¢˜åŒ…æ‹¬least-squareså’Œlinear programming, å®ƒä»¬æ˜¯çº¿æ€§çš„ã€‚åˆšå¼€å§‹ç»™å‡ºçš„ä¼˜åŒ–é—®é¢˜å°±æ˜¯éçº¿æ€§ä¼˜åŒ–é—®é¢˜ï¼Œç›®å‰æ²¡æœ‰æœ‰æ•ˆçš„æ–¹æ³•è§£è¯¥é—®é¢˜ã€‚ç›®å‰æœ‰ä¸€äº›æ–¹æ³•æ¥è§£å†³ä¸€èˆ¬çš„éçº¿æ€§é—®é¢˜ï¼Œä½†æ˜¯éƒ½åšäº†ä¸€äº›compromiseã€‚</p>
<h4 id="å±€éƒ¨ä¼˜åŒ–-local-optimization">å±€éƒ¨ä¼˜åŒ–(local optimization)</h4>
<p>å±€éƒ¨ä¼˜åŒ–æ˜¯éçº¿æ€§ä¼˜åŒ–çš„ä¸€ç§è§£æ³•ï¼Œcompromiseæ˜¯å¯»æ‰¾å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œè€Œä¸æ˜¯å…¨å±€æœ€ä¼˜ç‚¹ï¼Œåœ¨å¯è¡Œè§£é™„è¿‘æœ€å°åŒ–ç›®æ ‡å‡½æ•°ï¼Œä¸ä¿è¯èƒ½å¾—åˆ°ä¸€ä¸ªæœ€å°çš„ç›®æ ‡å€¼ã€‚<br>
å±€éƒ¨ä¼˜åŒ–éœ€è¦éšæœºåˆå§‹åŒ–ä¸€ä¸ªåˆå€¼ï¼Œè¿™ä¸ªåˆå€¼å¾ˆå…³é”®ï¼Œå¾ˆå¤§ç¨‹åº¦çš„å½±å“äº†å±€éƒ¨è§£å¾—åˆ°çš„ç›®æ ‡å€¼, ä¹Ÿå°±æ˜¯è¯´æ˜¯ä¸€ä¸ªåˆå€¼æ•æ„Ÿçš„ç®—æ³•ã€‚å…³äºåˆå§‹å€¼å’Œå…¨å±€æœ€ä¼˜å€¼è·ç¦»æœ‰å¤šè¿œå¹¶æ²¡æœ‰å¾ˆå¤šæœ‰ç”¨çš„ä¿¡æ¯ã€‚å±€éƒ¨ä¼˜åŒ–å¯¹äºç®—æ³•çš„å‚æ•°å€¼å¾ˆæ•æ„Ÿï¼Œéœ€è¦æ ¹æ®å…·ä½“é—®é¢˜å»å…·ä½“è°ƒæ•´ã€‚<br>
ä½¿ç”¨å±€éƒ¨ä¼˜åŒ–çš„æ–¹æ³•æ¯”è§£least-squares problems, linear program, convex optimization problemæ›´æœ‰æŠ€å·§æ€§ï¼Œå› ä¸ºå®ƒç‰µæ‰¯åˆ°ç®—æ³•çš„é€‰æ‹©ï¼Œç®—æ³•å‚æ•°çš„é€‰æ‹©ï¼Œä»¥åŠåˆå€¼çš„é€‰å–ã€‚</p>
<h4 id="å…¨å±€ä¼˜åŒ–-global-optimization">å…¨å±€ä¼˜åŒ–(global optimization)</h4>
<p>å…¨å±€ä¼˜åŒ–ä¹Ÿæ˜¯éçº¿æ€§ä¼˜åŒ–çš„ä¸€ç§è§£æ³•, åœ¨å…¨å±€ä¼˜åŒ–ä¸­ï¼Œä¼˜åŒ–ç›®æ ‡çš„å…¨å±€æœ€ä¼˜è§£è¢«æ‰¾åˆ°ï¼Œ compromiseæ˜¯æ•ˆç‡ã€‚</p>
<h4 id="å‡¸ä¼˜åŒ–é—®é¢˜åœ¨éå‡¸ä¼˜åŒ–é—®é¢˜ä¸­çš„åº”ç”¨-role-of-convex-optimization-in-nonconvex-problems">å‡¸ä¼˜åŒ–é—®é¢˜åœ¨éå‡¸ä¼˜åŒ–é—®é¢˜ä¸­çš„åº”ç”¨(role of convex optimization in nonconvex problems)</h4>
<h5 id="åˆå§‹åŒ–å±€éƒ¨ä¼˜åŒ–-initialization-for-local-optimization">åˆå§‹åŒ–å±€éƒ¨ä¼˜åŒ–(initialization for local optimization)</h5>
<h5 id="ç”¨äºéå‡¸ä¼˜åŒ–çš„å‡¸çš„å¯å‘å¼æœç´¢-convex-heuristics-for-nonconvex-optimization">ç”¨äºéå‡¸ä¼˜åŒ–çš„å‡¸çš„å¯å‘å¼æœç´¢(convex heuristics for nonconvex optimization)</h5>
<h5 id="å…¨å±€æœ€ä¼˜çš„è¾¹ç•Œ-bounds-for-global-optimization">å…¨å±€æœ€ä¼˜çš„è¾¹ç•Œ(bounds for global optimization)</h5>
<h2 id="å¤§çº²-outline">å¤§çº²(outline)</h2>
<h3 id="ç†è®º-part-one-theory">ç†è®º(part one: Theory)</h3>
<p>ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç†è®ºï¼Œç»™å‡ºä¸€äº›æ¦‚å¿µå’Œå®šä¹‰ï¼Œç¬¬ä¸€ç« æ˜¯Introduction, ç¬¬äºŒç« å’Œç¬¬ä¸‰ç« åˆ†åˆ«ä»‹ç»å‡¸é›†(convex set)å’Œå‡¸å‡½æ•°(convex function), ç¬¬å››ç« ä»‹ç»å‡¸ä¼˜åŒ–é—®é¢˜ï¼Œ ç¬¬äº”ç« å¼•å…¥æ‹‰æ ¼æœ—æ—¥å¯¹å¶æ€§ã€‚</p>
<h3 id="åº”ç”¨-part-two-applications">åº”ç”¨(part two: Applications)</h3>
<p>ç¬¬äºŒéƒ¨åˆ†ä¸»è¦ç»™å‡ºå‡¸ä¼˜åŒ–åœ¨ä¸€äº›é¢†åŸŸçš„åº”ç”¨ï¼Œå¦‚æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ï¼Œç»æµå­¦ï¼Œè®¡ç®—å‡ ä½•ä»¥åŠæ•°æ®æ‹Ÿåˆç­‰é¢†åŸŸã€‚<br>
å‡¸ä¼˜åŒ–å¦‚ä½•åº”ç”¨åœ¨å®è·µä¸­ã€‚</p>
<h3 id="ç®—æ³•-part-three-algorithms">ç®—æ³•(part three: Algorithms)</h3>
<p>ç¬¬ä¸‰éƒ¨åˆ†ç»™å‡ºäº†å‡¸ä¼˜åŒ–çš„æ•°å€¼è§£æ³•ï¼Œå¦‚ç‰›é¡¿æ³•(Newtonâ€™s algorithm)å’Œå†…ç‚¹æ³•(interior-point)ã€‚<br>
ç¬¬ä¸‰éƒ¨åˆ†æœ‰ä¸‰ç« ï¼Œåˆ†åˆ«åŒ…å«äº†æ— çº¦æŸä¼˜åŒ–ï¼Œç­‰å¼çº¦æŸä¼˜åŒ–å’Œä¸ç­‰å¼çº¦æŸä¼˜åŒ–ã€‚ç« èŠ‚ä¹‹é—´æ˜¯é€’è¿›çš„ï¼Œè§£ä¸€ä¸ªé—®é¢˜è¢«åˆ†è§£ä¸ºè§£ä¸€ç³»åˆ—ç®€å•é—®é¢˜ã€‚äºŒæ¬¡ä¼˜åŒ–é—®é¢˜(åŒ…æ‹¬ï¼Œå¦‚least-squares)æ˜¯æœ€åº•å±‚çš„åŸºçŸ³ï¼Œå®ƒå¯ä»¥é€šè¿‡çº¿æ€§æ–¹ç¨‹ç»„ç²¾ç¡®æ±‚è§£ã€‚ç‰›é¡¿æ³•ï¼Œåœ¨ç¬¬åç« å’Œç¬¬åä¸€ç« ä»‹ç»åˆ°ï¼Œæ˜¯ä¸‹ä¸ªå±‚æ¬¡ï¼Œæ— çº¦æŸé—®é¢˜æˆ–è€…ç­‰å¼çº¦æŸé—®é¢˜è¢«è½¬åŒ–æˆä¸€ç³»åˆ—äºŒæ¬¡ä¼˜åŒ–é—®é¢˜çš„æ±‚è§£ã€‚ç¬¬åä¸€ç« ä»‹ç»äº†å†…ç‚¹æ³•ï¼Œæ˜¯æœ€é¡¶å±‚, è¿™äº›æ–¹æ³•å°†ä¸ç­‰å¼çº¦æŸé—®é¢˜è½¬åŒ–ä¸ºä¸€ç³»åˆ—æ— çº¦æŸæˆ–è€…ç­‰å¼çº¦æŸçš„é—®é¢˜ã€‚</p>
<h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h2>
<p>1.stephen boyd. Convex optimization</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/14/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><span class="page-number current">15</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/16/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/favicon.jpg" alt="é©¬æ™“é‘«çˆ±é©¬èŸèŸ">
            
              <p class="site-author-name" itemprop="name">é©¬æ™“é‘«çˆ±é©¬èŸèŸ</p>
              <p class="site-description motion-element" itemprop="description">è®°å½•ç¡•å£«ä¸‰å¹´è‡ªå·±çš„ç§¯ç´¯</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">154</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">189</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/mxxhcm" title="GitHub &rarr; https://github.com/mxxhcm" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:mxxhcm@gmail.com" title="E-Mail &rarr; mailto:mxxhcm@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">é©¬æ™“é‘«çˆ±é©¬èŸèŸ</span>

  

  
</div>


  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.6.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script src="/js/src/utils.js?v=6.6.0"></script>

  <script src="/js/src/motion.js?v=6.6.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.6.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.6.0"></script>



  

  


  <script src="/js/src/bootstrap.js?v=6.6.0"></script>



  



  






<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    

    







  





  

  

  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<style>
.MathJax_Display {
    overflow: auto hidden;
}
</style>

    
  


  
  

  

  

  

  

  

  

</body>
</html>
