<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
































<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.6.0" rel="stylesheet" type="text/css">



  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.jpg?v=6.6.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.jpg?v=6.6.0">










<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.6.0',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="记录硕士三年自己的积累">
<meta property="og:type" content="website">
<meta property="og:title" content="mxxhcm&#39;s blog">
<meta property="og:url" content="http://mxxhcm.github.io/page/6/index.html">
<meta property="og:site_name" content="mxxhcm&#39;s blog">
<meta property="og:description" content="记录硕士三年自己的积累">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mxxhcm&#39;s blog">
<meta name="twitter:description" content="记录硕士三年自己的积累">



  <link rel="alternate" href="/atom.xml" title="mxxhcm's blog" type="application/atom+xml">




  <link rel="canonical" href="http://mxxhcm.github.io/page/6/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>mxxhcm's blog</title>
  












  <noscript>
  <style>
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion .logo-line-before i { left: initial; }
    .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">mxxhcm's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/05/08/tensorflow-math/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/08/tensorflow-math/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/6/index.html">tensorflow math</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-08 17:38:46" itemprop="dateCreated datePublished" datetime="2019-05-08T17:38:46+08:00">2019-05-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-10 19:37:24" itemprop="dateModified" datetime="2019-05-10T19:37:24+08:00">2019-05-10</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tensorflow/" itemprop="url" rel="index"><span itemprop="name">tensorflow</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="tf-math"><a href="#tf-math" class="headerlink" title="tf.math"></a>tf.math</h2><ul>
<li>tf.add(x, y, name=None) # 求和</li>
<li>tf.sub(x, y, name=None) # 减法</li>
<li>tf.mul(x, y, name=None) # 乘法</li>
<li>tf.div(x, y, name=None) # 除法</li>
<li>tf.mod(x, y, name=None) # 取模</li>
<li>tf.maximumd(x, y, name=None) # x > y?x:y</li>
<li>tf.minimum(x, y, name=None) # x \&lt; y?x:y</li>
<li>tf.abs(x, name=None) # 求绝对值</li>
<li>tf.neg(x, name=None) # 取负</li>
<li>tf.sign(x, name=None) # 返回符号</li>
<li>tf.inv(x, name=None) # 取反</li>
<li>tf.square(x, name=None) # 平方</li>
<li>tf.round(x, name=None) # 四舍五入</li>
<li>tf.sqrt(x, name=None) # 开根号</li>
<li>tf.pow(x, name=None) # </li>
<li>tf.exp(x, name=None) # </li>
<li>tf.log(x, name=None) # </li>
<li>tf.sin(x, name=None) # </li>
<li>tf.cos(x, name=None) # </li>
<li>tf.tan(x, name=None) # </li>
<li>tf.atan(x, name=None) # </li>
</ul>
<h2 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h2><h3 id="tf-maximum"><a href="#tf-maximum" class="headerlink" title="tf.maximum"></a>tf.maximum</h3><p>比较两个tensor，返回element-wise两个tensor的最大值。<br><a href="https://github.com/mxxhcm/myown_code/blob/master/tf/some_ops/tf_maximum.py" target="_blank" rel="noopener">代码地址示例</a>：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line">sess = tf.Session()</span><br><span class="line">a = tf.Variable([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">b = tf.Variable([<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">sess.run(tf.global_variables_initializer())</span><br><span class="line">print(<span class="string">"a: "</span>, sess.run(a))</span><br><span class="line">print(<span class="string">"b: "</span>, sess.run(b))</span><br><span class="line">c = tf.maximum(a, b)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"tf.maximum(a, b):\n  "</span>, sess.run(c))</span><br></pre></td></tr></table></figure></p>
<p>输出如下：</p>
<blockquote>
<p>a:  [1 2 3]<br>b:  [2 1 4]<br>tf.maximum(a, b):<br>   [2 2 4]</p>
</blockquote>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/05/08/tensorflow-multinomial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/08/tensorflow-multinomial/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/6/index.html">tensorflow multinomial</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-08 17:37:45" itemprop="dateCreated datePublished" datetime="2019-05-08T17:37:45+08:00">2019-05-08</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-12 17:12:06" itemprop="dateModified" datetime="2019-05-12T17:12:06+08:00">2019-05-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tensorflow/" itemprop="url" rel="index"><span itemprop="name">tensorflow</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="tf-multinomial-1-tf-random-categorical-2"><a href="#tf-multinomial-1-tf-random-categorical-2" class="headerlink" title="tf.multinomial[1] (tf.random.categorical[2])"></a>tf.multinomial[1] (tf.random.categorical[2])</h2><p>多项分布，采样。</p>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><p>在tensorflow 13.1版本中，提示这个API在未来会被弃用，需要使用tf.random.categorical替代。</p>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tf.multinomial(</span><br><span class="line">    logits, <span class="comment"># 指定样本概率的tf.Tensor</span></span><br><span class="line">    num_samples, <span class="comment"># 样本个数</span></span><br><span class="line">    seed=<span class="literal">None</span>, <span class="comment">#, 0-D</span></span><br><span class="line">    name=<span class="literal">None</span>,</span><br><span class="line">    output_dtype=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h3><p><a href="https://github.com/mxxhcm/myown_code/blob/master/tf/some_ops/tf_multinominal.py" target="_blank" rel="noopener">代码地址</a><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"><span class="comment"># tf.multinomial(logits, num_samples, seed=None, name=None)</span></span><br><span class="line"><span class="comment"># logits 是一个二维张量，指定概率，num_samples是采样个数</span></span><br><span class="line">sess = tf.Session()</span><br><span class="line">sample = tf.multinomial([[<span class="number">5.0</span>, <span class="number">5.0</span>, <span class="number">5.0</span>], [<span class="number">5.0</span>, <span class="number">4</span>, <span class="number">3</span>]], <span class="number">10</span>) <span class="comment"># 注意logits必须是float</span></span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">  print(sess.run(sample))</span><br></pre></td></tr></table></figure></p>
<p>输出结果如下:</p>
<blockquote>
<p>[[2 1 2 1 0 2 1 1 1 0]<br> [1 0 0 1 0 1 0 1 0 0]]<br>[[2 2 0 2 2 0 2 0 1 2]<br> [1 0 0 2 0 1 0 1 1 0]]<br>[[0 0 0 2 0 0 1 2 0 1]<br> [0 0 0 1 0 1 0 0 0 0]]<br>[[2 1 0 1 1 1 0 0 2 0]<br> [1 0 0 2 0 0 0 0 0 1]]<br>[[1 0 1 0 0 1 2 2 0 0]<br> [1 0 0 0 0 1 1 1 2 0]]</p>
</blockquote>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>1.<a href="https://www.tensorflow.org/api_docs/python/tf/random/multinomial" target="_blank" rel="noopener">https://www.tensorflow.org/api_docs/python/tf/random/multinomial</a><br>2.<a href="https://www.tensorflow.org/api_docs/python/tf/random/categorical" target="_blank" rel="noopener">https://www.tensorflow.org/api_docs/python/tf/random/categorical</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/05/08/tensorflow-app/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/08/tensorflow-app/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/6/index.html">tensorflow app</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-08 17:35:39 / 修改时间：22:09:23" itemprop="dateCreated datePublished" datetime="2019-05-08T17:35:39+08:00">2019-05-08</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tensorflow/" itemprop="url" rel="index"><span itemprop="name">tensorflow</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="tf-app-flags"><a href="#tf-app-flags" class="headerlink" title="tf.app.flags"></a>tf.app.flags</h2><h3 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h3><p><a href="https://github.com/mxxhcm/code/blob/master/tf/some_ops/tf_app.py" target="_blank" rel="noopener">代码地址</a><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">flags.py</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line">flags = tf.app.flags</span><br><span class="line">flags.DEFINE_string(<span class="string">'model'</span>, <span class="string">'mxx'</span>, <span class="string">'Type of model'</span>)</span><br><span class="line">flags.DEFINE_boolean(<span class="string">'gpu'</span>,<span class="string">'True'</span>, <span class="string">'use gpu?'</span>)</span><br><span class="line">FLAGS = flags.FLAGS</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(_)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> k,v <span class="keyword">in</span> FLAGS.flag_values_dict().items():</span><br><span class="line">        print(k, v)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    tf.app.run(main)</span><br></pre></td></tr></table></figure></p>
<p>传递参数的方法有两种，一种是命令行~$:python flags.py —model hhhh ，一种是pycharm中传递参数。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/05/08/tensorflow-where/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/08/tensorflow-where/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/6/index.html">tensorflow where</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-08 17:34:47 / 修改时间：22:12:24" itemprop="dateCreated datePublished" datetime="2019-05-08T17:34:47+08:00">2019-05-08</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tensorflow/" itemprop="url" rel="index"><span itemprop="name">tensorflow</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="tf-where"><a href="#tf-where" class="headerlink" title="tf.where"></a>tf.where</h2><h3 id="简单解释"><a href="#简单解释" class="headerlink" title="简单解释"></a>简单解释</h3><p>tf.where(conditon) 返回条件为True的下标。<br>tf.where(condition, x=X, y=Y) 条件为True的对应位置值替换为1,为False替换成0。</p>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><p>定义在tensorflow/python/ops/array_ops.py中。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tf.where(</span><br><span class="line">    condition, <span class="comment"># 条件</span></span><br><span class="line">    x=<span class="literal">None</span>,  <span class="comment"># 操作数1</span></span><br><span class="line">    y=<span class="literal">None</span>,  <span class="comment"># 操作数2</span></span><br><span class="line">    name=<span class="literal">None</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="tf-where-condition-代码示例"><a href="#tf-where-condition-代码示例" class="headerlink" title="tf.where(condition)代码示例"></a>tf.where(condition)代码示例</h3><p><a href="https://github.com/mxxhcm/code/blob/master/tf/some_ops/tf_where.py" target="_blank" rel="noopener">代码地址</a><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">X = tf.placeholder(tf.int32, [<span class="literal">None</span>, <span class="number">7</span>])</span><br><span class="line"></span><br><span class="line">zeros = tf.zeros_like(X)</span><br><span class="line">index = tf.not_equal(X, zeros)</span><br><span class="line">loc = tf.where(index)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    inputs = np.array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">6</span>], [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]])</span><br><span class="line">    out = sess.run(loc, feed_dict=&#123;X: inputs&#125;)</span><br><span class="line">    print(np.array(out))</span><br><span class="line">    <span class="comment"># 输出12个坐标，表示这个数组中不为0元素的索引。</span></span><br></pre></td></tr></table></figure></p>
<h3 id="tf-where-condition-x-X-y-Y-代码示例"><a href="#tf-where-condition-x-X-y-Y-代码示例" class="headerlink" title="tf.where(condition, x=X, y=Y)代码示例"></a>tf.where(condition, x=X, y=Y)代码示例</h3><p><a href="https://github.com/mxxhcm/code/blob/master/tf/some_ops/tf_where.py" target="_blank" rel="noopener">代码地址</a><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">inputs = np.array([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">6</span>], [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]])</span><br><span class="line">X = tf.placeholder(tf.int32, [<span class="literal">None</span>, <span class="number">7</span>])</span><br><span class="line">zeros = tf.zeros_like(X)</span><br><span class="line">ones = tf.ones_like(X)</span><br><span class="line">loc = tf.where(inputs, x=ones, y=zeros)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    out = sess.run(loc, feed_dict=&#123;X: inputs&#125;)</span><br><span class="line">    print(np.array(out))</span><br></pre></td></tr></table></figure></p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>1.<a href="https://www.tensorflow.org/api_docs/python/tf/where" target="_blank" rel="noopener">https://www.tensorflow.org/api_docs/python/tf/where</a> </p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/05/07/linux-ubuntu-18-04-alt-tab快捷键/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/07/linux-ubuntu-18-04-alt-tab快捷键/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/6/index.html">ubuntu 18.04 alt tab快捷键</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-07 21:21:07" itemprop="dateCreated datePublished" datetime="2019-05-07T21:21:07+08:00">2019-05-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-06-12 11:11:14" itemprop="dateModified" datetime="2019-06-12T11:11:14+08:00">2019-06-12</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>ubuntu 16.04中，可以使用alt+tab快捷键在相同的应用中进行切换，在18.04中alt+tab是在不同的应用中切换。事实上，可以使用alt+`在该应用内切换，但是我还是想用alt+tab。</p>
<h2 id="设置方法"><a href="#设置方法" class="headerlink" title="设置方法"></a>设置方法</h2><p>打开setting &gt;&gt; Devices &gt;&gt; Keyboard<br>找到Switch windows，设置快捷键为alt+tab即可。</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>1.<a href="https://superuser.com/questions/394376/how-to-prevent-gnome-shells-alttab-from-grouping-windows-from-similar-apps" target="_blank" rel="noopener">https://superuser.com/questions/394376/how-to-prevent-gnome-shells-alttab-from-grouping-windows-from-similar-apps</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/05/07/linux-file-perission/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/07/linux-file-perission/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/6/index.html">linux file perission</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-07 17:08:26" itemprop="dateCreated datePublished" datetime="2019-05-07T17:08:26+08:00">2019-05-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-05-08 16:26:22" itemprop="dateModified" datetime="2019-05-08T16:26:22+08:00">2019-05-08</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="创建文件和目录"><a href="#创建文件和目录" class="headerlink" title="创建文件和目录"></a>创建文件和目录</h2><h3 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h3><p>~$:touch file</p>
<h3 id="创建目录mkdir"><a href="#创建目录mkdir" class="headerlink" title="创建目录mkdir"></a>创建目录mkdir</h3><p>~$:mkdir -p /dir/my_dir<br>~$:mkdir -p /dir/{test,test1,test2}</p>
<h3 id="递归创建"><a href="#递归创建" class="headerlink" title="递归创建"></a>递归创建</h3><p>~$:sudo mkdir -p /test/test<br>选项-R 递归的将某目录下所有的文件以及目录全部修改<br>~$:sudo chown -R root:root test    </p>
<h2 id="输出文件"><a href="#输出文件" class="headerlink" title="输出文件"></a>输出文件</h2><h3 id="一次性输出"><a href="#一次性输出" class="headerlink" title="一次性输出"></a>一次性输出</h3><ul>
<li>cat<br>  -n —打印行号(包含空白行)<br>  -b —打印行号(不含空白行)<br>  -a —将一些看不见的字符用特殊符号打出来　空格用”^I^” 回车用”$”</li>
<li>tac(反向列出)  cat —&gt; tac</li>
<li>nl(添加行号打印)</li>
</ul>
<h3 id="分屏输出"><a href="#分屏输出" class="headerlink" title="分屏输出"></a>分屏输出</h3><ul>
<li>more    </li>
<li>less</li>
<li>head     [-n number]</li>
<li>tail</li>
<li>od<br>非纯文本文件(二进制文件)<br> -t   c ASCII<br>  a   默认字符<br>  o   octal 八进制<br>  d   decimal 十进制<br>  f   浮点数<br>  x   十六进制</li>
</ul>
<h3 id="输出文件类型"><a href="#输出文件类型" class="headerlink" title="输出文件类型"></a>输出文件类型</h3><p>file 命令<br>查看文件类型,data或者ASCII或者binary<br>~$:file /usr/bin/passwd</p>
<h2 id="rwx权限"><a href="#rwx权限" class="headerlink" title="rwx权限"></a>rwx权限</h2><h3 id="r-读权限查询文件名数据"><a href="#r-读权限查询文件名数据" class="headerlink" title="r-读权限查询文件名数据"></a>r-读权限查询文件名数据</h3><h3 id="w-写权限"><a href="#w-写权限" class="headerlink" title="w-写权限"></a>w-写权限</h3><ul>
<li>新建文件与目录 </li>
<li>删除文件或者目录 </li>
<li>重命名以及转移文件或者目录</li>
</ul>
<h3 id="x-可执行权限"><a href="#x-可执行权限" class="headerlink" title="x-可执行权限"></a>x-可执行权限</h3><ul>
<li>进入某目录 </li>
<li>切换到该目录（cd命令）<br>!!!能不能进入某一目录只与该目录的x权限有关，如果不拥有某目录的x权限，即使拥有r权限，那么也无法执行该目录下的任何命令<br>但是即使拥有了x权限，但是没有r权限，能进入该目录但是不能打开该目录，因为没有读取的权限。<br>cd - 回到上一次工作的目录    </li>
</ul>
<h3 id="改变文件或者目录的权限"><a href="#改变文件或者目录的权限" class="headerlink" title="改变文件或者目录的权限"></a>改变文件或者目录的权限</h3><p>~$:sudo chmod 777 test<br>~$:sudo chmod +x test<br>~$:sudo chmod u=rwx,g=r,o=r test<br>r. u—user  g—group  o—others  a—all</p>
<h3 id="改变文件或者目录的属主"><a href="#改变文件或者目录的属主" class="headerlink" title="改变文件或者目录的属主"></a>改变文件或者目录的属主</h3><p>~$:sudo chown root:root test<br>~$:sudo chown root test    </p>
<h3 id="改变属组"><a href="#改变属组" class="headerlink" title="改变属组"></a>改变属组</h3><p>~$:sudo chgrp root test</p>
<h2 id="umask"><a href="#umask" class="headerlink" title="umask"></a>umask</h2><p>用户创建文件时一般不应有执行的权限，所以创建文件的默认权限为666也即-rw-rw-rw-，但是目录需要有执行的权限，应为777,即-rwxrwxrwx，使用如下命令查看当前的umask：<br>~$:umask</p>
<blockquote>
<p>0002</p>
</blockquote>
<p>~$:umask -S</p>
<blockquote>
<p>u=rwx,g=rwx,o=rx</p>
</blockquote>
<p>第一个与特殊权限有关，后三个与一般权限有关，在创建文件或者目录时，会将um    -ask所对应的权限拿掉，即新建文件时:<br>(-rw-rw-rw-)-(————w-) = (-rw-rw-r—)所以创建文件的一般权限为-rw-rw-r    —<br>同理可得创建目录时的权限应该为drwxrwxr-x即775。要修改umask的值，可直接在输入umask后接所要减去的权限<br>即<br>~$:umask 002<br>一般情况下root用户的umask为022，这是为了安全考虑，一般用户的umask是022,即保留了同用户组的写入权利。如果同一个用户组的不同用户无法修改另一个用户的文件，那么就可能是同组成员的创建文件时的默认权限不同，可以用umask修改。</p>
<h2 id="修改文件时间"><a href="#修改文件时间" class="headerlink" title="修改文件时间"></a>修改文件时间</h2><h3 id="stat-filename"><a href="#stat-filename" class="headerlink" title="stat filename"></a>stat filename</h3><p>列出该文件的各种时间</p>
<h3 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h3><p>-a 仅修改访问时间<br>-t 后面接欲修改的时间而不用当前时间，格式为[YYMMNNhhmm]<br>-d 接欲修改的日趋而不用当前日期，也可以用—date=”时间或者日    期”<br>-c 仅修改文件的时间(文件状态改变的时间)<br>-m 仅修改mtime(文件内容被更改的时间)<br>-d和-t修改的是mtime和atime 但是不能修改　ctime<br>~$:touch -d “2 days ago” testtouch<br>~$:touch -t 150929 testtouch</p>
<p>ls -l 默认显示的是mtime,是内容修改的时间(modify)<br>touch —time=ctime　　ctime 显示的是状态被改变的时间,指的是文件属性和权限发生改变。<br>touch —time=atime    atime 访问时间显示的是最近文件被访问的时间(acess),cat and more可以,但是像ls和stat不会改变</p>
<p>ls -lc  # chagne state<br>ls -lu  # acess time访问时间<br>ls -l    # modify time </p>
<h2 id="chattr与lsattr-设置文件的隐藏属性。"><a href="#chattr与lsattr-设置文件的隐藏属性。" class="headerlink" title="chattr与lsattr 设置文件的隐藏属性。"></a>chattr与lsattr 设置文件的隐藏属性。</h2><p>change attributes<br>chattr -i 设置文件不可以被删除(包括root用户)<br>       -a 设置文件只能增加数据，而不能删除或者修改文件(如登陆文件)</p>
<p>chattr +i +a 可以增加文件的隐藏属性，其他属性不变<br>    -i -a 可以除去文件的隐藏属性，其他属性不变<br>    =i a  仅有=后面的属性</p>
<p>lsattr 查看文件的隐藏属性</p>
<h2 id="文件特殊权限"><a href="#文件特殊权限" class="headerlink" title="文件特殊权限　"></a>文件特殊权限　</h2><p>在文件或者目录中除了rwx外，还会出现s,t,S,T权限</p>
<h3 id="SUID"><a href="#SUID" class="headerlink" title="SUID"></a>SUID</h3><p>当s出现在文件所有者的x权限上时，</p>
<p>如<br>~$:ls -l /usr/bin/passwd<br>-rwsr-xr-x 1 root root ….<br>~$:ls -l /etc/shadow<br>-rw-r——- 1 root shadow </p>
<p>用户密码存在/etc/shadow内，当用户想要修改密码时，可以使用passwd进行修改<br>用户mxx对于/etc/shadow没有任何权限，但是对于/usr/bin/passwd拥有r-x权限，    所以可以执行passwd命令，由于在passwd命令中有SUID权限，所以mxx在执行pass-    wd命令时，会暂时获得passwd拥有者即root的权限，所以接下来可以用passwd修改    /etc/shadow。</p>
<p>！！！此权限仅可用于二进制程序中，且仅在执行该程序的过程中有效，此外只对    于文件有效，对于目录也是无效的</p>
<h3 id="SGID"><a href="#SGID" class="headerlink" title="SGID　"></a>SGID　</h3><p>当s权限出现在用户组的x权限时，如<br>~$:ls -l /usr/bin/mlocate /var/lib/mlocate/mlocate.db</p>
<blockquote>
<p>-rwx—s—x 1 root mlocate</p>
</blockquote>
<p>同SUID类似，程序执行者会获得该程序用户组的支持，还可以用在目录上，若该用户在此目录下具有w权限，用户创建的新文件的用户组与此目录组的用户组相同<br>~$:su root<br>~$:mkdir test<br>~$:ls -l test</p>
<blockquote>
<p>drwxrwxr-x 2 root root …</p>
</blockquote>
<p>~$:chmod 2777 test<br>~$:ls -l test</p>
<blockquote>
<p>drwxrwsrwx 2 root root</p>
</blockquote>
<p>~$:su mxx<br>~$:cd test<br>~$:touch test</p>
<blockquote>
<p>-rw-rw-r— 1 mxx root ….</p>
</blockquote>
<p>！！！此权限对于目录以及文件都有效</p>
<h3 id="SBIT"><a href="#SBIT" class="headerlink" title="SBIT"></a>SBIT</h3><p>当t出现在others的x权限上时<br>~$:ls -l /tmp</p>
<blockquote>
<p>drwxrwxrwt 13 root root ….</p>
</blockquote>
<p>用户对于某个目录具有wx的权限，即可以写入的权限，相当于说目录的属主给了用    户属组或者其他人的身份，并拥有w的权限，那么也就是说这个用户具有删除属主<br>创建的文件或者目录的删除等权限。但是如果该目录拥有了SBIT的权限，那么该用    户就只能删除自己所创建的文件，而不能删除属主所创建的文件。<br>！！！此权限只针对目录有效</p>
<h3 id="如何设置文件以及目录的特殊权限-SUID-4-SGID-2-SBIT-1"><a href="#如何设置文件以及目录的特殊权限-SUID-4-SGID-2-SBIT-1" class="headerlink" title="如何设置文件以及目录的特殊权限(SUID 4,SGID 2 ,SBIT 1)"></a>如何设置文件以及目录的特殊权限(SUID 4,SGID 2 ,SBIT 1)</h3><p>最前面的一位为文件的特殊权限<br>直接用chmod 4755 filename就可以了<br>还可以通过加法来实现，如SUID为u+s,SGID为g+s,SBIT为o+t<br>此外还有大写的S和T，代表空，如<br>~$:chmod 7666 test<br>~$:ls -l test</p>
<blockquote>
<p>-rwSrwSrwT 1 mxx mxx </p>
</blockquote>
<p>因为s和t都是替代x的，而当文件所有者以及其他用户用户组都没有x的时候，所以    就不用说其他的操作了，所以也就为空了</p>
<h2 id="常见配置文件"><a href="#常见配置文件" class="headerlink" title="常见配置文件"></a>常见配置文件</h2><ul>
<li>/bin:可以被单用户执行的命令。其下的命令可以被root用户和普通用户执行，如cat,cd,cp,date,chown,chmod,等等</li>
<li>/sbin/:开机过程所需要的，只能被root用户所执行，普通用户只能进行查询，包括与开机，还原系统所需要的命令</li>
<li>/usr/bin:绝大部分的用户可使用命令都在这里</li>
<li>/usr/sbin/:服务器所需要的某些软件程序</li>
<li>/usr/local/sbin:本机自行安装的软件产生的系统执行文件</li>
<li>/    根目录</li>
<li>/etc  系统的配置文件</li>
<li>/lib  执行文件所需要的函数库与内核所需要的模块</li>
<li>/bin  重要执行文件</li>
<li>/sbin 重要的系统执行文件</li>
<li>/dev  所需要的设备文件</li>
</ul>
<p>这五个目录必须和根目录放在一块。</p>
<p>根目录最好小一些，将一些经常用到的文件目录(/home:/usr:/var:/tmp与根目录分到不同的分区。因为越大的分区，放入的数据也就越多，出错的几率也就越大，而如果根目录出现问题，系统就可能会出现问题。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/05/07/linux-search-command/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/07/linux-search-command/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/6/index.html">linux search file command</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-07 17:03:36" itemprop="dateCreated datePublished" datetime="2019-05-07T17:03:36+08:00">2019-05-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-06-16 17:06:12" itemprop="dateModified" datetime="2019-06-16T17:06:12+08:00">2019-06-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="命令与文件的查询"><a href="#命令与文件的查询" class="headerlink" title="命令与文件的查询"></a>命令与文件的查询</h2><h3 id="文件查询"><a href="#文件查询" class="headerlink" title="文件查询"></a>文件查询</h3><ul>
<li>find</li>
<li>whereis</li>
<li>locate</li>
</ul>
<p>whereis和locate利用数据库查找，find查找硬盘。</p>
<h3 id="命令查询"><a href="#命令查询" class="headerlink" title="命令查询"></a>命令查询</h3><ul>
<li>which </li>
</ul>
<h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><p>find从硬盘中查找文件，还可以查找具有特殊要求的文件，如查找文件所有者，文件大小,SUID等等</p>
<h3 id="与时间有关的参数"><a href="#与时间有关的参数" class="headerlink" title="与时间有关的参数"></a>与时间有关的参数</h3><p>~$:find /tmp mtime n/+n/-n</p>
<h3 id="与用户或者用户组有关的文件"><a href="#与用户或者用户组有关的文件" class="headerlink" title="与用户或者用户组有关的文件"></a>与用户或者用户组有关的文件</h3><p>find /     -uid n<br>    -gid n<br>    -user name<br>    -group name<br>    -nouser<br>    -nogroup</p>
<h3 id="与文件权限或者名称有关的参数"><a href="#与文件权限或者名称有关的参数" class="headerlink" title="与文件权限或者名称有关的参数"></a>与文件权限或者名称有关的参数</h3><p>find /     -name filename<br>    -size [+-]SIZE<br>    -type TYPE[-fbcdls]<br>    -perm mode    刚好等于mode<br>    -perm -mode    全部包含<br>    -perm /mode    任意一个</p>
<h3 id="find示例"><a href="#find示例" class="headerlink" title="find示例"></a>find示例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 查找/home/maddpg目录下所有__pycache__目录和文件</span><br><span class="line">find /home/maddpg -name **__pycache__ </span><br><span class="line"><span class="meta">#</span> 查看根目录下所有权限为7000的文件</span><br><span class="line">find / -perm +7000 -exec ls -l &#123;&#125; \;</span><br><span class="line"><span class="meta">#</span> 查找当前目录下size在1k到5k之间的文件，+表示大于，-表示小于</span><br><span class="line">find . -size -5k -a -size +1k # 是会把当前目录也列出来的</span><br></pre></td></tr></table></figure>
<h2 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h2><h3 id="参数介绍"><a href="#参数介绍" class="headerlink" title="参数介绍"></a>参数介绍</h3><p>whereis [-bmsu]<br>    -b 二进制文件<br>    -m manualz路径下的文件(说明文件)<br>    -s source源文件<br>    -u 不在上述范围的其他特殊文件</p>
<h2 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h2><p>locate  查找/var/lic/mlocate数据库内的数据，该数据库每天更新一次可手动更新，updatedb,因为他是每天更新一次，所以可能会找到已删除的文件或者是找不到新建立的文件。</p>
<h2 id="which"><a href="#which" class="headerlink" title="which"></a>which</h2><h3 id="参数介绍-1"><a href="#参数介绍-1" class="headerlink" title="参数介绍"></a>参数介绍</h3><p>which -a command 列出所有的位置。<br>which command 列出第一个找到的位置</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>~$:which -a python</p>
<blockquote>
<p>/home/mxxmhh/anaconda3/bin/python<br>/usr/bin/python</p>
</blockquote>
<p>~$:which pip</p>
<blockquote>
<p>/home/mxxmhh/anaconda3/bin/pip</p>
</blockquote>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>1.《鸟哥的LINUX私房菜》<br>2.<a href="http://www.cnblogs.com/wanqieddy/archive/2011/06/09/2076785.html" target="_blank" rel="noopener">http://www.cnblogs.com/wanqieddy/archive/2011/06/09/2076785.html</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/05/07/linux-file-system/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/07/linux-file-system/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/6/index.html">linux file system</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-07 17:02:37" itemprop="dateCreated datePublished" datetime="2019-05-07T17:02:37+08:00">2019-05-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-06-16 16:16:52" itemprop="dateModified" datetime="2019-06-16T16:16:52+08:00">2019-06-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="碎片整理"><a href="#碎片整理" class="headerlink" title="碎片整理"></a>碎片整理</h2><p>文件写入的block太碎了，文件的读写性能太差，所以可以通过碎片整理将一个文件的block回合在一起FAT文件系统经常需要碎片整理,但是Ext2文件类型是索引式文件系统，所以不太需要经常碎片整理的。</p>
<h2 id="dumpe2fs-bh"><a href="#dumpe2fs-bh" class="headerlink" title="dumpe2fs [-bh]"></a>dumpe2fs [-bh]</h2><p>查询每个区段以及superblock的信息</p>
<h3 id="参数介绍"><a href="#参数介绍" class="headerlink" title="参数介绍"></a>参数介绍</h3><p>dumpe2fs [-bh]<br>    -b<br>    -h 仅列出superblock的数据</p>
<h2 id="df"><a href="#df" class="headerlink" title="df"></a>df</h2><p>查询挂载的设备</p>
<h3 id="参数介绍-1"><a href="#参数介绍-1" class="headerlink" title="参数介绍"></a>参数介绍</h3><p>df [-haiT]　[dir/file]    显示文件系统的整体磁盘用量<br>    -a 列出所有的文件<br>    -h 显示文件系统的大写，自行显示格式<br>    -i 可用的inode<br>    -T 联通分区文件系统的名称</p>
<h2 id="du"><a href="#du" class="headerlink" title="du"></a>du</h2><p>目录或者文件所占的容量</p>
<h3 id="参数介绍-2"><a href="#参数介绍-2" class="headerlink" title="参数介绍"></a>参数介绍</h3><p>du [-ashkm] [dir/filename] 默认显示的是目录的容量，不包含文件<br>    -s 该目录下所有文件的容量，不细列出来<br>    -a 显示所有的目录与文件的容量<br>    -h 以人们熟悉的大小方式显示出来<br>    -k 以kb列出容量<br>    -m 以mb列出容量:</p>
<h2 id="ln-s-链接文件"><a href="#ln-s-链接文件" class="headerlink" title="ln [-s] 链接文件"></a>ln [-s] 链接文件</h2><p>hard-link    硬链接，将某个目录下的block多写入一个数据,磁盘的inode与b            lock数量一般不会改变，磁盘容量也不会改变，而且删除一个文            件并不会响另一个文件的读写，但是其对于目录是没有作用的，            对于不同的文件系统也是没有用的。<br>sybomlic    </p>
<h2 id="磁盘分区，格式化，检验与挂载"><a href="#磁盘分区，格式化，检验与挂载" class="headerlink" title="磁盘分区，格式化，检验与挂载"></a>磁盘分区，格式化，检验与挂载</h2><p>df + 目录  查看某个目录挂载的磁盘位置<br>eg: df /</p>
<p>sudo fdisk [-l]　+ 设备　输出后面设备所有的分区内容　如不加设备名称，列                    　出整个系统。</p>
<h2 id="新增或者删除分区"><a href="#新增或者删除分区" class="headerlink" title="新增或者删除分区"></a>新增或者删除分区</h2><p>sudo fdisk + 设备   对设备进行操作<br>partprobe</p>
<p>sudo mkfs [-t ext2/ext2/vfat] + 设备名　 将某个设备格式化为某种文件系统</p>
<p>sudo mke2fs [-b block_size] [-i inode_size]  [-L 卷标] [-cj -c 检查磁盘                错误　-j 加入日志文件] + 设备名</p>
<p>sudo fsck [-CAay] [-t filesystem] + 设备<br>    -C  使用直方图显示进度<br>    -A  依据/etc/fstab内容，扫描设备<br>    -a  自动修复检查到的有问题的扇区<br>    -y  与-a 类似<br>    ext2 ext3 支持额外参数　　[-fD] -f 强制进入设备进行检查<br>                -D 对文件系统下的目录进行优化配                                置<br>sudo badblocks [-sv] + 设备  -s 在屏幕上列出进度 -v 在屏幕上看到进度</p>
<h2 id="mount"><a href="#mount" class="headerlink" title="mount"></a>mount</h2><p>挂载文件系统与磁盘 P227</p>
<h3 id="参数介绍-3"><a href="#参数介绍-3" class="headerlink" title="参数介绍"></a>参数介绍</h3><p>mount [-aoltnL]<br>    -a　按照/etc/fstab的配置信息将所有未挂载的磁盘挂载上来<br>    -l　可增加label名称<br>    -t　加上文件类型<br>    -n　默认情况下会将挂载情况写入/etc/mtab，加入-n可以不写入<br>    -L　可以利用卷标名来挂载<br>    -o 加一些挂载时的额外参数　<br>        ro(只读)　rw(可写)<br>        async sync 此文件系统是否使用同步写入或者异步的内存机制<br>        auto noauto 允许此分区以mount -a自动挂载(auto)<br>        dev nodev 是否运行在此分区创建设备文件<br>        suid nosuid<br>        exec noexec 是否可拥有可执行binary文件<br>        user,nouer 设置user参数可以让一般user能对此分区挂载<br>        defaults　默认为rw,suid,dev,exec,auto,nouser,async<br>        remount 重新挂载，在系统出错，或者重新更新参数时</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>mount 设备文件名　挂载点</p>
<p>用卷标名挂载设备<br>~$:mount -L mxx_logical /medic/mxx    </p>
<p>用磁盘设备名挂载<br>~$:mount /dev/sdb1 /mnt/usb<br>~$:mount -t iso9660 /dev/cdrom /media/cdrom<br>~$:mount -o remount,rw,auto /dir<br>~$:mount -o loop ~/my.iso/myfile.iso /mnt/iso</p>
<h2 id="磁盘参数修改"><a href="#磁盘参数修改" class="headerlink" title="磁盘参数修改"></a>磁盘参数修改</h2><p>设备用文件来代表通过文件的major与minor数值来替代<br>Major 主设备代码，Minor　次设备代码<br>/dev/hd*  major = 3<br>/dev/sd*  minor = 8    </p>
<h3 id="mknod"><a href="#mknod" class="headerlink" title="mknod"></a>mknod</h3><p>mknod [bcp]<br>    b   设置设备名称成为一个外部存储文件，如硬盘<br>    c   设置设备名称成为一个外部输入文件，如鼠标/键盘<br>    p   设置设备名称成为一个FIFO文件</p>
<h3 id="e2label"><a href="#e2label" class="headerlink" title="e2label"></a>e2label</h3><p>e2label /dev/sdb5 + 新的label名称</p>
<h3 id="tune2fs"><a href="#tune2fs" class="headerlink" title="tune2fs"></a>tune2fs</h3><p>tune2fs [-jlL]<br>    -l  类似 dupme2fs -h<br>    -j  将ext2转换为ext3<br>    -L  类似于　e2label </p>
<h3 id="hdparm"><a href="#hdparm" class="headerlink" title="hdparm"></a>hdparm</h3><p>hdparm -Tt /dev/sd*  测试SATA硬盘的读取性能</p>
<h2 id="挂载-iso文件"><a href="#挂载-iso文件" class="headerlink" title="挂载.iso文件"></a>挂载.iso文件</h2><p>mount -o loop /home/mxx/ubuntu16.04 /mnt/ubuntu16.04</p>
<p>dd命令　创建一个大文件<br>dd if=/dev/zero of=/home/mxx/filename bs=1M count=512<br>    if—input file    /dev/zero 一直输出0<br>    of—output file    将if中的内容加入到of接的文件名中<br>    bs—block size<br>    count    共有多少个bs</p>
<h2 id="构建swap空间"><a href="#构建swap空间" class="headerlink" title="构建swap空间"></a>构建swap空间</h2><p>例如将第二快硬盘的第五个分区改为swap分区<br>~$:sudo fdisk -l /dev/sdb<br>    p<br>    t 5<br>    82<br>    w<br>    partprobe<br>将/dev/sdb5更改为swap类型的文件系统<br>~$:mkswap /dev/sdb5<br>~$:free 查看memory以及swap分区的使用情况<br>~$:swapon /dev/sdb5 使用/deb/sdb5的swap分区<br>~$:swapon -s 查看目前使用的swap设备有哪些<br>~$:swapoff /dev/sdb5</p>
<h2 id="boost-sector与superblock-的关系"><a href="#boost-sector与superblock-的关系" class="headerlink" title="boost sector与superblock 的关系"></a>boost sector与superblock 的关系</h2><ol>
<li>superblock的大小为1024b<br>boost sector与superblock 各占一个block ,可以查看/boot的挂载目录<br>0号block给boost ，1号block给superblock</li>
<li>superblock的大小大于1024b,如为4096b<br>superblock在0号blok ,但是superblock 只有1024b,所以为了防止空间浪费，于是        在0号block内，superblock(1024-2047),boost sector(0-1023),2048后            面的空间保留。<br>实际情况中，由于在比较大的block中，我们能将引导装载程序安装到superblock所在的0号block,但事实上还是安装到启动扇区的保留区域。<br>比较正确的说法是，安装到文件系统最前面的1024b内的区域，就是启动扇区</li>
</ol>
<h2 id="查看文件的inode编号"><a href="#查看文件的inode编号" class="headerlink" title="查看文件的inode编号"></a>查看文件的inode编号</h2><p>~$:ls -i<br>目录并不一定只占一个block，当目录内的文件数太多时，会增加该目录的block</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>1.《鸟哥的LINUX私房菜》</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/05/07/linux-compress-uncompress/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/07/linux-compress-uncompress/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/6/index.html">linux 压缩和备份</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-07 17:01:24" itemprop="dateCreated datePublished" datetime="2019-05-07T17:01:24+08:00">2019-05-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-06-16 15:46:34" itemprop="dateModified" datetime="2019-06-16T15:46:34+08:00">2019-06-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h2><ul>
<li>gzip</li>
<li>zcat</li>
<li>bzip2</li>
<li>bzcat</li>
<li>gunzip</li>
<li>bunzip2</li>
<li>7z</li>
<li>zip</li>
<li>rar</li>
</ul>
<h3 id="gzip和bzip2"><a href="#gzip和bzip2" class="headerlink" title="gzip和bzip2"></a>gzip和bzip2</h3><p>gzip和bzip2公用参数</p>
<h4 id="参数介绍"><a href="#参数介绍" class="headerlink" title="参数介绍"></a>参数介绍</h4><p>gzip(bzip2)<br>    -d 解压缩参数<br>    -$ $取1-9　压缩等级 -1最快<br>    -v 显示压缩比<br>    -k 保留原文件<br>    -z 压缩参数<br>    -c 将压缩过程中产生的数据输出到屏幕上(压缩后的数据)可以将其输出重定向<br>    -t 检验一个压缩文件的一致性</p>
<h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h3><h4 id="参数介绍-1"><a href="#参数介绍-1" class="headerlink" title="参数介绍"></a>参数介绍</h4><p>zip [-dmbrfFg]<br>    -d　从zip文件中移除一个文件<br>    -m  将特定文件移入zip文件，且删除特定文件<br>    -g　将文件压缩附加到zip文件中<br>    -r  包括子目录<br>    -f  以新文件取代旧文件<br>    -F　修复已经损毁的压缩文件<br>    -b　暂存文件的路径<br>    -v　显示详细信息<br>    -u　值更新改变过的文件<br>    -T　测试zip文件是否正常<br>    -x　不需要压缩的文件</p>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>~$:zip -r myfile.zip ./*<br>~$:zip -d myfile.zip myfile　 //删除压缩文件内的某个文件<br>~$:zip -g myfile.zip myfile   //向一个压缩文件内添加新文件<br>~$:zip -u myzip</p>
<h3 id="unzip"><a href="#unzip" class="headerlink" title="unzip"></a>unzip</h3><h4 id="参数介绍-2"><a href="#参数介绍-2" class="headerlink" title="参数介绍"></a>参数介绍</h4><p>unzip [-dnovj]<br>     -v  查看压缩文件目录，但是不解压<br>     -d  指定解压到的目录<br>     -n　不覆盖已有文件<br>     -o　覆盖已有文件<br>     -j  不重建文档的目录结构，把所有文件解压到同一目录下</p>
<h3 id="7z"><a href="#7z" class="headerlink" title="7z"></a>7z</h3><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>~$:apt-get install p7zip</p>
<h4 id="参数介绍-3"><a href="#参数介绍-3" class="headerlink" title="参数介绍"></a>参数介绍</h4><p>7z [x|a] [-rotr]<br>    a　代表添加文件到压缩包<br>    x　代表解压缩文件<br>    -r 表示递归所有文件<br>    -t 制定压缩类型<br>    -o 指定解压到的目录</p>
<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><p>~$:7z a -t 7z -r myfile.7z  ~/myfile<br>~$:7z x myfile.7z -r -o ~/</p>
<h3 id="rar"><a href="#rar" class="headerlink" title="rar"></a>rar</h3><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><p>~$:apt-get install rar</p>
<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><p>~$:rar x myfile.rar<br>~$:rar a myfile.rar myfile    </p>
<h3 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h3><p>打包</p>
<h4 id="参数介绍-4"><a href="#参数介绍-4" class="headerlink" title="参数介绍"></a>参数介绍</h4><p>tar [-cxtvfjzCpP]<br>    -c  —create<br>    -x  —extract<br>    -t  —list<br>    -v  —verbose<br>    -f  —file<br>    -j  —bzip2<br>    -z  —gzip —gunzip<br>    -C  —directory DIR<br>                   change to directory DIR<br>    -p  —preserve-permissions, —same-permissions<br>    -P  —absolute-names</p>
<pre><code>--exclude=file
</code></pre><h4 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h4><p>~$:tar -cvj -f ~/my_bak/etc.newer.passwd.tar.bz2 —newer-mtime=”2016/09/23”            /etc/*<br>~$:tar -cvj -f ~/my_bak/etc.tar.gz   /etc<br>~$:tar -xvj -f ~/my_bak/etc.tar.gz -C /tmp<br>~$:tar -xvj -f ~/my_bak/etc.tar.gz |etc/shadow<br>~$:tar -tfj -f ~/my_bak/etc.tar.gz | grep ‘shadow’<br>~$:tar -cv -f /dev/st0 /home /root /etc     # 磁带机/dev/st0</p>
<h2 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h2><ul>
<li>dump</li>
<li>restore</li>
<li>mkisofs</li>
<li>dd</li>
</ul>
<h3 id="dump"><a href="#dump" class="headerlink" title="dump"></a>dump</h3><h4 id="参数介绍-5"><a href="#参数介绍-5" class="headerlink" title="参数介绍"></a>参数介绍</h4><p>dump    [-SujvWf]<br>    -S    size<br>    -u    update    recode the dump time to /var/lib/dumpdates<br>        -u只能对level 0 操作<br>    -j    add compress bz2(默认压缩等级为 2)<br>    -v    verbose   详细的<br>    -W    列出/etc/fstab中的具有dump设置的分区是否被备份过<br>    -f<br>    -level    备份的等级(0-9) 对于文件系统有九个等级<br>                对于单个目录只有0级</p>
<h4 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h4><p>~$:dump -0u -f /root/etc.dump /etc</p>
<h3 id="restore"><a href="#restore" class="headerlink" title="restore"></a>restore</h3><h4 id="参数介绍-6"><a href="#参数介绍-6" class="headerlink" title="参数介绍"></a>参数介绍</h4><p>restore [-tCir]<br>    -t    list<br>    -C    compare<br>    -i    itera<br>    -r    r    </p>
<h4 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h4><p>~$:restore -t -f /root/boot.dump<br>~$:restore -C -f /root/boot.dump<br>~$:mkdir test_restore<br>~$:cd test_restore<br>~$:restore -r -f /root/boot.dump<br>~$:restore -i -f /root/etc.dump.bz2</p>
<h3 id="mkisofs"><a href="#mkisofs" class="headerlink" title="mkisofs"></a>mkisofs</h3><p>生成iso文件</p>
<h4 id="参数介绍-7"><a href="#参数介绍-7" class="headerlink" title="参数介绍"></a>参数介绍</h4><p>mkisofs [-orvVm]<br>    -o +生成的镜像名<br>    -r 记录更完整的文件信息，包括UID,GID与权限等<br>    -v 显示构建iso的过程<br>    -V 新建Volume<br>    -m exclude 排除某文件<br>    -graft-point </p>
<h4 id="示例-6"><a href="#示例-6" class="headerlink" title="示例"></a>示例</h4><p>~$:mkisofs -r -v -o ~/my.iso/system.iso -m /home/lost+found -graft-point/home=/home /root=/root /etc=/etc</p>
<h3 id="dd"><a href="#dd" class="headerlink" title="dd"></a>dd</h3><p>可以备份整块硬盘或者整块磁盘包括superblocks以及boot sector等等</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2019/05/07/linux-vim/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/07/linux-vim/" class="post-title-link" itemprop="http://mxxhcm.github.io/page/6/index.html">linux vim</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-05-07 16:58:22" itemprop="dateCreated datePublished" datetime="2019-05-07T16:58:22+08:00">2019-05-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-06-11 15:30:17" itemprop="dateModified" datetime="2019-06-11T15:30:17+08:00">2019-06-11</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="vim-配置文件"><a href="#vim-配置文件" class="headerlink" title="vim 配置文件"></a>vim 配置文件</h2><p>个人vim配置文件一般在~/.vimrc下，可以自定义各种配置。<br><a href>我的vimrc文件</a></p>
<h3 id="前缀符号"><a href="#前缀符号" class="headerlink" title="前缀符号"></a>前缀符号</h3><p>为了缓解快捷键冲突问题，就引入了前缀键，跟参考文献[0]一样，设置;号为前缀键。<br>let mapleader=”;”</p>
<h3 id="设置显示行号"><a href="#设置显示行号" class="headerlink" title="设置显示行号"></a>设置显示行号</h3><p>set number</p>
<h3 id="底部显示文件路径"><a href="#底部显示文件路径" class="headerlink" title="底部显示文件路径"></a>底部显示文件路径</h3><p>set laststatus=2 “设置底部状态栏可见<br>set statusline=%F%m%r%h%w %=#%n [%{&amp;fileformat}:%{(&amp;fenc==\”\”?&amp;enc:&amp;fenc)    .((exists(\”+bomb\”) &amp;&amp; &amp;bomb)?\”+B\”:\”\”).\”\”}:%{strlen(&amp;ft)?&amp;ft:’**‘    }] [%L\\%l,%c] %p%%    “statusline显示的信息，来自参考文献[8]。<br>“其中%L是当前文件缓冲区的行数，%P是当前行占总行数的百分比。<br>set ruler “显示光标当前位置</p>
<h2 id="vim复制到系统寄存器"><a href="#vim复制到系统寄存器" class="headerlink" title="vim复制到系统寄存器"></a>vim复制到系统寄存器</h2><h3 id="vim寄存器"><a href="#vim寄存器" class="headerlink" title="vim寄存器"></a>vim寄存器</h3><p>vim有9种寄存器:</p>
<ol>
<li>“是未命名寄存器，vim的默认寄存器，存放删除和复制的文本。</li>
<li>small delete寄存器 -，存放不超过一行的delete操作（不包括x操作）产生的文本。</li>
<li>编号为$0,1,2,\cdot, 9$的寄存器，</li>
<li>$a-za-z$的$26$个字母寄存器,</li>
<li>只读寄存器 : .,%,\$</li>
<li>表达式寄存器 =</li>
<li>搜索寄存器 /</li>
<li>GUI选择寄存器$*,+$。</li>
<li>黑洞寄存器，向这个寄存器写入的话，什么都不会发生。</li>
</ol>
<p>详细介绍可见参考文献[4]。</p>
<h3 id="使用系统剪切板"><a href="#使用系统剪切板" class="headerlink" title="使用系统剪切板"></a>使用系统剪切板</h3><p>*和+寄存器适合系统相关的，*和系统缓冲区关联，+和系统剪切板关联。<br>使用+y复制当前行到系统剪切板。<br>使用+ny复制n行到系统剪切板。<br>使用+p粘贴系统剪切板到当前位置。<br>但是有些vim发行版不支持系统剪切板，可以使用如下命令查看自己的系统是否支持系统剪切板。<br>~\\$:vim —version|grep clipboard<br>在我的系统上，输出如下：</p>
<blockquote>
<p>-clipboard         +jumplist          +persistent_undo   +virtualedit<br>-ebcdic            -mouseshape        +statusline        -xterm_clipboard</p>
</blockquote>
<p>如果输出+clipboard说明当前vim支持剪切板，-clipboard说明当前vim不支持系统剪切板，所以就卸载安装支持的版本呗。<br>~\\$:sudo apt remove vim<br>~\\$:sudo apt install vim-gtk3<br>然后再次查看<br>~\\$:vim —version|grep clipboard<br>输出如下：</p>
<blockquote>
<p>+clipboard         +jumplist          +persistent_undo   +virtualedit<br>-ebcdic            +mouseshape        +statusline        +xterm_clipboard</p>
</blockquote>
<p>说明已经支持系统剪切板，可以使用了。注意记得把之前打开的vim关闭后再试。<br>使用以下命令进行操作：<br>+nyy # 复制从当前行开始的n行到+寄存器<br>+yy # 复制当前行行到+寄存器<br>+p # 粘贴+寄存器中的内容到文本中。<br>这个时候还有一个问题，就是一般的笔记本键盘的+和=号是在一起的，如果要打出=行，需要按一下shit +=，这个时候会向下移动一行，但是无伤大雅，为什么会这样，我还不知道。详细流程可参见参考文献[5]。<br>但是后来我发现这个还不能用。然后就只能继续查找了。在知乎上找到一个回答，发现还要在这些命令前加上一个”号，表示将默认”寄存器中的内容复制到+寄存器中。也就是使用如下命令：<br>“+nyy # 复制从当前行开始的n行到+寄存器<br>“+yy # 复制当前行行到+寄存器<br>“+p # 粘贴+寄存器中的内容到文本中。</p>
<h3 id="将未命名寄存器和系统寄存器设为同一个。"><a href="#将未命名寄存器和系统寄存器设为同一个。" class="headerlink" title="将未命名寄存器和系统寄存器设为同一个。"></a>将未命名寄存器和系统寄存器设为同一个。</h3><p>修改vim配置文件<br>~$:vim ~/.vimrc<br>添加下面一句话，重新打开vim即可<br>set clipboard=unnamed</p>
<h2 id="vim模式和常用命令"><a href="#vim模式和常用命令" class="headerlink" title="vim模式和常用命令"></a>vim模式和常用命令</h2><h3 id="vim模式"><a href="#vim模式" class="headerlink" title="vim模式"></a>vim模式</h3><ul>
<li>正常模式，用vim打开一个文件之后就处于正常模式</li>
<li>插入模式，在正常模式下输入i,a,o或者I,A,O之后，就进入了命令模式，可以修改文件，按Esc退出。</li>
<li>Visual模式，可以移动光标选中某些行，进行复制或者删除，在正常模式按v或者V进入Visual模式。</li>
<li>命令模式，在正常模式按:进入命令模式，可以在窗口底部输入命令。</li>
<li>替换模式，使用r替换当前字符，使用R从当前字符开始连续替换。</li>
</ul>
<h3 id="正常模式"><a href="#正常模式" class="headerlink" title="正常模式"></a>正常模式</h3><h4 id="移动光标"><a href="#移动光标" class="headerlink" title="移动光标"></a>移动光标</h4><p>0 移动到行首<br>$ 移动到行尾<br>h 向左移动一个character<br>j 向下移动一行<br>k 向上移动一行<br>l 向右移动一个character<br>nj nk nh nl 移动n次<br>oO o在当前行的下一行插入，O在当前行的上一行插入<br>iI i在当前光标处插入，I在行首插入<br>aA a在当前光标后插入，A在行尾插入<br>1G 跳到第一行<br>gg 跳到首行<br>G 跳到尾行<br>nG 跳到尾行<br>n-space 跳到光标后第n个character<br>n-ENTER nG 跳到第n行<br>wW w移动到下一个word的开头，W移动到隔了一个空白符的下一个word的开头<br>bB b移动到前一个word的开头，B移动到隔了一个空白符的前一个word开头<br>eE 移动到当前word的结尾，W移动到隔了一个空白符的word结尾。<br>ctrl+f 跳到下一页<br>ctrl+b 跳到上一页</p>
<h4 id="删除和复制"><a href="#删除和复制" class="headerlink" title="删除和复制"></a>删除和复制</h4><p>x 删除一个character<br>nx 删除n个characters<br>dd 删除当前行<br>ndd 删除n行<br>yy 复制一行<br>nyy 复制n行<br>p 粘贴</p>
<h3 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h3><h4 id="切屏"><a href="#切屏" class="headerlink" title="切屏"></a>切屏</h4><p>:sp [filename]<br>输入:进入命令模式，然后输入sp，空格，要打开的文件名。使用ctrl w在分开的屏幕之间进行切换。</p>
<h4 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h4><p>/word ?word<br>n N</p>
<h4 id="替换和删除"><a href="#替换和删除" class="headerlink" title="替换和删除"></a>替换和删除</h4><p>:1,10s/word/word.rp/g(c)<br>:1,$s/word/word.rp/g(c)<br>利用正则表达式可以实现下面的一些常用命令<br><a href="https://github.com/mxxhcm/code/tree/master/shell/vim_regex" target="_blank" rel="noopener">代码地址</a><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 替换所有的^为\^</span><br><span class="line">:0,$s/\^/\\^/g</span><br><span class="line"><span class="meta">#</span> 替换所有的\*\*为##</span><br><span class="line">:0,$s/[0-9][0-9]\./## /g</span><br><span class="line"><span class="meta">#</span> 删除所有以tab开头的tab</span><br><span class="line">:0,$s/^\t//g</span><br><span class="line"><span class="meta">#</span> 删除所有以#开头的行</span><br><span class="line">:g/^#\.\*$/d</span><br><span class="line"><span class="meta">#</span> 删除所有空行</span><br><span class="line">:g/^\s\*$/d</span><br><span class="line"><span class="meta">#</span> 用newlines替换,</span><br><span class="line">:0,$s/,/\r/g</span><br><span class="line"><span class="meta">#</span> 在re.*后面加上括号</span><br><span class="line"><span class="meta">#</span> re.Ire.IGNORECASE)</span><br><span class="line"><span class="meta">#</span> re.Lre.LOCALE)</span><br><span class="line"><span class="meta">#</span> re.Mre.MULTILINE)</span><br><span class="line"><span class="meta">#</span> re.sre.DOTALL)</span><br><span class="line"><span class="meta">#</span> re.Ure.UNICODE)</span><br><span class="line"><span class="meta">#</span> re.Xre.VERBOSE)</span><br><span class="line">:m,ns/\(^re\.[A-Z]\)/\1(/g</span><br></pre></td></tr></table></figure></p>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>:w [filename]<br>:r [filename]<br>:n1,n2 w [filename]<br>:set nu</p>
<h3 id="Visual模式"><a href="#Visual模式" class="headerlink" title="Visual模式"></a>Visual模式</h3><p>见参考文献[9]。</p>
<h2 id="快捷键映射"><a href="#快捷键映射" class="headerlink" title="快捷键映射"></a>快捷键映射</h2><ul>
<li>namp 正常模式下的递归映射</li>
<li>vmap Visual模式</li>
<li>imap 插入模式</li>
<li>cmap 命令模式</li>
<li>nnoremap 正常模式下的非递归映射</li>
<li>vnoremap Visual模式下的非递归映射</li>
<li>inoremap 插入模式下的非递归映射</li>
<li>cnoremap 命令模式下的非递归映射</li>
</ul>
<h2 id="其他vim使用事项"><a href="#其他vim使用事项" class="headerlink" title="其他vim使用事项"></a>其他vim使用事项</h2><h3 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h3><p>tty1-tty6默认不支持中文编码　　<br>修改终端接口语系　<br>LANG=zh_CN.big5</p>
<h3 id="dos和UNIX转换"><a href="#dos和UNIX转换" class="headerlink" title="dos和UNIX转换"></a>dos和UNIX转换</h3><p>ubuntu  don’t have dos2UNIX or UNIX2dos  but is has tofrodos</p>
<p>frodos filename<br>todos filename<br>    -b .bak<br>    -v ver</p>
<h3 id="语系编码转换"><a href="#语系编码转换" class="headerlink" title="语系编码转换"></a>语系编码转换</h3><p>iconv -o保留原文件，-o加新文件名<br>iconv -f big5 -t utf8 filename -o filename</p>
<h2 id="问题-vim中设置了setexpand不起作用"><a href="#问题-vim中设置了setexpand不起作用" class="headerlink" title="问题-vim中设置了setexpand不起作用"></a>问题-vim中设置了setexpand不起作用</h2><p>~/.vimrc中进行了如下设置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">set expandtab</span><br><span class="line">set tabstop=4</span><br><span class="line">set shiftwidth=4</span><br><span class="line">set softtabstop=4</span><br></pre></td></tr></table></figure></p>
<p>但是发现在markdown甚至~/.vimrc中expandtab都没有设置成功，但是py文件是正常的，后来发现是多加了一个set paste的原因，把它删了就好了。</p>
<h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><p>因为set paste覆盖了set expandtab。</p>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>删除set paste行。</p>
<h2 id="我的vimrc文件"><a href="#我的vimrc文件" class="headerlink" title="我的vimrc文件"></a>我的vimrc文件</h2><p>vimrc文件如下，<a href="https://github.com/mxxhcm/code/blob/master/shell/vimrc" target="_blank" rel="noopener">代码地址</a><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 使用四个空格代替tab键</span><br><span class="line">set expandtab</span><br><span class="line">set tabstop=4</span><br><span class="line">set shiftwidth=4</span><br><span class="line">set softtabstop=4	</span><br><span class="line">			</span><br><span class="line">" 打开文件类型检测</span><br><span class="line">filetype on</span><br><span class="line">" 根据不同的文件类型加载插件</span><br><span class="line">filetype plugin on</span><br><span class="line">set ignorecase</span><br><span class="line"></span><br><span class="line">" 定义前缀键</span><br><span class="line">" let mappleader=";"</span><br><span class="line"></span><br><span class="line">" 设置ctrl+a全选，ctrl+c复制，;y粘贴</span><br><span class="line">vnoremap ; "+</span><br><span class="line">nnoremap ; "+</span><br><span class="line">nmap ;p "+p</span><br><span class="line">nnoremap &lt;C-C&gt; "+y</span><br><span class="line">vnoremap &lt;C-C&gt; "+y</span><br><span class="line">nnoremap &lt;C-A&gt; ggVG</span><br><span class="line">vnoremap &lt;C-A&gt; ggVG</span><br><span class="line"></span><br><span class="line">" 删除#号开头</span><br><span class="line">nnoremap ;d3 :g/^#.*$/d&lt;CR&gt;</span><br><span class="line">nnoremap ;d# :g/^#.*$/d&lt;CR&gt;</span><br><span class="line">" 删除空行</span><br><span class="line">nnoremap ;ds :g/^\s*$/d&lt;CR&gt;</span><br><span class="line">" 删除以tab开头的tab</span><br><span class="line">nnoremap ;rt :0,$s/^\t//g&lt;CR&gt;</span><br><span class="line">" 用\^代替^</span><br><span class="line">nnoremap ;r6 :0,$s/\^/\\^/g&lt;CR&gt;</span><br><span class="line">nnoremap ;r^ :0,$s/\^/\\^/g&lt;CR&gt;</span><br><span class="line">" 用\\\\代替\\</span><br><span class="line">nnoremap ;r/ :0,$s/\\\\/\\\\\\\\/g&lt;CR&gt;</span><br><span class="line">nnoremap ;r? :0,$s/\\\\/\\\\\\\\/g&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">" 给选中行加注释</span><br><span class="line">" cnoremap &lt;C-#&gt; s/^/# /g&lt;CR&gt;</span><br><span class="line">nmap ;ic :s/^/# /g&lt;CR&gt;</span><br><span class="line">vmap ;ic :s/^/# /g&lt;CR&gt;</span><br><span class="line">nmap ;dc :s/^# //g&lt;CR&gt;</span><br><span class="line">vmap ;dc :s/^# //g&lt;CR&gt;</span><br><span class="line">"vmap &lt;C-#&gt; :s/^/#/g&lt;CR&gt;</span><br><span class="line">"nmap &lt;C-#&gt; :s/^/#/g&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">""" 状态栏设置</span><br><span class="line">" 总是显示状态栏</span><br><span class="line">set laststatus=2</span><br><span class="line">" 状态信息</span><br><span class="line">set statusline=%f%m%r%h%w\ %=#%n\ [%&#123;&amp;fileformat&#125;:%&#123;(&amp;fenc==\"\"?&amp;enc:&amp;fenc).((exists(\"\+bomb\")\ &amp;&amp;\ &amp;bomb)?\"\+B\":\"\").\"\"&#125;:%&#123;strlen(&amp;ft)?&amp;ft:'**'&#125;]\ [%c,%l/%L]\ %p%%</span><br><span class="line"></span><br><span class="line">"""光标设置</span><br><span class="line">" 设置显示光标当前位置</span><br><span class="line">set ruler</span><br><span class="line"></span><br><span class="line">" 开启行号显示</span><br><span class="line">set number</span><br><span class="line">" 高亮显示当前行/列</span><br><span class="line">set cursorline</span><br><span class="line">" set cursorcolumn</span><br><span class="line">" 高亮显示搜索结果</span><br><span class="line">set hlsearch</span><br><span class="line">" 显示文件名</span><br><span class="line"></span><br><span class="line">" 开启语法高亮</span><br><span class="line">syntax enable</span><br><span class="line">" 允许用指定语法高亮配色方案替换默认方案</span><br><span class="line">syntax on</span><br><span class="line">" 将制表符扩展为空格</span><br><span class="line">" 设置编辑时制表符占用空格数</span><br><span class="line">" 设置格式化时制表符占用空格数</span><br><span class="line">" 让 vim 把连续数量的空格视为一个制表符</span><br><span class="line">set autoindent</span><br></pre></td></tr></table></figure></p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>0.<a href="https://github.com/yangyangwithgnu/use_vim_as_ide" target="_blank" rel="noopener">https://github.com/yangyangwithgnu/use_vim_as_ide</a><br>1.<a href="https://askubuntu.com/a/1027647" target="_blank" rel="noopener">https://askubuntu.com/a/1027647</a><br>2.<a href="https://www.zhihu.com/question/19863631/answer/89354508" target="_blank" rel="noopener">https://www.zhihu.com/question/19863631/answer/89354508</a><br>3.鸟哥的LINUX私房菜<br>4.<a href="http://vimdoc.sourceforge.net/htmldoc/change.html#registers" target="_blank" rel="noopener">http://vimdoc.sourceforge.net/htmldoc/change.html#registers</a><br>5.<a href="https://stackoverflow.com/a/11489440" target="_blank" rel="noopener">https://stackoverflow.com/a/11489440</a><br>6.<a href="https://www.brianstorti.com/vim-registers/" target="_blank" rel="noopener">https://www.brianstorti.com/vim-registers/</a><br>7.<a href="http://landcareweb.com/questions/3593/ru-he-zai-vimzhong-yong-jiu-xian-shi-dang-qian-wen-jian-de-lu-jing" target="_blank" rel="noopener">http://landcareweb.com/questions/3593/ru-he-zai-vimzhong-yong-jiu-xian-shi-dang-qian-wen-jian-de-lu-jing</a><br>8.<a href="https://forum.ubuntu.org.cn/viewtopic.php?t=319408" target="_blank" rel="noopener">https://forum.ubuntu.org.cn/viewtopic.php?t=319408</a><br>9.<a href="https://stackoverflow.com/a/1676659/8939281" target="_blank" rel="noopener">https://stackoverflow.com/a/1676659/8939281</a><op selected lines><br>10.<a href="https://vi.stackexchange.com/questions/9028/what-is-the-command-for-select-all-in-vim-and-vsvim/9029" target="_blank" rel="noopener">https://vi.stackexchange.com/questions/9028/what-is-the-command-for-select-all-in-vim-and-vsvim/9029</a><ctrl a><br>11.<a href="https://stackoverflow.com/a/37962622/8939281" target="_blank" rel="noopener">https://stackoverflow.com/a/37962622/8939281</a><set paste><br>12.<a href="https://vim.fandom.com/wiki/Search_and_replace_in_a_visual_selection" target="_blank" rel="noopener">https://vim.fandom.com/wiki/Search_and_replace_in_a_visual_selection</a><br>13.<a href="https://stackoverflow.com/questions/71323/how-to-replace-a-character-by-a-newline-in-vim/71334" target="_blank" rel="noopener">https://stackoverflow.com/questions/71323/how-to-replace-a-character-by-a-newline-in-vim/71334</a>&lt;用newline替换逗号&gt;</set></ctrl></op></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/favicon.jpg" alt="马晓鑫爱马荟荟">
            
              <p class="site-author-name" itemprop="name">马晓鑫爱马荟荟</p>
              <p class="site-description motion-element" itemprop="description">记录硕士三年自己的积累</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">141</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">121</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/mxxhcm" title="GitHub &rarr; https://github.com/mxxhcm" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:mxxhcm@gmail.com" title="E-Mail &rarr; mailto:mxxhcm@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">马晓鑫爱马荟荟</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.6.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script src="/js/src/utils.js?v=6.6.0"></script>

  <script src="/js/src/motion.js?v=6.6.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.6.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.6.0"></script>



  

  


  <script src="/js/src/bootstrap.js?v=6.6.0"></script>



  



  






<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    

    







  





  

  

  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        
      
    
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<style>
.MathJax_Display {
    overflow: auto hidden;
}
</style>

    
  


  
  

  

  

  

  

  

  

</body>
</html>
