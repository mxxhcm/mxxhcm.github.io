<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
































<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.6.0" rel="stylesheet" type="text/css">



  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.jpg?v=6.6.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.jpg?v=6.6.0">










<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.6.0',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="static关键字[4]  隐藏全局变量和函数的作用域。这一个已经被标准抛弃了。 修饰局部变量，改变变量的生命周期。 修饰类的数据成员和成员函数。  const关键字  顶层const和底层const。主要是常量指针和常量引用。 const修饰形参和const修饰返回值。 和类相关。 修饰成员变量，必须使用初始化列表修饰。 const修饰成员函数。 修饰类对象，必须调用const类型的函数。 co">
<meta name="keywords" content="面试">
<meta property="og:type" content="article">
<meta property="og:title" content="C 常见面试题">
<meta property="og:url" content="http://mxxhcm.github.io/2020/02/29/C-常见面试题/index.html">
<meta property="og:site_name" content="mxxhcm&#39;s blog">
<meta property="og:description" content="static关键字[4]  隐藏全局变量和函数的作用域。这一个已经被标准抛弃了。 修饰局部变量，改变变量的生命周期。 修饰类的数据成员和成员函数。  const关键字  顶层const和底层const。主要是常量指针和常量引用。 const修饰形参和const修饰返回值。 和类相关。 修饰成员变量，必须使用初始化列表修饰。 const修饰成员函数。 修饰类对象，必须调用const类型的函数。 co">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-03-11T14:23:42.548Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="C 常见面试题">
<meta name="twitter:description" content="static关键字[4]  隐藏全局变量和函数的作用域。这一个已经被标准抛弃了。 修饰局部变量，改变变量的生命周期。 修饰类的数据成员和成员函数。  const关键字  顶层const和底层const。主要是常量指针和常量引用。 const修饰形参和const修饰返回值。 和类相关。 修饰成员变量，必须使用初始化列表修饰。 const修饰成员函数。 修饰类对象，必须调用const类型的函数。 co">



  <link rel="alternate" href="/atom.xml" title="mxxhcm's blog" type="application/atom+xml">




  <link rel="canonical" href="http://mxxhcm.github.io/2020/02/29/C-常见面试题/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>C 常见面试题 | mxxhcm's blog</title>
  












  <noscript>
  <style>
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion .logo-line-before i { left: initial; }
    .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">mxxhcm's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mxxhcm.github.io/2020/02/29/C-常见面试题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马晓鑫爱马荟荟">
      <meta itemprop="description" content="记录硕士三年自己的积累">
      <meta itemprop="image" content="/images/favicon.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mxxhcm's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">C 常见面试题

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-02-29 21:43:10" itemprop="dateCreated datePublished" datetime="2020-02-29T21:43:10+08:00">2020-02-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-03-11 22:23:42" itemprop="dateModified" datetime="2020-03-11T22:23:42+08:00">2020-03-11</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/面试/" itemprop="url" rel="index"><span itemprop="name">面试</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/02/29/C-常见面试题/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count gitment-comments-count" data-xid="/2020/02/29/C-常见面试题/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="static关键字-4">static关键字[4]</h2>
<ol>
<li>隐藏全局变量和函数的作用域。这一个已经被标准抛弃了。</li>
<li>修饰局部变量，改变变量的生命周期。</li>
<li>修饰类的数据成员和成员函数。</li>
</ol>
<h2 id="const关键字">const关键字</h2>
<ol>
<li>顶层const和底层const。主要是常量指针和常量引用。</li>
<li>const修饰形参和const修饰返回值。</li>
<li>和类相关。<br>
修饰成员变量，必须使用初始化列表修饰。<br>
const修饰成员函数。<br>
修饰类对象，必须调用const类型的函数。<br>
const可以用来区分重载。</li>
</ol>
<h2 id="const和宏常量的区别">const和宏常量的区别</h2>
<p>const常量有数据类型，而宏常量没有。编译器可以对前者进行安全检查，对后者只能进行字符替换。</p>
<h2 id="inline-10-11">inline[10,11]</h2>
<ol>
<li>为什么引入inline？避免函数调用的开销，比如说参数入栈，出栈。</li>
<li>inline只适合函数体代码简单的函数使用，不能有循环等语句。适用于规模小，流程直接，频繁调用。</li>
<li>用inline声明的函数并不一定会inline，取决于编译器。</li>
<li>建议inline函数的定义放在头文件中。</li>
<li>类内定义的函数是隐式的inline函数。</li>
<li>inline关键字应该和实现放在一块，只在声明中说明没有用。</li>
<li>慎用内联。</li>
</ol>
<h2 id="inline和宏函数的区别">inline和宏函数的区别</h2>
<ol>
<li>宏函数是由预处理器对宏进行替换，而内联函数是通过编译器控制的。</li>
<li>内联函数是函数，会进行参数检查。只不过在调用的时候像宏一样展开，减少函数调用。</li>
<li>宏是不安全的，而内联是安全的。</li>
</ol>
<h2 id="指针函数和函数指针">指针函数和函数指针</h2>
<p>指针函数是一个函数，返回类型是一个指针而已。<br>
函数指针是一个指针，是一个指向函数的指针。</p>
<h2 id="数组和指针">数组和指针</h2>
<ol>
<li>数组是一块连续存放的空间，指针是一个地址，指针变量是一个变量。</li>
<li>初始化。</li>
<li>大小。</li>
<li>指针数组和数组指针。</li>
<li>作为函数参数。</li>
</ol>
<h2 id="指针和引用的区别">指针和引用的区别</h2>
<ol>
<li>可以定义指针的指针，但是不能（直接）定义引用的引用（模板参数推导的时候可以）。</li>
<li>指针可以被重新赋值。而引用一旦被绑定就不能修改。</li>
<li>指针可以为空，引用不能。</li>
<li>指针本身是一个变量，有它自己的内存地址，以及在栈上的大小。而引用的内存地址和它绑定的对象一样，看起来是一样的，但是实际上是不一样的（编译器做了一些操作），可以把引用当做它引用对象的别名。</li>
<li>指针必须被解引用才能使用，而引用不需要。</li>
<li>指针变量可以进行运算，而引用不能。</li>
<li>const引用可以指向字面值常量，而指针不能（除了字符数组）。</li>
<li>指针本身可以是const的，而引用不能。底层const和顶层const。</li>
</ol>
<h2 id="vector扩容">vector扩容</h2>
<h3 id="为什么不是常数">为什么不是常数</h3>
<p>成倍增长可以保持常数时间复杂度的插入操作。<br>
常数增长的插入时间复杂度是O(n)。<br>
为什么？假设要插入n个元素，成倍增长的倍数是p，常数增长的大小是q。<br>
成倍增长总共的复制开销：<br>
$$ \sum_{i=1}^{log_p^n } p^i $$<br>
常数增长总共的复制开销：<br>
$$\sum_{i=1}^{n/q} qi $$</p>
<h3 id="为什么是1-5或者2">为什么是1.5或者2</h3>
<p>为什么是1.5？可以复用之间的空间。<br>
为什么是2？实现简单。</p>
<h2 id="strlen和sizeof的区别">strlen和sizeof的区别</h2>
<ol>
<li>sizeof是运算符。它的值在编译时就已经确定了，所以不能用来获得动态分配的内存空间的大小。</li>
<li>strlen是函数，在运行时计算的。</li>
<li>静态数组传递给strlen就会退化成指针，在传递给sizeof的时候还是数组。strlen是数组中内容的长度，而sizeof是静态数组声明时的大小。</li>
<li>动态数组(malloc)分配的，strlen能获得数组中内容的大小，而sizeof只能获得指针的大小。</li>
<li>strlen不会计算空字符，而sizeof会。</li>
</ol>
<h2 id="override和overload">override和overload</h2>
<p>只有虚函数能被ovrride。<br>
override是用来实现多态的，函数的参数类型和声明和可以父类中完全一样。<br>
而overload中，函数的参数列表必须不同。它的作用我觉得可能是方便记忆，方便理解。实现同一个功能的函数具有同样的名字。</p>
<h2 id="空类的大小为1字节">空类的大小为1字节</h2>
<p>标准规定空类的大小为1，因为两个不同的对象需要不同的地址表示。标准规定完整对象的大小大于0。</p>
<h2 id="虚函数和虚函数表-12">虚函数和虚函数表[12]</h2>
<h2 id="虚析构函数">虚析构函数</h2>
<p>一个基类总是需要虚析构函数。</p>
<h2 id="虚继承">虚继承</h2>
<p>为什么要有虚继承？<br>
派生类可能多次继承同一个类。默认情况下，派生类会含有继承链上每个类对应的子部分，如果某个类在派生过程中出现了多次，派生类中将包含该类的多个子对象。比如iostream之类的类，肯定不行。<br>
声明成虚继承的继承体系中，无论虚基类在继承体系中出现了多少次，派生类中都只含有一个共享的虚基类子对象。</p>
<h2 id="多态">多态</h2>
<p>C++的多态分为两种，一种是静态多态，通过函数重载和模板实现。<br>
一种是动态多态，虚函数实现。</p>
<p>C实现C++的多态[5,6]。</p>
<h2 id="rtti-13">RTTI[13]</h2>
<p>RTTI是运行时类型识别。</p>
<h2 id="cast"><code>cast</code></h2>
<h3 id="static-cast"><code>static_cast</code></h3>
<p>和C中提供的强制类型转换一样。</p>
<h3 id="const-cast"><code>const_cast</code></h3>
<p>只能改变运算对象的底层const，可能去掉也可以添加底层const。</p>
<h3 id="reinterprect-cast"><code>reinterprect_cast</code></h3>
<p>为运算对象的bit mode提供新的解释。比如可以把一个整数解释成字符串。</p>
<h3 id="dynamic-cast"><code>dynamic_cast</code></h3>
<p><code>dynamic_cast</code>实现安全的动态转换。<br>
它可以可以安全实现的执行downcast，但是需要是含有虚函数的类。</p>
<h2 id="智能指针">智能指针</h2>
<h3 id="shared-ptr实现">shared_ptr实现</h3>
<p>引用计数放在指针成员中。<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">shared_ptr</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">shared_ptr</span>():pd(<span class="literal">nullptr</span>)</span><br><span class="line">    &#123; &#125;</span><br><span class="line">    <span class="built_in">shared_ptr</span>(T *data): pd(data), <span class="keyword">new</span> <span class="keyword">size_t</span>(<span class="number">1</span>)</span><br><span class="line">    &#123; &#125; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 拷贝构造函数</span></span><br><span class="line">    <span class="keyword">explicit</span> <span class="built_in">shared_ptr</span>(<span class="keyword">const</span> <span class="built_in">shared_ptr</span>&lt;T&gt; &amp;rhs)</span><br><span class="line">    &#123;</span><br><span class="line">        pd = rhs.pd; </span><br><span class="line">        count = rhs.count;</span><br><span class="line"></span><br><span class="line">        ++*rhs.count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">shared_ptr</span>&lt;T&gt;&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="built_in">shared_ptr</span>&lt;T&gt; &amp;rhs)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(count &amp;&amp; --*count == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">delete</span> pd;</span><br><span class="line">            <span class="keyword">delete</span> count;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        pd = rhs.pd;</span><br><span class="line">        count = rhs.count;</span><br><span class="line">        <span class="keyword">if</span>(rhs.count)</span><br><span class="line">            ++*count;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">shared_ptr</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(count &amp;&amp; --*count == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">delete</span> pd; </span><br><span class="line">            <span class="keyword">delete</span> count;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    T&amp; <span class="keyword">operator</span>*() </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> *p;</span><br><span class="line">    &#125;</span><br><span class="line">    T&amp; <span class="keyword">operator</span>*() <span class="keyword">const</span> </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> *p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">    T *pd;</span><br><span class="line">    <span class="keyword">size_t</span> *count;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h3 id="unique-ptr实现">unique_ptr实现</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">unique_ptr</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">unique_ptr</span>():p(<span class="literal">nullptr</span>)</span><br><span class="line">    &#123; &#125;</span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    explicit unique_ptr(T *data): p(data)</span><br><span class="line">    &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//拷贝构造</span></span><br><span class="line">    <span class="built_in">unique_ptr</span>(<span class="keyword">const</span> <span class="built_in">unique_ptr</span>&amp;) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//拷贝赋值</span></span><br><span class="line">    <span class="built_in">unique_ptr</span>&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="built_in">unique_ptr</span> &amp;rhs) = <span class="keyword">delete</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//析构</span></span><br><span class="line">    ~<span class="built_in">unique_ptr</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(p)</span><br><span class="line">            <span class="keyword">delete</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">release</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        T *q = p;</span><br><span class="line"></span><br><span class="line">        p = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span> q; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">reset</span><span class="params">(T *data)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(p)</span><br><span class="line">            <span class="keyword">delete</span> p;</span><br><span class="line">        p = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    T&amp; <span class="keyword">operator</span>*() &#123;<span class="keyword">return</span> *p;&#125;</span><br><span class="line">    <span class="comment">//指针本身是个常量</span></span><br><span class="line">    <span class="comment">// const 修饰this指针，常量指针，指向不能改变，指针指向的值可以改变。为什么这里返回值不是常量。这个指针可不可以指向常量对象，可以。</span></span><br><span class="line">    T&amp; <span class="keyword">operator</span>*() <span class="keyword">const</span> &#123;<span class="keyword">return</span> *p&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    T *p;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="shared-ptr和unique-ptr">shared_ptr和unique_ptr</h3>
<ol>
<li>它们管理保存指针的策略，前者可以共享指针，而后者则独占指针。</li>
<li>它们允许用户重载deleter的方式。只要在创建或者reset指针时给shared_ptr提供一个deleter即可。但是，deleter是unique_ptr对象的一部分。<br>
shared_ptr的deleter是运行时绑定，所以需要使用指针，开销大，但是用户重载更方便。它的执行方式可能如下：<code>del?del(p): delete p</code>。<br>
而unique_ptr的deleter是编译时绑定，避免了间接调用deleter的运行时开销。</li>
<li>shared_ptr不能动态管理数组，而unique_ptr可以动态管理数组。</li>
</ol>
<h3 id="智能指针和数组">智能指针和数组</h3>
<ol>
<li>shared_ptr不支持管理动态数组。需要提供自定义的delete（只要是一个可调用对象就行）。</li>
<li>unique_ptr支持动态管理数组，需要在类型后面加上一对方括号。当unique_ptr销毁时，会自动使用delete[]。不能使用成员访问运算符（点和箭头），但是可以使用下标访问运算符。</li>
</ol>
<h3 id="weak-ptr">weak_ptr</h3>
<p><code>weak_ptr</code>可以解决循环引用问题，比如双向链表中的循环引用。[9]</p>
<h2 id="类模板和函数模板的区别">类模板和函数模板的区别</h2>
<p>类模板用来生成类，函数模板的参数是由编译器推导的，而类模板的参数必须指定。</p>
<h2 id="模板特化和偏特化">模板特化和偏特化</h2>
<p>模板特化的本质是模板实例化，定义特化版本时，我们实际上是接替了编译器的工作。<br>
函数模板只能全特化。<br>
类模板可以全特化也可以偏特化。偏特化既有类型的偏特化，也有个数的偏特化。</p>
<h2 id="为什么模板的声明和实现要写在一起而类的实现和声明要分开-7">为什么模板的声明和实现要写在一起而类的实现和声明要分开[7]</h2>
<p>C++ 采用分离式编译。可以不用将所有的代码写在一个文件中，可以将他们分解为更小，更好管理的模块，可以独立的修改和编译这些模板。当我们改变这些模板时，只需要重新的编译它，并重新链接，不必重新编译其他文件。这一功能主要是通过链接器实现的。更多的内容可以查看CSAPP上介绍的。<br>
对于普通对象和函数而言，类的声明写在头文件中，实现写在cpp文件中。cpp文件是可以单独被编译的。<br>
但是模板函数的实现并不能直接编译成二进制代码，因为只有在真正使用模板的时候，才会知道模板参数的值。编译器和链接器的某一个部分，可以去掉模板的多重定义。</p>
<h2 id="模板元编程">模板元编程</h2>
<h2 id="哈希表">哈希表</h2>
<p>哈希表冲突严重的话会退化成单链表。这个时候哈希表的各种操作的时间复杂度都提升了一个量级，会占用大量CPU时间，降低系统响应时间，可以用来做DDos攻击。<br>
解决冲突的方法：</p>
<h2 id="malloc和new">malloc和new</h2>
<h3 id="new">new</h3>
<p>new一个空数组是和合法的，但是不能解引用！！！可以把它当做尾后迭代器来使用。</p>
<h3 id="malloc-calloc和realloc">malloc, calloc和realloc</h3>
<ol>
<li>malloc分配指定字节的数组，初值不定。</li>
<li>calloc分配nobj个size字节的对象，每一位都初始化为0。</li>
<li>realloc在以前分配的区域的基础上扩大为新的容量。如果原来的区域后面有足够大的空间，就在那里，否则复制到一个新的空间中。</li>
</ol>
<h3 id="ptmalloc实现">ptmalloc实现</h3>
<h3 id="placement-new">placement new</h3>
<p>重载operator new函数。placement new可以为分配函数提供额外的信息。<br>
Placement new允许我们将对象构造在已经分配好的内存上，分配好的内存不一定是operator new分配的内存，甚至可以是静态内存。<br>
allocator的内存分配和构造函数的调用是分开进行的，通过两个函数allocate和construct。<br>
对应于new，可以使用operator new进行空间分配，使用placement new调用构造函数。</p>
<h2 id="对齐">对齐</h2>
<p>gcc 默认对齐是4字节对齐。在结构体中要注意。<br>
malloc是16字节对齐。</p>
<h2 id="cmake和makefile">cmake和makefile</h2>
<p>make用来执行makefile，调用makefile中用户指定的命令进行编译和链接。<br>
makefile是文件，包含了怎么样进行编译和链接。<br>
makefile可以手动写，但是它不跨平台（即不同平台的makefile不同），而且工程大很麻烦。<br>
cmake可以根据CMakeList.txt跨平台自动生成makefile。<br>
CMakeLists.txt是我们自己写的。</p>
<h2 id="void">void *</h2>
<p>可以接收任意类型的赋值，无需强制类型转换。<br>
经过类型转换可以赋值给任意类型的变量。</p>
<h2 id="lambda表达式">lambda表达式</h2>
<ol>
<li>总共有四种可调用对象，函数，函数指针，重载了函数运算符的类和lambda表达式。</li>
<li>lambda表达式的声明。<br>
auto f = [local variable](int x){return a;};</li>
<li>对于那种只在一两个地方使用的简单操作，lambda表达式是有用的。当在多个地方使用的话，通过应该使用一个函数，或者需要很多语句的话，也是函数比较好。</li>
<li>capture list中引用和值的作用。</li>
<li>可以和STL中的算法进行交互。</li>
</ol>
<h2 id="面向对象的几大原则">面向对象的几大原则</h2>
<ol>
<li>单一职责原则。解耦，增强内聚，即高内聚低耦合。</li>
<li>开放封闭原则。对扩展开放，对修改关闭。</li>
<li>里氏替换原则。子类可以替换父类。</li>
<li>依赖倒置原则。依赖于抽象而不是依赖细节。</li>
<li>接口分离原则。不需要让客户程序依赖它们不需要的方法。一个接口应该只提供一种对外的功能。</li>
<li>合成复用原则。</li>
<li>迪米特原则。</li>
</ol>
<h2 id="设计模式">设计模式</h2>
<ol>
<li>单例模式</li>
<li>reactor模式</li>
</ol>
<h2 id="move语义">move语义</h2>
<h2 id="分配器">分配器</h2>
<h2 id="虚拟内存">虚拟内存</h2>
<h2 id="数据结构相关">数据结构相关</h2>
<h3 id="堆">堆</h3>
<p><strong>二叉堆是完全二叉树，一般可以用数组实现</strong>。最大堆就是每个根节点的值大于其子节点的值，最小堆就是每个根节点的值小于其子节点的值。</p>
<h4 id="sgi-stl-heap相关的算法">SGI STL heap相关的算法</h4>
<ul>
<li>push_heap，将新的节点插在最后一个位置。</li>
<li>pop_heap，弹出最大堆的堆顶元素。（或者就是heapify）</li>
<li>sort_heap，就是排序。</li>
<li>make_heap，创建一个最大堆。</li>
</ul>
<h4 id="优先队列">优先队列</h4>
<p>底层实现是二叉堆，总是弹出key最大的元素。</p>
<h3 id="哈希和哈希表">哈希和哈希表</h3>
<h4 id="什么是哈希">什么是哈希</h4>
<p>哈希：把任意长度的输入，变成固定长度的输出，这个映射的规则就是对应的哈希算法，原始数据映射后的输出叫做哈希值。哈希值存在的目的是加速key-value的查找速度。<br>
哈希常见的几种实现方式：顺序，链式，散列，索引。哈希表是其中的一种。<br>
注意把哈希和哈希表区分开来。</p>
<h4 id="碰撞-冲突">碰撞（冲突）</h4>
<p>什么是碰撞？输入不同的数据得到相同的输出，哈希一定会发生碰撞。</p>
<h4 id="hash">hash</h4>
<h5 id="好的hash要求">好的hash要求</h5>
<ol>
<li>抗碰撞。不同的输入得到相同输出的概率要小。</li>
<li>抗篡改。输入数据的小的变化会得到完全不同的值，输入相同的数据会得到相同的值。（雪崩效应）。</li>
<li>速度要好。哈希算法的效率要高</li>
<li>根据输出不能反推输入。</li>
</ol>
<h5 id="hash的应用">hash的应用</h5>
<ol>
<li>保存密码，保存用户密码的哈希值。（这也是很多地方只能重置密码的原因，因为它们也不知道你的密码。。。）</li>
<li>数据校验。</li>
<li>负载均衡。在服务器扩容时，使用一致性哈希。</li>
</ol>
<h4 id="hashtable">hashtable</h4>
<p>哈希表是用哈希算法实现的表，提供了对任何有名字项的存取和删除操作，也可以查看是一种字典，提供常数时间的读写操作。<br>
哈希表的扩容(rehash)，元素个数比bucket个数多，再打散，把bucket个数增加两倍（接近两倍的质数）。</p>
<h4 id="hashtable碰撞的解决方法">hashtable碰撞的解决方法</h4>
<p>负载系数：元素个数除以表格大小，除了开链法，都要在0,1之间。<br>
<strong>线性探测</strong>：插入的时候，找到一个不可用的位置（被其他值占了），继续找下下一个位置，直到找到一个空位置。查找的时候，如果找到一个和当前搜索的目标不同的值，就继续往下找。删除的话，采用惰性删除，只删除记号，实际操作等到rehash时再进行。<br>
最坏情况下，哈希表退化成链表。<br>
<strong>二次探测</strong>：发生冲突是，而是使用H+n^2的平方寻找可用的位置。</p>
<ol>
<li>对于二次探测，假设表格大小为质数，负载因子为0.5，保持负载因子在0.5以下，超过0.5就rehash，可以保证插入每一个元素的探测次数不多于2。</li>
<li>二次探测本身所需的计算量其实和一次探测差不多。</li>
<li>rehash的时候，必须重新计算表中的每一个元素。</li>
</ol>
<p><strong>开链(seperate chaining)</strong>：在每一个表格中维护一个链表。表格的负载系数会大于1。</p>
<h4 id="hashtable的桶">hashtable的桶</h4>
<p>SGI使用开链法，表格（桶的集合）使用vector（为了动态扩容），而链表使用自定义的结构体。</p>
<ol start="0">
<li>SGI使用bkt_num()获得每个元素应该存放在哪个bucket中，这个函数负责调用hash function取得一个可以执行取模运算的值。为什么不直接使用hash_function，因为有些元素类型无法直接拿来对hashtable的大小进行模运算，这时候需要做一些转换。<br>
开链法没有要求表格的大小为质数，但是SGI依然这么做了，并且准备了28个质数的表，并且提供一个函数去获取最接近并大于某个数的质数。</li>
<li>在创建一个hashtable对象时，首先要进行实例化，指明hashtable的各个模板参数，然后提供参数给构造函数（没有默认构造函数数）。其中有一个参数大小为n，表明要创建的hashtable的桶的个数（它会自动寻找一个接近n的质数）。</li>
<li>插入元素的时候，每插入一个就会判断是否需要resize。这个是一个很常用的操作，插入操作，首先判断需不要扩容，比如vector等。</li>
<li>扩容的原则：元素数量大于bucket的数量就resize。</li>
<li>复制和删除，删除的时候需要对bucket中每一个链表都删除。而复制的时候需要先把原有的给删除掉，然后保留和复制对象至少一样的空间。</li>
<li>hashtable的示例，在新版本的STL中，不能直接使用hashtable，unordered_set和unordered_map都是对hashtable的封装，调用构造函数时传入一个n是桶的数量，这个n必须指定（STL会自动改成比n大的最小质数）。</li>
</ol>
<h4 id="hash函数">hash函数</h4>
<p>STL定义了很多仿函数，都是模板。hash也是一个仿函数，返回size_t类型。对于char, int,等类型，通常就返回原值，而对字符串和string等设计了相应的转换函数，对于浮点数，怎么办，没有说，STL源码剖析的版本没有实现，但是cppreference上说有，应该是新增加的。</p>
<h4 id="其他">其他</h4>
<p>unordered类容器和非ordered类容器最大的区别就是一个是默认有序，一个是默认无序。</p>
<h3 id="树">树</h3>
<p><strong>二叉搜索树</strong>：任何节点的键值一定大于它的左子树中的所有节点，小于右子树中每一个节点的键值。<br>
关联式容器的内部结构是<strong>平衡二叉树</strong>，平衡二叉树有AVL树，红黑树，AA树等。平衡的大概意思就是没有一个节点过深。</p>
<h4 id="avl树">AVL树</h4>
<p>确保整颗树的深度是logn，任何节点的左右子树高度最多相差1。<br>
AVL利用单旋和双旋，可以将所有不平衡的情况转换为平衡的情况。<br>
对于深度最深的节点X，造成节点X不平衡只有四种情况：<br>
插入点在X的左子节点的左子树。<br>
插入点在X的左子节点的右子树。<br>
插入点在X的右子节点的左子树。<br>
插入点在X的右子节点的右子树。<br>
双旋第一步做完，第二步就是单旋了。</p>
<h4 id="红黑树">红黑树</h4>
<p>红黑树需要满足以下规则：</p>
<ol>
<li>所有节点非红即黑。</li>
<li>根节点为黑色。</li>
<li>如果节点为红，子节点必须为黑。</li>
<li>任一节点到叶子节点的任何路径，所包含的黑色节点必须相同。</li>
</ol>
<h2 id="gcc和gdb-14">gcc和gdb[14]</h2>
<p>gcc 常用选项：<br>
-O编译器优化，Og最低等级的优化，On，数字越大优化等级越高。<br>
-Wall发出所有警告<br>
-g产生调试信息<br>
-o指定输出文件。<br>
-E只进行预处理<br>
-S编译到汇编，就是产生汇编代码<br>
-c之编译汇编，不链接，就是产生目标代码<br>
-static禁止使用动态链接库，只链接静态库，编译后可独立执行，不需要动态库，但是得到的可执行目标文件比较大。<br>
-L dir在库文件的搜索列表添加dir目录<br>
-I dir在头文件的搜索列表添加dir目录<br>
-shared</p>
<p>使用gdb调试时，需要使用使用gcc -g选项添加调试信息。</p>
<ul>
<li>gdb program，</li>
<li>gdb program core，用gdb查看core dump文件</li>
<li>gdb program pid，用gdb查看已经开始运行的进程。</li>
</ul>
<p>使用quit或者q退出。</p>
<p>gdb调试选项<br>
help<br>
run，开始调试程序<br>
break，设置断点。<br>
info break，查看断点信息。<br>
watch，为一个表达式设置一个检视点，可以加上-l选项，当监视的变量改变时，就会自动打印。<br>
catch,<br>
list，打印源码展示出指定的函数或者行。<br>
print，打印出表达式的值。<br>
display，每次程序停止的时候打印出<br>
bt，显示程序的调用栈信息。<br>
framen，简要查看第n帧的信息。<br>
info frame，详细查看当前帧的信息<br>
info registers，查看寄存器<br>
info args，查看当前帧的参数。<br>
info locals，查看当前帧中的局部变量。<br>
continue<br>
step</p>
<h2 id="移动语义和右值引用-16">移动语义和右值引用[16]</h2>
<p>移动语义，是为了避免无用的复制开销。右值引用的出现，让移动语义变得可能。将指针指向的内存直接拿过来使用。<br>
Move semantics is a new way of moving resources around in an optimal way by avoiding unnecessary copies of temporary objects, based on rvalue references. In my opinion, the best way to understand what move semantics is about is to build a wrapper class around a dynamic resource (i.e. a dynamically allocated pointer) and keep track of it as it moves in and out functions. Keep in mind however that move semantics does not apply only to classes!</p>
<h2 id="参考文献">参考文献</h2>
<p>1.<a href="https://stackoverflow.com/questions/57483/what-are-the-differences-between-a-pointer-variable-and-a-reference-variable-in" target="_blank" rel="noopener">https://stackoverflow.com/questions/57483/what-are-the-differences-between-a-pointer-variable-and-a-reference-variable-in</a><br>
2.<a href="https://blog.csdn.net/dengheCSDN/article/details/78985684" target="_blank" rel="noopener">https://blog.csdn.net/dengheCSDN/article/details/78985684</a><br>
3.<a href="https://www.cnblogs.com/carekee/articles/1630789.html" target="_blank" rel="noopener">https://www.cnblogs.com/carekee/articles/1630789.html</a><br>
4.<a href="https://stackoverflow.com/a/943303/8939281" target="_blank" rel="noopener">https://stackoverflow.com/a/943303/8939281</a><br>
5.<a href="https://stackoverflow.com/questions/524033/how-can-i-simulate-oo-style-polymorphism-in-c" target="_blank" rel="noopener">https://stackoverflow.com/questions/524033/how-can-i-simulate-oo-style-polymorphism-in-c</a><br>
6.<a href="https://blog.csdn.net/dumpling5232/article/details/52632060" target="_blank" rel="noopener">https://blog.csdn.net/dumpling5232/article/details/52632060</a><br>
7.<a href="https://blog.csdn.net/uestclr/article/details/51372780" target="_blank" rel="noopener">https://blog.csdn.net/uestclr/article/details/51372780</a><br>
8.<a href="https://stackoverflow.com/questions/10068653/separate-compilation-in-c" target="_blank" rel="noopener">https://stackoverflow.com/questions/10068653/separate-compilation-in-c</a><br>
9.<a href="https://blog.csdn.net/qq_34992845/article/details/69218843" target="_blank" rel="noopener">https://blog.csdn.net/qq_34992845/article/details/69218843</a><br>
10.<a href="https://www.cnblogs.com/fnlingnzb-learner/p/6423917.html" target="_blank" rel="noopener">https://www.cnblogs.com/fnlingnzb-learner/p/6423917.html</a><br>
11.<a href="https://isocpp.org/wiki/faq/inline-functions" target="_blank" rel="noopener">https://isocpp.org/wiki/faq/inline-functions</a><br>
12.<a href="https://isocpp.org/wiki/faq/virtual-functions" target="_blank" rel="noopener">https://isocpp.org/wiki/faq/virtual-functions</a><br>
13.<a href="https://www.cnblogs.com/findumars/p/6358194.html" target="_blank" rel="noopener">https://www.cnblogs.com/findumars/p/6358194.html</a><br>
14.<a href="https://blog.csdn.net/kikajack/article/details/92829582" target="_blank" rel="noopener">https://blog.csdn.net/kikajack/article/details/92829582</a><br>
15.<a href="https://en.cppreference.com/w/cpp/utility/hash" target="_blank" rel="noopener">https://en.cppreference.com/w/cpp/utility/hash</a><br>
16.<a href="https://www.internalpointers.com/post/c-rvalue-references-and-move-semantics-beginners" target="_blank" rel="noopener">https://www.internalpointers.com/post/c-rvalue-references-and-move-semantics-beginners</a></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/面试/" rel="tag"># 面试</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/02/29/UNIX-daemon/" rel="next" title="UNIX daemon">
                <i class="fa fa-chevron-left"></i> UNIX daemon
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/02/29/OS-常见面试题目/" rel="prev" title="OS 常见面试题目">
                OS 常见面试题目 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      
        <div id="gitment-container"></div>
      
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/favicon.jpg" alt="马晓鑫爱马荟荟">
            
              <p class="site-author-name" itemprop="name">马晓鑫爱马荟荟</p>
              <p class="site-description motion-element" itemprop="description">记录硕士三年自己的积累</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">332</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">25</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">75</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/mxxhcm" title="GitHub &rarr; https://github.com/mxxhcm" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:mxxhcm@gmail.com" title="E-Mail &rarr; mailto:mxxhcm@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#static关键字-4"><span class="nav-number">1.</span> <span class="nav-text">static关键字[4]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#const关键字"><span class="nav-number">2.</span> <span class="nav-text">const关键字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#const和宏常量的区别"><span class="nav-number">3.</span> <span class="nav-text">const和宏常量的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#inline-10-11"><span class="nav-number">4.</span> <span class="nav-text">inline[10,11]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#inline和宏函数的区别"><span class="nav-number">5.</span> <span class="nav-text">inline和宏函数的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指针函数和函数指针"><span class="nav-number">6.</span> <span class="nav-text">指针函数和函数指针</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组和指针"><span class="nav-number">7.</span> <span class="nav-text">数组和指针</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#指针和引用的区别"><span class="nav-number">8.</span> <span class="nav-text">指针和引用的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vector扩容"><span class="nav-number">9.</span> <span class="nav-text">vector扩容</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么不是常数"><span class="nav-number">9.1.</span> <span class="nav-text">为什么不是常数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么是1-5或者2"><span class="nav-number">9.2.</span> <span class="nav-text">为什么是1.5或者2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#strlen和sizeof的区别"><span class="nav-number">10.</span> <span class="nav-text">strlen和sizeof的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#override和overload"><span class="nav-number">11.</span> <span class="nav-text">override和overload</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#空类的大小为1字节"><span class="nav-number">12.</span> <span class="nav-text">空类的大小为1字节</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#虚函数和虚函数表-12"><span class="nav-number">13.</span> <span class="nav-text">虚函数和虚函数表[12]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#虚析构函数"><span class="nav-number">14.</span> <span class="nav-text">虚析构函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#虚继承"><span class="nav-number">15.</span> <span class="nav-text">虚继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多态"><span class="nav-number">16.</span> <span class="nav-text">多态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rtti-13"><span class="nav-number">17.</span> <span class="nav-text">RTTI[13]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cast"><span class="nav-number">18.</span> <span class="nav-text">cast</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#static-cast"><span class="nav-number">18.1.</span> <span class="nav-text">static_cast</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#const-cast"><span class="nav-number">18.2.</span> <span class="nav-text">const_cast</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#reinterprect-cast"><span class="nav-number">18.3.</span> <span class="nav-text">reinterprect_cast</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dynamic-cast"><span class="nav-number">18.4.</span> <span class="nav-text">dynamic_cast</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#智能指针"><span class="nav-number">19.</span> <span class="nav-text">智能指针</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#shared-ptr实现"><span class="nav-number">19.1.</span> <span class="nav-text">shared_ptr实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#unique-ptr实现"><span class="nav-number">19.2.</span> <span class="nav-text">unique_ptr实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shared-ptr和unique-ptr"><span class="nav-number">19.3.</span> <span class="nav-text">shared_ptr和unique_ptr</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#智能指针和数组"><span class="nav-number">19.4.</span> <span class="nav-text">智能指针和数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#weak-ptr"><span class="nav-number">19.5.</span> <span class="nav-text">weak_ptr</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类模板和函数模板的区别"><span class="nav-number">20.</span> <span class="nav-text">类模板和函数模板的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#模板特化和偏特化"><span class="nav-number">21.</span> <span class="nav-text">模板特化和偏特化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#为什么模板的声明和实现要写在一起而类的实现和声明要分开-7"><span class="nav-number">22.</span> <span class="nav-text">为什么模板的声明和实现要写在一起而类的实现和声明要分开[7]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#模板元编程"><span class="nav-number">23.</span> <span class="nav-text">模板元编程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#哈希表"><span class="nav-number">24.</span> <span class="nav-text">哈希表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#malloc和new"><span class="nav-number">25.</span> <span class="nav-text">malloc和new</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#new"><span class="nav-number">25.1.</span> <span class="nav-text">new</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#malloc-calloc和realloc"><span class="nav-number">25.2.</span> <span class="nav-text">malloc, calloc和realloc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ptmalloc实现"><span class="nav-number">25.3.</span> <span class="nav-text">ptmalloc实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#placement-new"><span class="nav-number">25.4.</span> <span class="nav-text">placement new</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对齐"><span class="nav-number">26.</span> <span class="nav-text">对齐</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cmake和makefile"><span class="nav-number">27.</span> <span class="nav-text">cmake和makefile</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#void"><span class="nav-number">28.</span> <span class="nav-text">void *</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lambda表达式"><span class="nav-number">29.</span> <span class="nav-text">lambda表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#面向对象的几大原则"><span class="nav-number">30.</span> <span class="nav-text">面向对象的几大原则</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#设计模式"><span class="nav-number">31.</span> <span class="nav-text">设计模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#move语义"><span class="nav-number">32.</span> <span class="nav-text">move语义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分配器"><span class="nav-number">33.</span> <span class="nav-text">分配器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#虚拟内存"><span class="nav-number">34.</span> <span class="nav-text">虚拟内存</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据结构相关"><span class="nav-number">35.</span> <span class="nav-text">数据结构相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#堆"><span class="nav-number">35.1.</span> <span class="nav-text">堆</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#sgi-stl-heap相关的算法"><span class="nav-number">35.1.1.</span> <span class="nav-text">SGI STL heap相关的算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#优先队列"><span class="nav-number">35.1.2.</span> <span class="nav-text">优先队列</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#哈希和哈希表"><span class="nav-number">35.2.</span> <span class="nav-text">哈希和哈希表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#什么是哈希"><span class="nav-number">35.2.1.</span> <span class="nav-text">什么是哈希</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#碰撞-冲突"><span class="nav-number">35.2.2.</span> <span class="nav-text">碰撞（冲突）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#hash"><span class="nav-number">35.2.3.</span> <span class="nav-text">hash</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#好的hash要求"><span class="nav-number">35.2.3.1.</span> <span class="nav-text">好的hash要求</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#hash的应用"><span class="nav-number">35.2.3.2.</span> <span class="nav-text">hash的应用</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#hashtable"><span class="nav-number">35.2.4.</span> <span class="nav-text">hashtable</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#hashtable碰撞的解决方法"><span class="nav-number">35.2.5.</span> <span class="nav-text">hashtable碰撞的解决方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#hashtable的桶"><span class="nav-number">35.2.6.</span> <span class="nav-text">hashtable的桶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#hash函数"><span class="nav-number">35.2.7.</span> <span class="nav-text">hash函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#其他"><span class="nav-number">35.2.8.</span> <span class="nav-text">其他</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#树"><span class="nav-number">35.3.</span> <span class="nav-text">树</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#avl树"><span class="nav-number">35.3.1.</span> <span class="nav-text">AVL树</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#红黑树"><span class="nav-number">35.3.2.</span> <span class="nav-text">红黑树</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gcc和gdb-14"><span class="nav-number">36.</span> <span class="nav-text">gcc和gdb[14]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#移动语义和右值引用-16"><span class="nav-number">37.</span> <span class="nav-text">移动语义和右值引用[16]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考文献"><span class="nav-number">38.</span> <span class="nav-text">参考文献</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">马晓鑫爱马荟荟</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.6.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script src="/js/src/utils.js?v=6.6.0"></script>

  <script src="/js/src/motion.js?v=6.6.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.6.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.6.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.6.0"></script>
<script src="/js/src/post-details.js?v=6.6.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.6.0"></script>



  



  






<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    

    
      <script>
      function renderGitment(){
        var gitment = new Gitmint({
            id: window.location.pathname,
            owner: 'mxxhcm',
            repo: 'mxxhcm.github.io',
            
            lang: "" || navigator.language || navigator.systemLanguage || navigator.userLanguage,
            
            oauth: {
            
            
                client_secret: '9a33d210d29f526a771d47bff6940b5798b2631f',
            
                client_id: '61a64228cba52787dea0'
            }});
        gitment.render('gitment-container');
      }

      
      renderGitment();
      
      </script>
    







  





  

  

  

  

  
  

  
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<style>
.MathJax_Display {
    overflow: auto hidden;
}
</style>

    
  


  
  

  

  

  

  

  

  

</body>
</html>
