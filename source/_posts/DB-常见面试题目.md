---
title: DB 常见面试题目
date: 2020-03-03 16:41:18
tags:
 - 数据库
categories: 数据库
---


## 概念
**数据模型**由三部分构成：数据结构，数据操作和完整性约束。
关系模型三部分构成：关系数据结构，关系数据操作和关系完整性约束。
关系数据库是以集合论中关系的概念为基础发展起来的。

域：一组具有相同数据类型的值的集合。比如说{男，女｝，自然数等。
n个域的笛卡尔积上的任意一个子集称为这n个域的一个**关系**。当n=1时，称为一元关系，n=2时，称为二元关系。
关系中的每一行对应一个**元组**。
**关系模式**：关系模式是对关系的描述，包括关系名，属性名，属性的长度以及属性之间固有的数据关联关系，关系模式一般简记做关系名和属性名的集合。
关系模式的集合称为**关系数据库模式**，是对数据库中所有数据逻辑结构的描述。


键：能够唯一**标识元组**的属性或者属性组称为关系的键。
候选键：关系中能够起标识作用的键称为候选键。
主键：在一个关系中，如果有多个候选键，选其中的一个键作为主键。
外键：假设关系R的一个或一组属性F，但不是R的键。如果F与基本关系S的主键KS对应，称F是基本关系R的外键。


**完整性约束**：
实体完整性：主键的值不能为空或部分为空。
参照完整性：是对关系中作为外键的值的约束。如果关系R1中属性A是另一个关系R2中的主键，对于关系R1中的任意一个元组在属性A上的值或者为空，或者为R2中某个元组的值。
用户定义的完整性：用户根据需要设计的约束条件，比如成绩不能为负数，输入格式有要求。

数据库的**三级模式结构**，是三个抽象级别，为了实现数据的转换，数据管理系统必须提供两层映射功能，即外模式和模式的映射，模式和内模式的映射。
外模式（用户模式），外模式按用户视图定义数据，能够从模式中导出。
模式（逻辑模式），为了实现数据库数据的共享，进行数据库设计之后，得到的全局性数据逻辑关系的抽象和描写叙述。独立于数据的内模式
内模式（物理模式），用来描述数据在数据库中的存储和存取方式。

在数据库系统中，外模式可以有多个，而模式和内模式只能有一个。

## SQL
在SQL中，关系模式称为基本表。基本表的集合形成数据库模式，对应三级模式结构的模式。
基本表在物理上与存储文件对应，所有存储文件的集合称为物理数据库。
视图构成外模式。

## 事务
什么是事务？
事务是用户定义的一个数据库操作序列，这些操作要么全做，要么全不做，是一个不可分割的工作单位。
事务是恢复和并发控制的基本单位。

### 四个特性
Atom，原子性。要么全不做，要么全做。
Consistency，一致性。事务的执行结果必须是使数据库从一个一致性状态变成另一个一致性状态。
Isolation。并发执行的事务，一个事务的执行不能被其他事务干扰。
Durability。持久性。一个事务一旦提交，它对数据库中的数据的改变就应该是永久性的。

### 事务并发的问题
丢失更新。
不可重复读。
读脏数据。

### 事务的隔离级别
读未提交。
不可重复读。
可重复读。
串行化。


## 索引
是数据库管理系统中一个排序的数据结构，索引的实现通常使用B树或者B+树。

### 索引的优点
加快查找。

### 索引的缺点
耗费时间。
耗费空间。

### 索引的数据结构
为什么不使用hash。hash仅仅能满足=和IN查询，不能使用范围查询，因为hash后的hash值是无序的。
hash值也无法用来用来排序。
hash的冲突。

## B树

## 参考文献
1.https://www.cnblogs.com/wenxiaofei/p/9853682.html
