---
title: C++ template
date: 2019-11-10 12:54:56
tags:
 - template
 - C/C++
categories: C/C++
---


## 模板定义
### 模板参数列表
模板定义以关键字template开始，后跟一个模板参数列表，是一个逗号分隔的一个或者多个模板参数的列表，用`<`和`>`分隔开来。模板参数可以是模板类型参数和非类型模板参数。

#### 模板类型参数
一个模板类型参数表示一个类型，类型参数前需要加上`class`或者`typename`关键字，它们是等价的。

#### 非类型模板参数
而非类型模板参数是一个值，而不是一个类型，通过一个特定的类型名指定非类型参数。

模板参数列表的作用很像函数参数列表。**函数参数列表**定义了若干特定类型的局部变量，但是没有指出如何初始化它们。运行时，需要调用者提供实参来初始化形参。而模板参数表示在类或者函数定义中用到的类型或者值。使用模板时，我们需要显式或者隐式的指定模板实参，将它绑定到模板参数上。

## 模板种类
### 函数模板
调用函数模板时，编译器会用函数实参推断模板实参。

### 类模板
编译器不能为类模板推断模板类型参数，为了使用类模板，必须在模板名后的尖括号提供模板实参列表代替模板参数。

#### 实例化类模板
使用类模板时，需要提供显式模板实参列表，编译器使用这些模板实参进行实例化。

#### 在模板作用域引用模板类型
类模板的名字，比如说Blob，不是一个类型名。类模板用来实例化类型，一个实例化类型是包含模板参数的。


### 模板参数

### 成员模板

#### 普通类的成员模板

#### 类模板的成员模板

### 实例化定义

### 效率和灵活性

## 模板实参推断
### 类型转换和模板类型参数

## 重载与模板

## 可变参数模板

## 模板实例化

## 参考文献
1.《C++ Primer》第五版中文版
